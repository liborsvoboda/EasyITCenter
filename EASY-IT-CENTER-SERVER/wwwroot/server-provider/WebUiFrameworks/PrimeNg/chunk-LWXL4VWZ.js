import{a as Oe}from"./chunk-KL3QZRIM.js";import{c as Me,d as se,f as re,h as oe}from"./chunk-XSSXK7EZ.js";import{a as Ve,b as ae}from"./chunk-QLODAJMV.js";import{a as d,b as Te,g as f,h as we,i as Z,l as Se,n as Pe,q as ke,r as ne,w as Le,x as Ee}from"./chunk-UWMVDULA.js";import{o as ve,p as Ce,t as ie}from"./chunk-N5X6XDRN.js";import{Cc as J,Eb as he,Ec as be,Fb as $,Fc as X,Gb as E,Hb as V,Ib as q,Ic as ee,Jb as O,Jc as xe,Kb as U,Lb as W,Ma as j,Na as ue,Nc as ye,Pc as te,Sa as m,Sb as _e,T as le,Ta as v,Tb as A,Ub as B,V as me,Ya as G,bb as H,da as z,dc as Y,ea as ce,ib as I,jb as _,kb as a,kc as Ie,ma as p,na as h,nb as pe,ob as Q,pc as fe,rb as b,sb as x,tb as T,ua as N,ub as k,va as C,vb as M,vc as ge,xb as L,yb as S,za as de,zb as o}from"./chunk-ZJD4PHQZ.js";import{a as D,b as R}from"./chunk-P2VZOJAX.js";var Fe=["sublist"],Ke=(n,r)=>({"p-submenu-list":n,"p-tieredmenu-root-list":r}),Ae=n=>({"p-menuitem-link":!0,"p-disabled":n}),De=()=>({exact:!1}),Re=(n,r)=>({$implicit:n,hasSubmenu:r});function He(n,r){if(n&1&&T(0,"li",7),n&2){let s=o().$implicit,e=o();pe(e.getItemProp(s,"style")),a("ngClass",e.getSeparatorItemClass(s)),_("id",e.getItemId(s))("data-pc-section","separator")}}function $e(n,r){if(n&1&&T(0,"span",18),n&2){let s=o(4).$implicit,e=o();a("ngClass",e.getItemProp(s,"icon"))("ngStyle",e.getItemProp(s,"iconStyle")),_("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function Be(n,r){if(n&1&&(b(0,"span",19),O(1),x()),n&2){let s=o(4).$implicit,e=o();_("data-pc-section","label"),m(),W(" ",e.getItemLabel(s)," ")}}function Ze(n,r){if(n&1&&T(0,"span",20),n&2){let s=o(4).$implicit,e=o();a("innerHTML",e.getItemLabel(s),j),_("data-pc-section","label")}}function ze(n,r){if(n&1&&(b(0,"span",21),O(1),x()),n&2){let s=o(4).$implicit,e=o();a("ngClass",e.getItemProp(s,"badgeStyleClass")),m(),U(e.getItemProp(s,"badge"))}}function Ne(n,r){n&1&&T(0,"AngleRightIcon",24),n&2&&(a("styleClass","p-submenu-icon"),_("data-pc-section","submenuicon")("aria-hidden",!0))}function je(n,r){}function Ge(n,r){n&1&&I(0,je,0,0,"ng-template",25),n&2&&a("data-pc-section","submenuicon")("aria-hidden",!0)}function Qe(n,r){if(n&1&&(k(0),I(1,Ne,1,3,"AngleRightIcon",22)(2,Ge,1,2,null,23),M()),n&2){let s=o(5);m(),a("ngIf",!s.tieredMenu.submenuIconTemplate),m(),a("ngTemplateOutlet",s.tieredMenu.submenuIconTemplate)}}function qe(n,r){if(n&1&&(b(0,"a",14),I(1,$e,1,5,"span",15)(2,Be,2,2,"span",16)(3,Ze,1,2,"ng-template",null,2,Y)(5,ze,2,2,"span",17)(6,Qe,3,2,"ng-container",10),x()),n&2){let s=q(4),e=o(3).$implicit,t=o();a("target",t.getItemProp(e,"target"))("ngClass",A(12,Ae,t.getItemProp(e,"disabled"))),_("href",t.getItemProp(e,"url"),ue)("aria-hidden",!0)("data-automationid",t.getItemProp(e,"automationId"))("data-pc-section","action")("tabindex",-1),m(),a("ngIf",t.getItemProp(e,"icon")),m(),a("ngIf",t.getItemProp(e,"escape"))("ngIfElse",s),m(3),a("ngIf",t.getItemProp(e,"badge")),m(),a("ngIf",t.isItemGroup(e))}}function Ue(n,r){if(n&1&&T(0,"span",18),n&2){let s=o(4).$implicit,e=o();a("ngClass",e.getItemProp(s,"icon"))("ngStyle",e.getItemProp(s,"iconStyle")),_("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function We(n,r){if(n&1&&(b(0,"span",19),O(1),x()),n&2){let s=o(4).$implicit,e=o();_("data-pc-section","label"),m(),W(" ",e.getItemLabel(s)," ")}}function Ye(n,r){if(n&1&&T(0,"span",20),n&2){let s=o(4).$implicit,e=o();a("innerHTML",e.getItemLabel(s),j),_("data-pc-section","label")}}function Je(n,r){if(n&1&&(b(0,"span",21),O(1),x()),n&2){let s=o(4).$implicit,e=o();a("ngClass",e.getItemProp(s,"badgeStyleClass")),m(),U(e.getItemProp(s,"badge"))}}function Xe(n,r){n&1&&T(0,"AngleRightIcon",24),n&2&&(a("styleClass","p-submenu-icon"),_("data-pc-section","submenuicon")("aria-hidden",!0))}function et(n,r){}function tt(n,r){n&1&&I(0,et,0,0,"ng-template",25),n&2&&a("data-pc-section","submenuicon")("aria-hidden",!0)}function it(n,r){if(n&1&&(k(0),I(1,Xe,1,3,"AngleRightIcon",22)(2,tt,1,2,null,23),M()),n&2){let s=o(5);m(),a("ngIf",!s.tieredMenu.submenuIconTemplate),m(),a("ngTemplateOutlet",s.tieredMenu.submenuIconTemplate)}}function nt(n,r){if(n&1&&(b(0,"a",26),I(1,Ue,1,5,"span",15)(2,We,2,2,"span",16)(3,Ye,1,2,"ng-template",null,2,Y)(5,Je,2,2,"span",17)(6,it,3,2,"ng-container",10),x()),n&2){let s=q(4),e=o(3).$implicit,t=o();a("routerLink",t.getItemProp(e,"routerLink"))("queryParams",t.getItemProp(e,"queryParams"))("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",t.getItemProp(e,"routerLinkActiveOptions")||_e(21,De))("target",t.getItemProp(e,"target"))("ngClass",A(22,Ae,t.getItemProp(e,"disabled")))("fragment",t.getItemProp(e,"fragment"))("queryParamsHandling",t.getItemProp(e,"queryParamsHandling"))("preserveFragment",t.getItemProp(e,"preserveFragment"))("skipLocationChange",t.getItemProp(e,"skipLocationChange"))("replaceUrl",t.getItemProp(e,"replaceUrl"))("state",t.getItemProp(e,"state")),_("data-automationid",t.getItemProp(e,"automationId"))("tabindex",-1)("aria-hidden",!0)("data-pc-section","action"),m(),a("ngIf",t.getItemProp(e,"icon")),m(),a("ngIf",t.getItemProp(e,"escape"))("ngIfElse",s),m(3),a("ngIf",t.getItemProp(e,"badge")),m(),a("ngIf",t.isItemGroup(e))}}function st(n,r){if(n&1&&(k(0),I(1,qe,7,14,"a",12)(2,nt,7,24,"a",13),M()),n&2){let s=o(2).$implicit,e=o();m(),a("ngIf",!e.getItemProp(s,"routerLink")),m(),a("ngIf",e.getItemProp(s,"routerLink"))}}function rt(n,r){}function ot(n,r){n&1&&I(0,rt,0,0,"ng-template")}function at(n,r){if(n&1&&(k(0),I(1,ot,1,0,null,27),M()),n&2){let s=o(2).$implicit,e=o();m(),a("ngTemplateOutlet",e.itemTemplate)("ngTemplateOutletContext",B(2,Re,s.item,e.getItemProp(s,"items")))}}function lt(n,r){if(n&1){let s=L();b(0,"p-tieredMenuSub",28),S("itemClick",function(t){p(s);let i=o(3);return h(i.itemClick.emit(t))})("itemMouseEnter",function(t){p(s);let i=o(3);return h(i.onItemMouseEnter(t))}),x()}if(n&2){let s=o(2).$implicit,e=o();a("items",s.items)("itemTemplate",e.itemTemplate)("autoDisplay",e.autoDisplay)("menuId",e.menuId)("activeItemPath",e.activeItemPath)("focusedItemId",e.focusedItemId)("ariaLabelledBy",e.getItemId(s))("level",e.level+1)}}function mt(n,r){if(n&1){let s=L();b(0,"li",8,1)(2,"div",9),S("click",function(t){p(s);let i=o().$implicit,l=o();return h(l.onItemClick(t,i))})("mouseenter",function(t){p(s);let i=o().$implicit,l=o();return h(l.onItemMouseEnter({$event:t,processedItem:i}))}),I(3,st,3,2,"ng-container",10)(4,at,2,5,"ng-container",10),x(),I(5,lt,1,8,"p-tieredMenuSub",11),x()}if(n&2){let s=o(),e=s.$implicit,t=s.index,i=o();Q(i.getItemProp(e,"styleClass")),a("ngStyle",i.getItemProp(e,"style"))("ngClass",i.getItemClass(e))("tooltipOptions",i.getItemProp(e,"tooltipOptions")),_("id",i.getItemId(e))("data-pc-section","menuitem")("data-p-highlight",i.isItemActive(e))("data-p-focused",i.isItemFocused(e))("data-p-disabled",i.isItemDisabled(e))("aria-label",i.getItemLabel(e))("aria-disabled",i.isItemDisabled(e)||void 0)("aria-haspopup",i.isItemGroup(e)&&!i.getItemProp(e,"to")?"menu":void 0)("aria-expanded",i.isItemGroup(e)?i.isItemActive(e):void 0)("aria-level",i.level+1)("aria-setsize",i.getAriaSetSize())("aria-posinset",i.getAriaPosInset(t)),m(2),_("data-pc-section","content"),m(),a("ngIf",!i.itemTemplate),m(),a("ngIf",i.itemTemplate),m(),a("ngIf",i.isItemVisible(e)&&i.isItemGroup(e))}}function ct(n,r){if(n&1&&I(0,He,1,5,"li",5)(1,mt,6,21,"li",6),n&2){let s=r.$implicit,e=o();a("ngIf",e.isItemVisible(s)&&e.getItemProp(s,"separator")),m(),a("ngIf",e.isItemVisible(s)&&!e.getItemProp(s,"separator"))}}var dt=["rootmenu"],ut=["container"],pt=n=>({"p-tieredmenu p-component":!0,"p-tieredmenu-overlay":n}),ht=(n,r)=>({showTransitionParams:n,hideTransitionParams:r}),_t=n=>({value:"visible",params:n});function It(n,r){if(n&1){let s=L();b(0,"div",3,0),S("click",function(t){p(s);let i=o();return h(i.onOverlayClick(t))})("@overlayAnimation.start",function(t){p(s);let i=o();return h(i.onOverlayAnimationStart(t))})("@overlayAnimation.done",function(t){p(s);let i=o();return h(i.onOverlayAnimationEnd(t))}),b(2,"p-tieredMenuSub",4,1),S("itemClick",function(t){p(s);let i=o();return h(i.onItemClick(t))})("menuFocus",function(t){p(s);let i=o();return h(i.onMenuFocus(t))})("menuBlur",function(t){p(s);let i=o();return h(i.onMenuBlur(t))})("menuKeydown",function(t){p(s);let i=o();return h(i.onKeyDown(t))})("itemMouseEnter",function(t){p(s);let i=o();return h(i.onItemMouseEnter(t))}),x()()}if(n&2){let s=o();Q(s.styleClass),a("id",s.id)("ngClass",A(22,pt,s.popup))("ngStyle",s.style)("@overlayAnimation",A(27,_t,B(24,ht,s.showTransitionOptions,s.hideTransitionOptions)))("@.disabled",s.popup!==!0),_("data-pc-section","root")("data-pc-name","tieredmenu"),m(2),a("root",!0)("items",s.processedItems)("itemTemplate",s.itemTemplate)("menuId",s.id)("tabindex",s.disabled?-1:s.tabindex)("ariaLabel",s.ariaLabel)("ariaLabelledBy",s.ariaLabelledBy)("baseZIndex",s.baseZIndex)("autoZIndex",s.autoZIndex)("autoDisplay",s.autoDisplay)("popup",s.popup)("focusedItemId",s.focused?s.focusedItemId:void 0)("activeItemPath",s.activeItemPath())}}var ft=(()=>{let r=class r{constructor(e,t,i){this.el=e,this.renderer=t,this.tieredMenu=i,this.root=!1,this.autoZIndex=!0,this.baseZIndex=0,this.level=0,this.tabindex=0,this.itemClick=new C,this.itemMouseEnter=new C,this.menuFocus=new C,this.menuBlur=new C,this.menuKeydown=new C}positionSubmenu(){let e=this.sublistViewChild&&this.sublistViewChild.nativeElement;if(e){let t=e.parentElement.parentElement,i=d.getOffset(t),l=d.getViewport(),c=e.offsetParent?e.offsetWidth:d.getHiddenElementOuterWidth(e),u=d.getOuterWidth(t.children[0]);parseInt(i.left,10)+u+c>l.width-d.calculateScrollbarWidth()&&d.addClass(e,"p-submenu-list-flipped")}}getItemProp(e,t,i=null){return e&&e.item?f.getItemValue(e.item[t],i):void 0}getItemId(e){return e.item?.id??`${this.menuId}_${e.key}`}getItemKey(e){return this.getItemId(e)}getItemClass(e){return R(D({},this.getItemProp(e,"class")),{"p-menuitem":!0,"p-highlight":this.isItemActive(e),"p-menuitem-active":this.isItemActive(e),"p-focus":this.isItemFocused(e),"p-disabled":this.isItemDisabled(e)})}getItemLabel(e){return this.getItemProp(e,"label")}getSeparatorItemClass(e){return R(D({},this.getItemProp(e,"class")),{"p-menuitem-separator":!0})}getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length}getAriaPosInset(e){return e-this.items.slice(0,e).filter(t=>{let i=this.isItemVisible(t),l=i&&this.getItemProp(t,"separator");return!i||l}).length+1}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemActive(e){if(this.activeItemPath)return this.activeItemPath.some(t=>t.key===e.key)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemFocused(e){return this.focusedItemId===this.getItemId(e)}isItemGroup(e){return f.isNotEmpty(e.items)}onItemMouseEnter(e){if(this.autoDisplay){let{event:t,processedItem:i}=e;this.itemMouseEnter.emit({originalEvent:t,processedItem:i})}}onItemClick(e,t){this.getItemProp(t,"command",{originalEvent:e,item:t.item}),this.itemClick.emit({originalEvent:e,processedItem:t,isFocus:!0})}};r.\u0275fac=function(t){return new(t||r)(v(N),v(G),v(le(()=>gt)))},r.\u0275cmp=z({type:r,selectors:[["p-tieredMenuSub"]],viewQuery:function(t,i){if(t&1&&$(Fe,7),t&2){let l;E(l=V())&&(i.sublistViewChild=l.first)}},hostAttrs:[1,"p-element"],inputs:{items:"items",itemTemplate:"itemTemplate",root:"root",autoDisplay:"autoDisplay",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",popup:"popup",menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:"level",focusedItemId:"focusedItemId",activeItemPath:"activeItemPath",tabindex:"tabindex"},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},decls:3,vars:12,consts:[["sublist",""],["listItem",""],["htmlLabel",""],["role","menu",3,"keydown","focus","blur","ngClass","id","tabindex"],["ngFor","",3,"ngForOf"],["role","separator",3,"style","ngClass",4,"ngIf"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","class","tooltipOptions",4,"ngIf"],["role","separator",3,"ngClass"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","tooltipOptions"],[1,"p-menuitem-content",3,"click","mouseenter"],[4,"ngIf"],[3,"items","itemTemplate","autoDisplay","menuId","activeItemPath","focusedItemId","ariaLabelledBy","level","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","ngClass",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target","ngClass"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[3,"styleClass",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"styleClass"],[3,"data-pc-section","aria-hidden"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"itemClick","itemMouseEnter","items","itemTemplate","autoDisplay","menuId","activeItemPath","focusedItemId","ariaLabelledBy","level"]],template:function(t,i){if(t&1){let l=L();b(0,"ul",3,0),S("keydown",function(u){return p(l),h(i.menuKeydown.emit(u))})("focus",function(u){return p(l),h(i.menuFocus.emit(u))})("blur",function(u){return p(l),h(i.menuBlur.emit(u))}),I(2,ct,2,2,"ng-template",4),x()}t&2&&(a("ngClass",B(9,Ke,!i.root,i.root))("id",i.menuId+"_list")("tabindex",i.tabindex),_("aria-label",i.ariaLabel)("aria-labelledBy",i.ariaLabelledBy)("aria-activedescendant",i.focusedItemId)("aria-orientation","vertical")("data-pc-section","menu"),m(2),a("ngForOf",i.items))},dependencies:[J,be,X,xe,ee,ve,Ce,Le,Ve,Oe,r],encapsulation:2});let n=r;return n})(),gt=(()=>{let r=class r{set model(e){this._model=e,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}get visibleItems(){let e=this.activeItemPath().find(t=>t.key===this.focusedItemInfo().parentKey);return e?e.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){let e=this.focusedItemInfo();return e.item?.id?e.item.id:e.index!==-1?`${this.id}${f.isNotEmpty(e.parentKey)?"_"+e.parentKey:""}_${e.index}`:null}constructor(e,t,i,l,c,u,g){this.document=e,this.platformId=t,this.el=i,this.renderer=l,this.cd=c,this.config=u,this.overlayService=g,this.autoZIndex=!0,this.baseZIndex=0,this.autoDisplay=!0,this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.disabled=!1,this.tabindex=0,this.onShow=new C,this.onHide=new C,this.dirty=!1,this.focused=!1,this.activeItemPath=H([]),this.number=H(0),this.focusedItemInfo=H({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",fe(()=>{let y=this.activeItemPath();f.isNotEmpty(y)?(this.bindOutsideClickListener(),this.bindResizeListener()):(this.unbindOutsideClickListener(),this.unbindResizeListener())})}ngOnInit(){this.id=this.id||we()}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"submenuicon":this.submenuIconTemplate=e.template;break;case"item":this.itemTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}createProcessedItems(e,t=0,i={},l=""){let c=[];return e&&e.forEach((u,g)=>{let y=(l!==""?l+"_":"")+g,w={item:u,index:g,level:t,key:y,parent:i,parentKey:l};w.items=this.createProcessedItems(u.items,t+1,w,y),c.push(w)}),c}getItemProp(e,t){return e?f.getItemValue(e[t]):void 0}getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0}getItemLabel(e){return this.getItemProp(e,"label")}isProcessedItemGroup(e){return e&&f.isNotEmpty(e.items)}isSelected(e){return this.activeItemPath().some(t=>t.key===e.key)}isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)}isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)&&this.isItemVisible(e.item)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemSeparator(e){return this.getItemProp(e,"separator")}isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(e){return e&&f.isNotEmpty(e.items)}onOverlayClick(e){this.popup&&this.overlayService.add({originalEvent:e,target:this.el.nativeElement})}onItemClick(e){let{originalEvent:t,processedItem:i}=e,l=this.isProcessedItemGroup(i),c=f.isEmpty(i.parent);if(this.isSelected(i)){let{index:g,key:y,level:w,parentKey:F,item:K}=i;this.activeItemPath.set(this.activeItemPath().filter(P=>y!==P.key&&y.startsWith(P.key))),this.focusedItemInfo.set({index:g,level:w,parentKey:F,item:K}),this.dirty=!0,d.focus(this.rootmenu.sublistViewChild.nativeElement)}else if(l)this.onItemChange(e);else{let g=c?i:this.activeItemPath().find(y=>y.parentKey==="");this.hide(t),this.changeFocusedItemIndex(t,g?g.index:-1),d.focus(this.rootmenu.sublistViewChild.nativeElement)}}onItemMouseEnter(e){d.isTouchDevice()?this.onItemChange({event:e,processedItem:e.processedItem,focus:this.autoDisplay}):this.dirty&&this.onItemChange(e)}onKeyDown(e){let t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!t&&f.isPrintableCharacter(e.key)&&this.searchItems(e,e.key);break}}onArrowDownKey(e){let t=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,t),e.preventDefault()}onArrowRightKey(e){let t=this.visibleItems[this.focusedItemInfo().index],i=this.isProccessedItemGroup(t),l=t.item;i&&(this.onItemChange({originalEvent:e,processedItem:t}),this.focusedItemInfo.set({index:-1,parentKey:t.key,item:l}),this.searchValue="",this.onArrowDownKey(e)),e.preventDefault()}onArrowUpKey(e){if(e.altKey){if(this.focusedItemInfo().index!==-1){let t=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(t)&&this.onItemChange({originalEvent:e,processedItem:t})}this.popup&&this.hide(e,!0),e.preventDefault()}else{let t=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,t),e.preventDefault()}}onArrowLeftKey(e){let t=this.visibleItems[this.focusedItemInfo().index],i=this.activeItemPath().find(u=>u.key===t.parentKey);f.isEmpty(t.parent)||(this.focusedItemInfo.set({index:-1,parentKey:i?i.parentKey:"",item:t.item}),this.searchValue="",this.onArrowDownKey(e));let c=this.activeItemPath().filter(u=>u.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(c),e.preventDefault()}onHomeKey(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()}onEndKey(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onEscapeKey(e){this.hide(e,!0),this.focusedItemInfo().index=this.findFirstFocusedItemIndex(),e.preventDefault()}onTabKey(e){if(this.focusedItemInfo().index!==-1){let t=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(t)&&this.onItemChange({originalEvent:e,processedItem:t})}this.hide()}onEnterKey(e){if(this.focusedItemInfo().index!==-1){let t=d.findSingle(this.rootmenu.el.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),i=t&&d.findSingle(t,'a[data-pc-section="action"]');if(i?i.click():t&&t.click(),!this.popup){let l=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(l)&&(this.focusedItemInfo().index=this.findFirstFocusedItemIndex())}}e.preventDefault()}onItemChange(e){let{processedItem:t,isFocus:i}=e;if(f.isEmpty(t))return;let{index:l,key:c,level:u,parentKey:g,items:y,item:w}=t,F=f.isNotEmpty(y),K=this.activeItemPath().filter(P=>P.parentKey!==g&&P.parentKey!==c);F&&K.push(t),this.focusedItemInfo.set({index:l,level:u,parentKey:g,item:w}),this.activeItemPath.set(K),F&&(this.dirty=!0),i&&d.focus(this.rootmenu.sublistViewChild.nativeElement)}onMenuFocus(e){this.focused=!0}onMenuBlur(e){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue="",this.dirty=!1}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.popup&&(this.container=e.element,this.moveOnTop(),this.onShow.emit({}),this.appendOverlay(),this.alignOverlay(),this.bindOutsideClickListener(),this.bindResizeListener(),this.bindScrollListener(),d.focus(this.rootmenu.sublistViewChild.nativeElement),this.scrollInView());break;case"void":this.onOverlayHide(),this.onHide.emit({});break}}alignOverlay(){this.relativeAlign?d.relativePosition(this.container,this.target):d.absolutePosition(this.container,this.target)}onOverlayAnimationEnd(e){switch(e.toState){case"void":Z.clear(e.element);break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.container):d.appendChild(this.container,this.appendTo))}restoreOverlayAppend(){this.container&&this.appendTo&&this.renderer.appendChild(this.el.nativeElement,this.container)}moveOnTop(){this.autoZIndex&&Z.set("menu",this.container,this.baseZIndex+this.config.zIndex.menu)}hide(e,t){this.popup&&(this.onHide.emit({}),this.visible=!1),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:""}),t&&d.focus(this.relatedTarget||this.target||this.rootmenu.sublistViewChild.nativeElement),this.dirty=!1}toggle(e){this.visible?this.hide(e,!0):this.show(e)}show(e,t){this.popup&&(this.visible=!0,this.target=this.target||e.currentTarget,this.relatedTarget=e.relatedTarget||null,this.relativeAlign=e?.relativeAlign||null),this.focusedItemInfo.set({index:-1,level:0,parentKey:""}),t&&d.focus(this.rootmenu.sublistViewChild.nativeElement),this.cd.markForCheck()}searchItems(e,t){this.searchValue=(this.searchValue||"")+t;let i=-1,l=!1;return this.focusedItemInfo().index!==-1?(i=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(c=>this.isItemMatched(c)),i=i===-1?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(c=>this.isItemMatched(c)):i+this.focusedItemInfo().index):i=this.visibleItems.findIndex(c=>this.isItemMatched(c)),i!==-1&&(l=!0),i===-1&&this.focusedItemInfo().index===-1&&(i=this.findFirstFocusedItemIndex()),i!==-1&&this.changeFocusedItemIndex(e,i),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),l}findLastFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e}findLastItemIndex(){return f.findLastIndex(this.visibleItems,e=>this.isValidItem(e))}findPrevItemIndex(e){let t=e>0?f.findLastIndex(this.visibleItems.slice(0,e),i=>this.isValidItem(i)):-1;return t>-1?t:e}findNextItemIndex(e){let t=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(i=>this.isValidItem(i)):-1;return t>-1?t+e+1:e}findFirstFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e}findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))}findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))}changeFocusedItemIndex(e,t){if(this.focusedItemInfo().index!==t){let i=this.focusedItemInfo();this.focusedItemInfo.set(R(D({},i),{item:this.visibleItems[t].item,index:t})),this.scrollInView()}}scrollInView(e=-1){let t=e!==-1?`${this.id}_${e}`:this.focusedItemId,i=d.findSingle(this.rootmenu.el.nativeElement,`li[id="${t}"]`);i&&i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"})}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new Te(this.target,e=>{this.visible&&this.hide(e,!0)})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&(this.scrollHandler.unbindScrollListener(),this.scrollHandler=null)}bindResizeListener(){te(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{d.isTouchDevice()||this.hide(e,!0)})))}bindOutsideClickListener(){te(this.platformId)&&(this.outsideClickListener||(this.outsideClickListener=this.renderer.listen(this.document,"click",e=>{let t=this.containerViewChild&&!this.containerViewChild.nativeElement.contains(e.target),i=this.popup?!(this.target&&(this.target===e.target||this.target.contains(e.target))):!0;t&&i&&this.hide()})))}unbindOutsideClickListener(){this.outsideClickListener&&(document.removeEventListener("click",this.outsideClickListener),this.outsideClickListener=null)}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}onOverlayHide(){this.unbindOutsideClickListener(),this.unbindResizeListener(),this.unbindScrollListener(),this.cd.destroyed||(this.target=null)}ngOnDestroy(){this.popup&&(this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.container&&this.autoZIndex&&Z.clear(this.container),this.restoreOverlayAppend(),this.onOverlayHide())}};r.\u0275fac=function(t){return new(t||r)(v(ge),v(de),v(N),v(G),v(Ie),v(Pe),v(Se))},r.\u0275cmp=z({type:r,selectors:[["p-tieredMenu"]],contentQueries:function(t,i,l){if(t&1&&he(l,ke,4),t&2){let c;E(c=V())&&(i.templates=c)}},viewQuery:function(t,i){if(t&1&&($(dt,5),$(ut,5)),t&2){let l;E(l=V())&&(i.rootmenu=l.first),E(l=V())&&(i.containerViewChild=l.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",popup:"popup",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",autoDisplay:"autoDisplay",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",disabled:"disabled",tabindex:"tabindex"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[["container",""],["rootmenu",""],[3,"id","ngClass","class","ngStyle","click",4,"ngIf"],[3,"click","id","ngClass","ngStyle"],[3,"itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter","root","items","itemTemplate","menuId","tabindex","ariaLabel","ariaLabelledBy","baseZIndex","autoZIndex","autoDisplay","popup","focusedItemId","activeItemPath"]],template:function(t,i){t&1&&I(0,It,4,29,"div",2),t&2&&a("ngIf",!i.popup||i.visible)},dependencies:[J,X,ee,ft],styles:[`@layer primeng{.p-tieredmenu-overlay{position:absolute;top:0;left:0}.p-tieredmenu ul{margin:0;padding:0;list-style:none}.p-tieredmenu .p-submenu-list{position:absolute;min-width:100%;z-index:1;display:none}.p-tieredmenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-tieredmenu .p-menuitem-text{line-height:1}.p-tieredmenu .p-menuitem{position:relative}.p-tieredmenu .p-menuitem-link .p-submenu-icon:not(svg){margin-left:auto}.p-tieredmenu .p-menuitem-link .p-icon-wrapper{margin-left:auto}.p-tieredmenu .p-menuitem-active>p-tieredmenusub>.p-submenu-list{display:block;left:100%;top:0}.p-tieredmenu .p-menuitem-active>p-tieredmenusub>.p-submenu-list.p-submenu-list-flipped{left:-100%}}
`],encapsulation:2,data:{animation:[Me("overlayAnimation",[oe(":enter",[re({opacity:0,transform:"scaleY(0.8)"}),se("{{showTransitionParams}}")]),oe(":leave",[se("{{hideTransitionParams}}",re({opacity:0}))])])]},changeDetection:0});let n=r;return n})(),Gt=(()=>{let r=class r{};r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=ce({type:r}),r.\u0275inj=me({imports:[ye,ie,Ee,ae,ne,ie,ae,ne]});let n=r;return n})();export{gt as a,Gt as b};
