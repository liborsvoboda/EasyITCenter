import{a as ke}from"./chunk-KL3QZRIM.js";import{c as re,d as ae,f as R,h as $}from"./chunk-XSSXK7EZ.js";import{a as Ve,b as le}from"./chunk-QLODAJMV.js";import{a as d,g as f,h as Ee,i as se,l as Se,n as Te,q as Le,r as oe,w as Pe,x as Me}from"./chunk-UWMVDULA.js";import{o as Ce,p as we,t as ne}from"./chunk-N5X6XDRN.js";import{Cc as ee,Eb as fe,Ec as be,Fb as H,Fc as te,Gb as F,Hb as K,Ib as z,Ic as ie,Jb as O,Jc as ye,Kb as q,Lb as U,Ma as B,Na as he,Nc as ve,Pc as G,Sa as m,Sb as D,T as me,Ta as g,Tb as W,Ub as ge,V as ue,Ya as j,ab as _e,bb as M,da as N,dc as X,ea as de,ib as _,jb as I,kb as a,kc as Y,ma as p,na as h,nb as Ie,ob as Q,pc as xe,rb as x,sb as b,tb as w,ua as Z,ub as V,va as C,vb as k,vc as J,xb as A,yb as L,za as pe,zb as r}from"./chunk-ZJD4PHQZ.js";import{a as S,b as T}from"./chunk-P2VZOJAX.js";var Ae=["sublist"],Fe=(s,o)=>({"p-submenu-list":s,"p-contextmenu-root-list":o}),Ke=()=>({"p-menuitem-link":!0}),Oe=()=>({exact:!1}),De=s=>({"p-menuitem-link":!0,"p-disabled":s}),Re=s=>({$implicit:s});function $e(s,o){if(s&1&&w(0,"li",8),s&2){let n=r().$implicit,e=r(2);Ie(e.getItemProp(n,"style")),a("ngClass",e.getSeparatorItemClass(n)),I("id",e.getItemId(n))("data-pc-section","separator")}}function He(s,o){if(s&1&&w(0,"span",19),s&2){let n=r(4).$implicit,e=r(2);a("ngClass",e.getItemProp(n,"icon"))("ngStyle",e.getItemProp(n,"iconStyle")),I("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function ze(s,o){if(s&1&&(x(0,"span",20),O(1),b()),s&2){let n=r(4).$implicit,e=r(2);I("data-pc-section","label"),m(),U(" ",e.getItemLabel(n)," ")}}function Ge(s,o){if(s&1&&w(0,"span",21),s&2){let n=r(4).$implicit,e=r(2);a("innerHTML",e.getItemLabel(n),B),I("data-pc-section","label")}}function Ne(s,o){if(s&1&&(x(0,"span",22),O(1),b()),s&2){let n=r(4).$implicit,e=r(2);a("ngClass",e.getItemProp(n,"badgeStyleClass")),m(),q(e.getItemProp(n,"badge"))}}function Ze(s,o){s&1&&w(0,"AngleRightIcon",25),s&2&&(a("styleClass","p-submenu-icon"),I("data-pc-section","submenuicon")("aria-hidden",!0))}function Be(s,o){}function je(s,o){s&1&&_(0,Be,0,0,"ng-template",26),s&2&&a("data-pc-section","submenuicon")("aria-hidden",!0)}function Qe(s,o){if(s&1&&(V(0),_(1,Ze,1,3,"AngleRightIcon",23)(2,je,1,2,null,24),k()),s&2){let n=r(6);m(),a("ngIf",!n.contextMenu.submenuIconTemplate),m(),a("ngTemplateOutlet",n.contextMenu.submenuIconTemplate)}}function qe(s,o){if(s&1&&(x(0,"a",15),_(1,He,1,5,"span",16)(2,ze,2,2,"span",17)(3,Ge,1,2,"ng-template",null,2,X)(5,Ne,2,2,"span",18)(6,Qe,3,2,"ng-container",11),b()),s&2){let n=z(4),e=r(3).$implicit,t=r(2);a("target",t.getItemProp(e,"target"))("ngClass",D(12,Ke)),I("href",t.getItemProp(e,"url"),he)("aria-hidden",!0)("data-automationid",t.getItemProp(e,"automationId"))("data-pc-section","action")("tabindex",-1),m(),a("ngIf",t.getItemProp(e,"icon")),m(),a("ngIf",t.getItemProp(e,"escape"))("ngIfElse",n),m(3),a("ngIf",t.getItemProp(e,"badge")),m(),a("ngIf",t.isItemGroup(e))}}function Ue(s,o){if(s&1&&w(0,"span",19),s&2){let n=r(4).$implicit,e=r(2);a("ngClass",e.getItemProp(n,"icon"))("ngStyle",e.getItemProp(n,"iconStyle")),I("data-pc-section","icon")("aria-hidden",!0)("tabindex",-1)}}function We(s,o){if(s&1&&(x(0,"span",20),O(1),b()),s&2){let n=r(4).$implicit,e=r(2);I("data-pc-section","label"),m(),U(" ",e.getItemLabel(n)," ")}}function Xe(s,o){if(s&1&&w(0,"span",21),s&2){let n=r(4).$implicit,e=r(2);a("innerHTML",e.getItemLabel(n),B),I("data-pc-section","label")}}function Ye(s,o){if(s&1&&(x(0,"span",22),O(1),b()),s&2){let n=r(4).$implicit,e=r(2);a("ngClass",e.getItemProp(n,"badgeStyleClass")),m(),q(e.getItemProp(n,"badge"))}}function Je(s,o){s&1&&w(0,"AngleRightIcon",25),s&2&&(a("styleClass","p-submenu-icon"),I("data-pc-section","submenuicon")("aria-hidden",!0))}function et(s,o){}function tt(s,o){s&1&&_(0,et,0,0,"ng-template",26),s&2&&a("data-pc-section","submenuicon")("aria-hidden",!0)}function it(s,o){if(s&1&&(V(0),_(1,Je,1,3,"AngleRightIcon",23)(2,tt,1,2,null,24),k()),s&2){let n=r(6);m(),a("ngIf",!n.contextMenu.submenuIconTemplate),m(),a("ngTemplateOutlet",n.contextMenu.submenuIconTemplate)}}function nt(s,o){if(s&1&&(x(0,"a",27),_(1,Ue,1,5,"span",16)(2,We,2,2,"span",17)(3,Xe,1,2,"ng-template",null,2,X)(5,Ye,2,2,"span",18)(6,it,3,2,"ng-container",11),b()),s&2){let n=z(4),e=r(3).$implicit,t=r(2);a("routerLink",t.getItemProp(e,"routerLink"))("queryParams",t.getItemProp(e,"queryParams"))("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",t.getItemProp(e,"routerLinkActiveOptions")||D(21,Oe))("target",t.getItemProp(e,"target"))("ngClass",W(22,De,t.getItemProp(e,"disabled")))("fragment",t.getItemProp(e,"fragment"))("queryParamsHandling",t.getItemProp(e,"queryParamsHandling"))("preserveFragment",t.getItemProp(e,"preserveFragment"))("skipLocationChange",t.getItemProp(e,"skipLocationChange"))("replaceUrl",t.getItemProp(e,"replaceUrl"))("state",t.getItemProp(e,"state")),I("data-automationid",t.getItemProp(e,"automationId"))("tabindex",-1)("aria-hidden",!0)("data-pc-section","action"),m(),a("ngIf",t.getItemProp(e,"icon")),m(),a("ngIf",t.getItemProp(e,"escape"))("ngIfElse",n),m(3),a("ngIf",t.getItemProp(e,"badge")),m(),a("ngIf",t.isItemGroup(e))}}function st(s,o){if(s&1&&(V(0),_(1,qe,7,13,"a",13)(2,nt,7,24,"a",14),k()),s&2){let n=r(2).$implicit,e=r(2);m(),a("ngIf",!e.getItemProp(n,"routerLink")),m(),a("ngIf",e.getItemProp(n,"routerLink"))}}function ot(s,o){}function rt(s,o){s&1&&_(0,ot,0,0,"ng-template")}function at(s,o){if(s&1&&(V(0),_(1,rt,1,0,null,28),k()),s&2){let n=r(2).$implicit,e=r(2);m(),a("ngTemplateOutlet",e.itemTemplate)("ngTemplateOutletContext",W(2,Re,n.item))}}function lt(s,o){if(s&1){let n=A();x(0,"p-contextMenuSub",29),L("itemClick",function(t){p(n);let i=r(4);return h(i.itemClick.emit(t))})("itemMouseEnter",function(t){p(n);let i=r(4);return h(i.onItemMouseEnter(t))}),b()}if(s&2){let n=r(2).$implicit,e=r(2);a("items",n.items)("itemTemplate",e.itemTemplate)("menuId",e.menuId)("visible",e.isItemActive(n)&&e.isItemGroup(n))("activeItemPath",e.activeItemPath)("focusedItemId",e.focusedItemId)("level",e.level+1)}}function ct(s,o){if(s&1){let n=A();x(0,"li",9,1)(2,"div",10),L("click",function(t){p(n);let i=r().$implicit,l=r(2);return h(l.onItemClick(t,i))})("mouseenter",function(t){p(n);let i=r().$implicit,l=r(2);return h(l.onItemMouseEnter({$event:t,processedItem:i}))}),_(3,st,3,2,"ng-container",11)(4,at,2,4,"ng-container",11),b(),_(5,lt,1,7,"p-contextMenuSub",12),b()}if(s&2){let n=r(),e=n.$implicit,t=n.index,i=r(2);Q(i.getItemProp(e,"styleClass")),a("ngStyle",i.getItemProp(e,"style"))("ngClass",i.getItemClass(e))("tooltipOptions",i.getItemProp(e,"tooltipOptions")),I("id",i.getItemId(e))("data-pc-section","menuitem")("data-p-highlight",i.isItemActive(e))("data-p-focused",i.isItemFocused(e))("data-p-disabled",i.isItemDisabled(e))("aria-label",i.getItemLabel(e))("aria-disabled",i.isItemDisabled(e)||void 0)("aria-haspopup",i.isItemGroup(e)&&!i.getItemProp(e,"to")?"menu":void 0)("aria-expanded",i.isItemGroup(e)?i.isItemActive(e):void 0)("aria-level",i.level+1)("aria-setsize",i.getAriaSetSize())("aria-posinset",i.getAriaPosInset(t)),m(2),I("data-pc-section","content"),m(),a("ngIf",!i.itemTemplate),m(),a("ngIf",i.itemTemplate),m(),a("ngIf",i.isItemVisible(e)&&i.isItemGroup(e))}}function mt(s,o){if(s&1&&_(0,$e,1,5,"li",6)(1,ct,6,21,"li",7),s&2){let n=o.$implicit,e=r(2);a("ngIf",e.isItemVisible(n)&&e.getItemProp(n,"separator")),m(),a("ngIf",e.isItemVisible(n)&&!e.getItemProp(n,"separator"))}}function ut(s,o){if(s&1){let n=A();x(0,"ul",4,0),L("@overlayAnimation.start",function(t){p(n);let i=z(1),l=r();return h(l.onEnter(t,i))})("keydown",function(t){p(n);let i=r();return h(i.menuKeydown.emit(t))})("focus",function(t){p(n);let i=r();return h(i.menuFocus.emit(t))})("blur",function(t){p(n);let i=r();return h(i.menuBlur.emit(t))}),_(2,mt,2,2,"ng-template",5),b()}if(s&2){let n=r();a("ngClass",ge(10,Fe,!n.root,n.root))("@overlayAnimation",n.visible)("tabindex",n.tabindex),I("id",n.menuId+"_list")("aria-label",n.ariaLabel)("aria-labelledBy",n.ariaLabelledBy)("aria-activedescendant",n.focusedItemId)("aria-orientation","vertical")("data-pc-section","menu"),m(2),a("ngForOf",n.items)}}var dt=["rootmenu"],pt=["container"],ht=()=>({"p-contextmenu p-component":!0,"p-contextmenu-overlay":!0}),_t=()=>({value:"visible"});function It(s,o){if(s&1){let n=A();x(0,"div",3,0),L("@overlayAnimation.start",function(t){p(n);let i=r();return h(i.onOverlayAnimationStart(t))})("@overlayAnimation.done",function(t){p(n);let i=r();return h(i.onOverlayAnimationEnd(t))}),x(2,"p-contextMenuSub",4,1),L("itemClick",function(t){p(n);let i=r();return h(i.onItemClick(t))})("menuFocus",function(t){p(n);let i=r();return h(i.onMenuFocus(t))})("menuBlur",function(t){p(n);let i=r();return h(i.onMenuBlur(t))})("menuKeydown",function(t){p(n);let i=r();return h(i.onKeyDown(t))})("itemMouseEnter",function(t){p(n);let i=r();return h(i.onItemMouseEnter(t))}),b()()}if(s&2){let n=r();Q(n.styleClass),a("ngClass",D(20,ht))("ngStyle",n.style)("@overlayAnimation",D(21,_t)),I("data-pc-section","root")("data-pc-name","contextmenu")("id",n.id),m(2),a("root",!0)("items",n.processedItems)("itemTemplate",n.itemTemplate)("menuId",n.id)("tabindex",n.disabled?-1:n.tabindex)("ariaLabel",n.ariaLabel)("ariaLabelledBy",n.ariaLabelledBy)("baseZIndex",n.baseZIndex)("autoZIndex",n.autoZIndex)("visible",n.submenuVisible())("focusedItemId",n.focused?n.focusedItemId:void 0)("activeItemPath",n.activeItemPath())}}var ft=(()=>{let o=class o{constructor(e,t,i,l,c,u){this.document=e,this.el=t,this.renderer=i,this.cd=l,this.contextMenu=c,this.ref=u,this.visible=!1,this.root=!1,this.autoZIndex=!0,this.baseZIndex=0,this.level=0,this.tabindex=0,this.itemClick=new C,this.itemMouseEnter=new C,this.menuFocus=new C,this.menuBlur=new C,this.menuKeydown=new C}getItemProp(e,t,i=null){return e&&e.item?f.getItemValue(e.item[t],i):void 0}getItemId(e){return e.item&&e.item?.id?e.item.id:`${this.menuId}_${e.key}`}getItemKey(e){return this.getItemId(e)}getItemClass(e){return T(S({},this.getItemProp(e,"class")),{"p-menuitem":!0,"p-highlight":this.isItemActive(e),"p-menuitem-active":this.isItemActive(e),"p-focus":this.isItemFocused(e),"p-disabled":this.isItemDisabled(e)})}getItemLabel(e){return this.getItemProp(e,"label")}getSeparatorItemClass(e){return T(S({},this.getItemProp(e,"class")),{"p-menuitem-separator":!0})}getAriaSetSize(){return this.items.filter(e=>this.isItemVisible(e)&&!this.getItemProp(e,"separator")).length}getAriaPosInset(e){return e-this.items.slice(0,e).filter(t=>this.isItemVisible(t)&&this.getItemProp(t,"separator")).length+1}isItemVisible(e){return this.getItemProp(e,"visible")!==!1}isItemActive(e){if(this.activeItemPath)return this.activeItemPath.some(t=>t.key===e.key)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemFocused(e){return this.focusedItemId===this.getItemId(e)}isItemGroup(e){return f.isNotEmpty(e.items)}onItemMouseEnter(e){let{event:t,processedItem:i}=e;this.itemMouseEnter.emit({originalEvent:t,processedItem:i})}onItemClick(e,t){this.getItemProp(t,"command",{originalEvent:e,item:t.item}),this.itemClick.emit({originalEvent:e,processedItem:t,isFocus:!0})}onEnter(e,t){if(e.fromState==="void"&&e.toState){let i=e.element;this.position(i)}}position(e){let t=e.parentElement.parentElement,i=d.getOffset(e.parentElement.parentElement),l=d.getViewport(),c=e.offsetParent?e.offsetWidth:d.getHiddenElementOuterWidth(e),u=d.getOuterWidth(t.children[0]);e.style.top="0px",parseInt(i.left,10)+u+c>l.width-d.calculateScrollbarWidth()?e.style.left=-1*c+"px":e.style.left=u+"px"}};o.\u0275fac=function(t){return new(t||o)(g(J),g(Z),g(j),g(Y),g(me(()=>gt)),g(_e))},o.\u0275cmp=N({type:o,selectors:[["p-contextMenuSub"]],viewQuery:function(t,i){if(t&1&&H(Ae,5),t&2){let l;F(l=K())&&(i.sublistViewChild=l.first)}},hostAttrs:[1,"p-element"],inputs:{visible:"visible",items:"items",itemTemplate:"itemTemplate",root:"root",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",popup:"popup",menuId:"menuId",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",level:"level",focusedItemId:"focusedItemId",activeItemPath:"activeItemPath",tabindex:"tabindex"},outputs:{itemClick:"itemClick",itemMouseEnter:"itemMouseEnter",menuFocus:"menuFocus",menuBlur:"menuBlur",menuKeydown:"menuKeydown"},decls:1,vars:1,consts:[["sublist",""],["listItem",""],["htmlLabel",""],["role","menu",3,"ngClass","tabindex","keydown","focus","blur",4,"ngIf"],["role","menu",3,"keydown","focus","blur","ngClass","tabindex"],["ngFor","",3,"ngForOf"],["role","separator",3,"style","ngClass",4,"ngIf"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","class","tooltipOptions",4,"ngIf"],["role","separator",3,"ngClass"],["role","menuitem","pTooltip","",3,"ngStyle","ngClass","tooltipOptions"],[1,"p-menuitem-content",3,"click","mouseenter"],[4,"ngIf"],[3,"items","itemTemplate","menuId","visible","activeItemPath","focusedItemId","level","itemClick","itemMouseEnter",4,"ngIf"],["pRipple","",3,"target","ngClass",4,"ngIf"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state",4,"ngIf"],["pRipple","",3,"target","ngClass"],["class","p-menuitem-icon",3,"ngClass","ngStyle",4,"ngIf"],["class","p-menuitem-text",4,"ngIf","ngIfElse"],["class","p-menuitem-badge",3,"ngClass",4,"ngIf"],[1,"p-menuitem-icon",3,"ngClass","ngStyle"],[1,"p-menuitem-text"],[1,"p-menuitem-text",3,"innerHTML"],[1,"p-menuitem-badge",3,"ngClass"],[3,"styleClass",4,"ngIf"],[4,"ngTemplateOutlet"],[3,"styleClass"],[3,"data-pc-section","aria-hidden"],["pRipple","",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","target","ngClass","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[3,"itemClick","itemMouseEnter","items","itemTemplate","menuId","visible","activeItemPath","focusedItemId","level"]],template:function(t,i){t&1&&_(0,ut,3,13,"ul",3),t&2&&a("ngIf",i.root?!0:i.visible)},dependencies:[ee,be,te,ye,ie,Ce,we,Pe,Ve,ke,o],encapsulation:2,data:{animation:[re("overlayAnimation",[$(":enter",[R({opacity:0})]),$(":leave",[R({opacity:0})])])]}});let s=o;return s})(),gt=(()=>{let o=class o{set model(e){this._model=e,this._processedItems=this.createProcessedItems(this._model||[])}get model(){return this._model}get visibleItems(){let e=this.activeItemPath().find(t=>t.key===this.focusedItemInfo().parentKey);return e?e.items:this.processedItems}get processedItems(){return(!this._processedItems||!this._processedItems.length)&&(this._processedItems=this.createProcessedItems(this.model||[])),this._processedItems}get focusedItemId(){let e=this.focusedItemInfo();return e.item&&e.item?.id?e.item.id:e.index!==-1?`${this.id}${f.isNotEmpty(e.parentKey)?"_"+e.parentKey:""}_${e.index}`:null}constructor(e,t,i,l,c,u,y){this.document=e,this.platformId=t,this.el=i,this.renderer=l,this.cd=c,this.config=u,this.overlayService=y,this.triggerEvent="contextmenu",this.autoZIndex=!0,this.baseZIndex=0,this.pressDelay=500,this.onShow=new C,this.onHide=new C,this.visible=M(!1),this.focused=!1,this.activeItemPath=M([]),this.focusedItemInfo=M({index:-1,level:0,parentKey:"",item:null}),this.submenuVisible=M(!1),this.searchValue="",this.window=this.document.defaultView,xe(()=>{let v=this.activeItemPath();f.isNotEmpty(v)?this.bindGlobalListeners():this.visible()||this.unbindGlobalListeners()})}ngOnInit(){this.id=this.id||Ee(),this.bindTriggerEventListener()}isMobile(){return d.isIOS()||d.isAndroid()}bindTriggerEventListener(){G(this.platformId)&&(this.triggerEventListener||(this.isMobile()?this.global?(this.triggerEventListener=this.renderer.listen(this.document,"touchstart",this.onTouchStart.bind(this)),this.touchEndListener=this.renderer.listen(this.document,"touchend",this.onTouchEnd.bind(this))):this.target&&(this.triggerEventListener=this.renderer.listen(this.target,"touchstart",this.onTouchStart.bind(this)),this.touchEndListener=this.renderer.listen(this.target,"touchend",this.onTouchEnd.bind(this))):this.global?this.triggerEventListener=this.renderer.listen(this.document,this.triggerEvent,e=>{this.show(e)}):this.target&&(this.triggerEventListener=this.renderer.listen(this.target,this.triggerEvent,e=>{this.show(e)}))))}bindGlobalListeners(){if(G(this.platformId)){if(!this.documentClickListener){let e=this.el?this.el.nativeElement.ownerDocument:"document";this.documentClickListener=this.renderer.listen(e,"click",t=>{this.containerViewChild.nativeElement.offsetParent&&this.isOutsideClicked(t)&&!t.ctrlKey&&t.button!==2&&this.triggerEvent!=="click"&&this.hide()}),this.documentTriggerListener=this.renderer.listen(e,this.triggerEvent,t=>{this.containerViewChild.nativeElement.offsetParent&&this.isOutsideClicked(t)&&this.hide()})}this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{this.hide()}))}}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"submenuicon":this.submenuIconTemplate=e.template;break;case"item":this.itemTemplate=e.template;break;default:this.itemTemplate=e.template;break}})}createProcessedItems(e,t=0,i={},l=""){let c=[];return e&&e.forEach((u,y)=>{let v=(l!==""?l+"_":"")+y,E={item:u,index:y,level:t,key:v,parent:i,parentKey:l};E.items=this.createProcessedItems(u.items,t+1,E,v),c.push(E)}),c}getItemProp(e,t){return e?f.getItemValue(e[t]):void 0}getProccessedItemLabel(e){return e?this.getItemLabel(e.item):void 0}getItemLabel(e){return this.getItemProp(e,"label")}isProcessedItemGroup(e){return e&&f.isNotEmpty(e.items)}isSelected(e){return this.activeItemPath().some(t=>t.key===e.key)}isValidSelectedItem(e){return this.isValidItem(e)&&this.isSelected(e)}isValidItem(e){return!!e&&!this.isItemDisabled(e.item)&&!this.isItemSeparator(e.item)}isItemDisabled(e){return this.getItemProp(e,"disabled")}isItemSeparator(e){return this.getItemProp(e,"separator")}isItemMatched(e){return this.isValidItem(e)&&this.getProccessedItemLabel(e).toLocaleLowerCase().startsWith(this.searchValue.toLocaleLowerCase())}isProccessedItemGroup(e){return e&&f.isNotEmpty(e.items)}onItemClick(e){let{processedItem:t}=e,i=this.isProcessedItemGroup(t);if(this.isSelected(t)){let{index:c,key:u,level:y,parentKey:v,item:E}=t;this.activeItemPath.set(this.activeItemPath().filter(P=>u!==P.key&&u.startsWith(P.key))),this.focusedItemInfo.set({index:c,level:y,parentKey:v,item:E}),d.focus(this.rootmenu.sublistViewChild.nativeElement)}else i?this.onItemChange(e):this.hide()}onItemMouseEnter(e){this.onItemChange(e)}onKeyDown(e){let t=e.metaKey||e.ctrlKey;switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;case"Space":this.onSpaceKey(e);break;case"Enter":this.onEnterKey(e);break;case"Escape":this.onEscapeKey(e);break;case"Tab":this.onTabKey(e);break;case"PageDown":case"PageUp":case"Backspace":case"ShiftLeft":case"ShiftRight":break;default:!t&&f.isPrintableCharacter(e.key)&&this.searchItems(e,e.key);break}}onArrowDownKey(e){let t=this.focusedItemInfo().index!==-1?this.findNextItemIndex(this.focusedItemInfo().index):this.findFirstFocusedItemIndex();this.changeFocusedItemIndex(e,t),e.preventDefault()}onArrowRightKey(e){let t=this.visibleItems[this.focusedItemInfo().index];this.isProccessedItemGroup(t)&&(this.onItemChange({originalEvent:e,processedItem:t}),this.focusedItemInfo.set({index:-1,parentKey:t.key,item:t.item}),this.searchValue="",this.onArrowDownKey(e)),e.preventDefault()}onArrowUpKey(e){if(e.altKey){if(this.focusedItemInfo().index!==-1){let t=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(t)&&this.onItemChange({originalEvent:e,processedItem:t})}this.hide(),e.preventDefault()}else{let t=this.focusedItemInfo().index!==-1?this.findPrevItemIndex(this.focusedItemInfo().index):this.findLastFocusedItemIndex();this.changeFocusedItemIndex(e,t),e.preventDefault()}}onArrowLeftKey(e){let t=this.visibleItems[this.focusedItemInfo().index],i=this.activeItemPath().find(u=>u.key===t.parentKey);f.isEmpty(t.parent)||(this.focusedItemInfo.set({index:-1,parentKey:i?i.parentKey:"",item:t.item}),this.searchValue="",this.onArrowDownKey(e));let c=this.activeItemPath().filter(u=>u.parentKey!==this.focusedItemInfo().parentKey);this.activeItemPath.set(c),e.preventDefault()}onHomeKey(e){this.changeFocusedItemIndex(e,this.findFirstItemIndex()),e.preventDefault()}onEndKey(e){this.changeFocusedItemIndex(e,this.findLastItemIndex()),e.preventDefault()}onSpaceKey(e){this.onEnterKey(e)}onEscapeKey(e){this.hide();let t=this.findVisibleItem(this.findFirstFocusedItemIndex()),i=this.focusedItemInfo();this.focusedItemInfo.set(T(S({},i),{index:this.findFirstFocusedItemIndex(),item:t.item})),e.preventDefault()}onTabKey(e){if(this.focusedItemInfo().index!==-1){let t=this.visibleItems[this.focusedItemInfo().index];!this.isProccessedItemGroup(t)&&this.onItemChange({originalEvent:e,processedItem:t})}this.hide()}onEnterKey(e){if(this.focusedItemInfo().index!==-1){let t=d.findSingle(this.rootmenu.el.nativeElement,`li[id="${`${this.focusedItemId}`}"]`),i=t&&d.findSingle(t,'a[data-pc-section="action"]');i?i.click():t&&t.click();let l=this.visibleItems[this.focusedItemInfo().index];if(!this.isProccessedItemGroup(l)){let u=this.focusedItemInfo();this.focusedItemInfo.set(T(S({},u),{index:this.findFirstFocusedItemIndex()}))}}e.preventDefault()}onItemChange(e){let{processedItem:t,isFocus:i}=e;if(f.isEmpty(t))return;let{index:l,key:c,level:u,parentKey:y,items:v}=t,E=f.isNotEmpty(v),P=this.activeItemPath().filter(ce=>ce.parentKey!==y&&ce.parentKey!==c);E&&(P.push(t),this.submenuVisible.set(!0)),this.focusedItemInfo.set({index:l,level:u,parentKey:y,item:t.item}),this.activeItemPath.set(P),i&&d.focus(this.rootmenu.sublistViewChild.nativeElement)}onMenuFocus(e){this.focused=!0;let t=this.focusedItemInfo().index!==-1?this.focusedItemInfo():{index:-1,level:0,parentKey:"",item:null};this.focusedItemInfo.set(t)}onMenuBlur(e){this.focused=!1,this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.searchValue=""}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.container=e.element,this.position(),this.moveOnTop(),this.appendOverlay(),this.bindGlobalListeners(),d.focus(this.rootmenu.sublistViewChild.nativeElement);break}}onOverlayAnimationEnd(e){switch(e.toState){case"void":this.onOverlayHide();break}}appendOverlay(){this.appendTo&&(this.appendTo==="body"?this.renderer.appendChild(this.document.body,this.containerViewChild.nativeElement):d.appendChild(this.containerViewChild.nativeElement,this.appendTo))}moveOnTop(){this.autoZIndex&&this.containerViewChild&&se.set("menu",this.containerViewChild.nativeElement,this.baseZIndex+this.config.zIndex.menu)}onOverlayHide(){this.unbindGlobalListeners(),this.cd.destroyed||(this.target=null),this.container&&this.autoZIndex&&se.clear(this.container),this.container=null}onTouchStart(e){this.pressTimer=setTimeout(()=>{this.show(e)},this.pressDelay)}onTouchEnd(){clearTimeout(this.pressTimer)}hide(){this.visible.set(!1),this.onHide.emit(),this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null})}toggle(e){this.visible()?this.hide():this.show(e)}show(e){this.activeItemPath.set([]),this.focusedItemInfo.set({index:-1,level:0,parentKey:"",item:null}),this.pageX=e.pageX,this.pageY=e.pageY,this.onShow.emit(),this.visible()?this.position():this.visible.set(!0),e.stopPropagation(),e.preventDefault()}position(){let e=this.pageX+1,t=this.pageY+1,i=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetWidth:d.getHiddenElementOuterWidth(this.containerViewChild.nativeElement),l=this.containerViewChild.nativeElement.offsetParent?this.containerViewChild.nativeElement.offsetHeight:d.getHiddenElementOuterHeight(this.containerViewChild.nativeElement),c=d.getViewport();e+i-this.document.scrollingElement.scrollLeft>c.width&&(e-=i),t+l-this.document.scrollingElement.scrollTop>c.height&&(t-=l),e<this.document.scrollingElement.scrollLeft&&(e=this.document.scrollingElement.scrollLeft),t<this.document.scrollingElement.scrollTop&&(t=this.document.scrollingElement.scrollTop),this.containerViewChild.nativeElement.style.left=e+"px",this.containerViewChild.nativeElement.style.top=t+"px"}searchItems(e,t){this.searchValue=(this.searchValue||"")+t;let i=-1,l=!1;return this.focusedItemInfo().index!==-1?(i=this.visibleItems.slice(this.focusedItemInfo().index).findIndex(c=>this.isItemMatched(c)),i=i===-1?this.visibleItems.slice(0,this.focusedItemInfo().index).findIndex(c=>this.isItemMatched(c)):i+this.focusedItemInfo().index):i=this.visibleItems.findIndex(c=>this.isItemMatched(c)),i!==-1&&(l=!0),i===-1&&this.focusedItemInfo().index===-1&&(i=this.findFirstFocusedItemIndex()),i!==-1&&this.changeFocusedItemIndex(e,i),this.searchTimeout&&clearTimeout(this.searchTimeout),this.searchTimeout=setTimeout(()=>{this.searchValue="",this.searchTimeout=null},500),l}findVisibleItem(e){return f.isNotEmpty(this.visibleItems)?this.visibleItems[e]:null}findLastFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findLastItemIndex():e}findLastItemIndex(){return f.findLastIndex(this.visibleItems,e=>this.isValidItem(e))}findPrevItemIndex(e){let t=e>0?f.findLastIndex(this.visibleItems.slice(0,e),i=>this.isValidItem(i)):-1;return t>-1?t:e}findNextItemIndex(e){let t=e<this.visibleItems.length-1?this.visibleItems.slice(e+1).findIndex(i=>this.isValidItem(i)):-1;return t>-1?t+e+1:e}findFirstFocusedItemIndex(){let e=this.findSelectedItemIndex();return e<0?this.findFirstItemIndex():e}findFirstItemIndex(){return this.visibleItems.findIndex(e=>this.isValidItem(e))}findSelectedItemIndex(){return this.visibleItems.findIndex(e=>this.isValidSelectedItem(e))}changeFocusedItemIndex(e,t){let i=this.findVisibleItem(t),l=this.focusedItemInfo();l.index!==t&&(this.focusedItemInfo.set(T(S({},l),{index:t,item:i.item})),this.scrollInView())}scrollInView(e=-1){let t=e!==-1?`${this.id}_${e}`:this.focusedItemId,i=d.findSingle(this.rootmenu.el.nativeElement,`li[id="${t}"]`);i&&i.scrollIntoView&&i.scrollIntoView({block:"nearest",inline:"nearest"})}bindResizeListener(){G(this.platformId)&&(this.resizeListener||(this.resizeListener=this.renderer.listen(this.document.defaultView,"resize",e=>{this.hide()})))}isOutsideClicked(e){return!(this.containerViewChild.nativeElement.isSameNode(e.target)||this.containerViewChild.nativeElement.contains(e.target))}unbindResizeListener(){this.resizeListener&&(this.resizeListener(),this.resizeListener=null)}unbindGlobalListeners(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null),this.documentTriggerListener&&(this.documentTriggerListener(),this.documentTriggerListener=null),this.resizeListener&&(this.resizeListener(),this.resizeListener=null),this.touchEndListener&&(this.touchEndListener(),this.touchEndListener=null)}unbindTriggerEventListener(){this.triggerEventListener&&(this.triggerEventListener(),this.triggerEventListener=null)}removeAppendedElements(){this.appendTo&&this.containerViewChild&&(this.appendTo==="body"?this.renderer.removeChild(this.document.body,this.containerViewChild.nativeElement):d.removeChild(this.containerViewChild.nativeElement,this.appendTo))}ngOnDestroy(){this.unbindGlobalListeners(),this.unbindTriggerEventListener(),this.removeAppendedElements()}};o.\u0275fac=function(t){return new(t||o)(g(J),g(pe),g(Z),g(j),g(Y),g(Te),g(Se))},o.\u0275cmp=N({type:o,selectors:[["p-contextMenu"]],contentQueries:function(t,i,l){if(t&1&&fe(l,Le,4),t&2){let c;F(c=K())&&(i.templates=c)}},viewQuery:function(t,i){if(t&1&&(H(dt,5),H(pt,5)),t&2){let l;F(l=K())&&(i.rootmenu=l.first),F(l=K())&&(i.containerViewChild=l.first)}},hostAttrs:[1,"p-element"],inputs:{model:"model",triggerEvent:"triggerEvent",target:"target",global:"global",style:"style",styleClass:"styleClass",appendTo:"appendTo",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",id:"id",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",pressDelay:"pressDelay"},outputs:{onShow:"onShow",onHide:"onHide"},decls:1,vars:1,consts:[["container",""],["rootmenu",""],[3,"ngClass","class","ngStyle",4,"ngIf"],[3,"ngClass","ngStyle"],[3,"itemClick","menuFocus","menuBlur","menuKeydown","itemMouseEnter","root","items","itemTemplate","menuId","tabindex","ariaLabel","ariaLabelledBy","baseZIndex","autoZIndex","visible","focusedItemId","activeItemPath"]],template:function(t,i){t&1&&_(0,It,4,22,"div",2),t&2&&a("ngIf",i.visible())},dependencies:[ee,te,ie,ft],styles:[`@layer primeng{.p-contextmenu{position:absolute}.p-contextmenu ul{margin:0;padding:0;list-style:none}.p-contextmenu .p-submenu-list{position:absolute;min-width:100%;z-index:1}.p-contextmenu .p-menuitem-link{cursor:pointer;display:flex;align-items:center;text-decoration:none;overflow:hidden;position:relative}.p-contextmenu .p-menuitem-text{line-height:1}.p-contextmenu .p-menuitem{position:relative}.p-contextmenu .p-menuitem-link .p-submenu-icon:not(svg){margin-left:auto}.p-contextmenu .p-menuitem-link .p-icon-wrapper{margin-left:auto}}
`],encapsulation:2,data:{animation:[re("overlayAnimation",[$(":enter",[R({opacity:0}),ae("250ms")]),$(":leave",[ae(".1s linear",R({opacity:0}))])])]},changeDetection:0});let s=o;return s})(),jt=(()=>{let o=class o{};o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=de({type:o}),o.\u0275inj=ue({imports:[ve,ne,Me,le,oe,ne,le,oe]});let s=o;return s})();export{gt as a,jt as b};
