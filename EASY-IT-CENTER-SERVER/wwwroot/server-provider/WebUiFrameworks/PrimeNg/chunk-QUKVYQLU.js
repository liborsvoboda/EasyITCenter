import{c as K}from"./chunk-5R6LCAUH.js";import{a as l}from"./chunk-UWMVDULA.js";import{Nc as D,Pc as x,Qb as v,T as f,Ta as o,V as u,ca as p,ea as c,fa as g,ua as m,va as y,vc as A,yb as E,za as C}from"./chunk-ZJD4PHQZ.js";var V={provide:K,useExisting:f(()=>B),multi:!0},I={pint:/[\d]/,int:/[\d\-]/,pnum:/[\d\.]/,money:/[\d\.\s,]/,num:/[\d\-\.]/,hex:/[0-9a-f]/i,email:/[a-z0-9_\.\-@]/i,alpha:/[a-z_]/i,alphanum:/[a-z0-9_]/i},h={TAB:9,RETURN:13,ESC:27,BACKSPACE:8,DELETE:46},S={63234:37,63235:39,63232:38,63233:40,63276:33,63277:34,63272:46,63273:36,63275:35},B=(()=>{let s=class s{set pattern(e){this._pattern=e,e instanceof RegExp?this.regex=e:e in I?this.regex=I[e]:this.regex=/./}get pattern(){return this._pattern}constructor(e,t,i){this.document=e,this.platformId=t,this.el=i,this.ngModelChange=new y,this.regex=/./,x(this.platformId)?this.isAndroid=l.isAndroid():this.isAndroid=!1}isNavKeyPress(e){let t=e.keyCode;return t=l.getBrowser().safari&&S[t]||t,t>=33&&t<=40||t==h.RETURN||t==h.TAB||t==h.ESC}isSpecialKey(e){let t=e.keyCode||e.charCode;return t==9||t==13||t==27||t==16||t==17||t>=18&&t<=20||l.getBrowser().opera&&!e.shiftKey&&(t==8||t>=33&&t<=35||t>=36&&t<=39||t>=44&&t<=45)}getKey(e){let t=e.keyCode||e.charCode;return l.getBrowser().safari&&S[t]||t}getCharCode(e){return e.charCode||e.keyCode||e.which}findDelta(e,t){let i="";for(let r=0;r<e.length;r++)e.substr(0,r)+e.substr(r+e.length-t.length)===t&&(i=e.substr(r,e.length-t.length));return i}isValidChar(e){return this.regex.test(e)}isValidString(e){for(let t=0;t<e.length;t++)if(!this.isValidChar(e.substr(t,1)))return!1;return!0}onInput(e){if(this.isAndroid&&!this.pValidateOnly){let t=this.el.nativeElement.value,i=this.lastValue||"",r=this.findDelta(t,i),n=this.findDelta(i,t);r.length>1||!r&&!n?this.isValidString(t)||(this.el.nativeElement.value=i,this.ngModelChange.emit(i)):n||this.isValidChar(r)||(this.el.nativeElement.value=i,this.ngModelChange.emit(i)),t=this.el.nativeElement.value,this.isValidString(t)&&(this.lastValue=t)}}onKeyPress(e){if(this.isAndroid||this.pValidateOnly)return;let t=l.getBrowser(),i=this.getKey(e);if(t.mozilla&&(e.ctrlKey||e.altKey))return;if(i==17||i==18||i==13)return;let r=this.getCharCode(e),n=String.fromCharCode(r),d=!0;!t.mozilla&&(this.isSpecialKey(e)||!n)||(d=this.regex.test(n),d||e.preventDefault())}onPaste(e){let t=e.clipboardData||this.document.defaultView.clipboardData.getData("text");if(t){let i=t.getData("text");for(let r of i.toString())if(!this.regex.test(r)){e.preventDefault();return}}}validate(e){if(this.pValidateOnly){let t=this.el.nativeElement.value;if(t&&!this.regex.test(t))return{validatePattern:!1}}}};s.\u0275fac=function(t){return new(t||s)(o(A),o(C),o(m))},s.\u0275dir=g({type:s,selectors:[["","pKeyFilter",""]],hostAttrs:[1,"p-element"],hostBindings:function(t,i){t&1&&E("input",function(n){return i.onInput(n)})("keypress",function(n){return i.onKeyPress(n)})("paste",function(n){return i.onPaste(n)})},inputs:{pValidateOnly:"pValidateOnly",pattern:[p.None,"pKeyFilter","pattern"]},outputs:{ngModelChange:"ngModelChange"},features:[v([V])]});let a=s;return a})(),L=(()=>{let s=class s{};s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=c({type:s}),s.\u0275inj=u({imports:[D]});let a=s;return a})();export{B as a,L as b};
