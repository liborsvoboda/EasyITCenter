import{Pc as h,U as m,Z as f,bb as g,f as l,pc as u,za as d}from"./chunk-ZJD4PHQZ.js";import{a as r}from"./chunk-P2VZOJAX.js";var I=(()=>{let s=class s{constructor(e){this.platformId=e,this._config={theme:"aura-light-blue",darkMode:!1,inputStyle:"outlined",ripple:!0,scale:14,tableTheme:"lara-light-blue"},this.state={configActive:!1,menuActive:!1,newsActive:!1},this.config=g(this._config),this.configUpdate=new l,this.configUpdate$=this.configUpdate.asObservable(),u(()=>{let t=this.config();if(h(this.platformId)){if(this.updateStyle(t)){this.changeTheme();let i=t.darkMode?t.tableTheme.replace("light","dark"):t.tableTheme.replace("dark","light");this.replaceTableTheme(i)}this.changeScale(t.scale),this.onConfigUpdate()}})}updateStyle(e){return e.theme!==this._config.theme||e.darkMode!==this._config.darkMode||e.tableTheme!==this._config.tableTheme}onConfigUpdate(){let e=this.config();e.tableTheme=e.darkMode?e.tableTheme.replace("dark","light"):e.tableTheme.replace("light","dark"),this._config=r({},e),this.configUpdate.next(this.config())}showMenu(){this.state.menuActive=!0}hideMenu(){this.state.menuActive=!1}showConfig(){this.state.configActive=!0}hideConfig(){this.state.configActive=!1}showNews(){this.state.newsActive=!0}hideNews(){this.state.newsActive=!1}changeTheme(){let e=this.config(),n=document.getElementById("theme-link").getAttribute("href").split("/").map(o=>o==this._config.theme?o=e.theme:o==`theme-${this._config.darkMode}`?o=`theme-${e.darkMode}`:o).join("/");this.replaceThemeLink(n)}replaceThemeLink(e){let t="theme-link",i=document.getElementById(t),n=i.cloneNode(!0);n.setAttribute("href",e),n.setAttribute("id",t+"-clone"),i.parentNode.insertBefore(n,i.nextSibling),n.addEventListener("load",()=>{i.remove(),n.setAttribute("id",t)})}replaceTableTheme(e){let t="home-table-link",i=document.getElementById(t),n=i?.getAttribute("href").split("/")||null,o=n?n[n.length-2]:null;if(o!==e&&n){let p=i.getAttribute("href").replace(o,e),a=i.cloneNode(!0);a.setAttribute("id",t+"-clone"),a.setAttribute("href",p),a.addEventListener("load",()=>{i.remove(),a.setAttribute("id",t)}),i.parentNode?.insertBefore(a,i.nextSibling)}}changeScale(e){h(this.platformId)&&(document.documentElement.style.fontSize=`${e}px`)}};s.\u0275fac=function(t){return new(t||s)(f(d))},s.\u0275prov=m({token:s,factory:s.\u0275fac,providedIn:"root"});let c=s;return c})();export{I as a};
