<!DOCTYPE html>
<html><head><title>ExifMetadata.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(305);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#PhotoViewerDemo/ExifMetadata.cs" target="_top">ExifMetadata.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#PhotoViewerDemo" target="_top">HelpProjects\WPF-MORE\Sample Applications\PhotoViewerDemo\PhotoViewerDemo.csproj</a> (PhotoViewerDemo)</td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// // Copyright (c) Microsoft. All rights reserved.</span>
<span class="c">// // Licensed under the MIT license. See LICENSE file in the project root for full license information.</span>

<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Media</span>.<span class="i n">Imaging</span>;

<b>namespace</b> <span class="i n">PhotoViewerDemo</span>
{
    <b>public class</b> <a id="8fd6c5d02d797e12" href="R/8fd6c5d02d797e12.html" target="n" data-glyph="0,0" class="t t">ExifMetadata</a>
    {
        <b>private readonly</b> <a href="@0@PresentationCore/A.html#48861ce0bcef47f1" class="t t">BitmapMetadata</a> <a id="a78a7dcc3b92bf1e" href="R/a78a7dcc3b92bf1e.html" target="n" data-glyph="46,1" class="i field">_metadata</a>;

        <b>public</b> <a id="0e24e73c97f84191" href="R/0e24e73c97f84191.html" target="n" data-glyph="72,1" class="t constructor">ExifMetadata</a>(<a href="@1@System.Runtime/A.html#991565dd25f47c90" class="t t">Uri</a> <span id="r0 rd" class="r0 r">imageUri</span>)
        {
            <a href="@0@PresentationCore/A.html#bad013e46489de54" class="k">var</a> <span id="r1 rd" class="r1 r">frame</span> = <a href="@0@PresentationCore/A.html#bad013e46489de54" class="t t">BitmapFrame</a>.<a href="@0@PresentationCore/A.html#7645008b8e25bd19" class="i method">Create</a>(<span class="r0 r">imageUri</span>, <a href="@0@PresentationCore/A.html#f16ee6363903c31c" class="t t">BitmapCreateOptions</a>.<a href="@0@PresentationCore/A.html#4ebd3f43e56d1a1d" class="i field">DelayCreation</a>, <a href="@0@PresentationCore/A.html#2892a7144be883ba" class="t t">BitmapCacheOption</a>.<a href="@0@PresentationCore/A.html#557dbcdc4959d599" class="i field">None</a>);
            <a href="#a78a7dcc3b92bf1e" class="i field">_metadata</a> = (<a href="@0@PresentationCore/A.html#48861ce0bcef47f1" class="t t">BitmapMetadata</a>) <span class="r1 r">frame</span>.<a href="@0@PresentationCore/A.html#5122e2ed320b76f4" class="i property">Metadata</a>;
        }

        <b>public uint</b>? <a id="b0c8bb58b35d7da4" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">Width</a>
        {
            <b>get</b>
            {
                <a href="@1@System.Runtime/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r2 rd" class="r2 r">val</span> = <a href="#39cca1489dd83c4a" class="i method">QueryMetadata</a>(<span class="s">&quot;/app1/ifd/exif/subifd:{uint=40962}&quot;</span>);
                <b>if</b> (<span class="r2 r">val</span> == <b>null</b>)
                {
                    <b>return</b> <b>null</b>;
                }
                <b>if</b> (<span class="r2 r">val</span>.<a href="@1@System.Runtime/A.html#4d73eb225aef8a61" class="i method">GetType</a>() == <b>typeof</b> (<b>uint</b>))
                {
                    <b>return</b> (<b>uint</b>?) <span class="r2 r">val</span>;
                }
                <b>return</b> <span class="t t">Convert</span>.<span class="i method">ToUInt32</span>(<span class="r2 r">val</span>);
            }
        }

        <b>public uint</b>? <a id="0147077ee8e48ea6" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">Height</a>
        {
            <b>get</b>
            {
                <a href="@1@System.Runtime/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r3 rd" class="r3 r">val</span> = <a href="#39cca1489dd83c4a" class="i method">QueryMetadata</a>(<span class="s">&quot;/app1/ifd/exif/subifd:{uint=40963}&quot;</span>);
                <b>if</b> (<span class="r3 r">val</span> == <b>null</b>)
                {
                    <b>return</b> <b>null</b>;
                }
                <b>if</b> (<span class="r3 r">val</span>.<a href="@1@System.Runtime/A.html#4d73eb225aef8a61" class="i method">GetType</a>() == <b>typeof</b> (<b>uint</b>))
                {
                    <b>return</b> (<b>uint</b>?) <span class="r3 r">val</span>;
                }
                <b>return</b> <span class="t t">Convert</span>.<span class="i method">ToUInt32</span>(<span class="r3 r">val</span>);
            }
        }

        <b>public decimal</b>? <a id="69053cf018545131" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">HorizontalResolution</a>
        {
            <b>get</b>
            {
                <a href="@1@System.Runtime/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r4 rd" class="r4 r">val</span> = <a href="#39cca1489dd83c4a" class="i method">QueryMetadata</a>(<span class="s">&quot;/app1/ifd/exif:{uint=282}&quot;</span>);
                <b>if</b> (<span class="r4 r">val</span> != <b>null</b>)
                {
                    <b>return</b> <a href="#ac3dbc85c5339139" class="i method">ParseUnsignedRational</a>((<b>ulong</b>) <span class="r4 r">val</span>);
                }
                <b>return</b> <b>null</b>;
            }
        }

        <b>public decimal</b>? <a id="9ecacdec29f5bfe9" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">VerticalResolution</a>
        {
            <b>get</b>
            {
                <a href="@1@System.Runtime/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r5 rd" class="r5 r">val</span> = <a href="#39cca1489dd83c4a" class="i method">QueryMetadata</a>(<span class="s">&quot;/app1/ifd/exif:{uint=283}&quot;</span>);
                <b>if</b> (<span class="r5 r">val</span> != <b>null</b>)
                {
                    <b>return</b> <a href="#ac3dbc85c5339139" class="i method">ParseUnsignedRational</a>((<b>ulong</b>) <span class="r5 r">val</span>);
                }
                <b>return</b> <b>null</b>;
            }
        }

        <b>public string</b> <a id="6eb3f5c173325e06" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">EquipmentManufacturer</a>
        {
            <b>get</b>
            {
                <a href="@1@System.Runtime/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r6 rd" class="r6 r">val</span> = <a href="#39cca1489dd83c4a" class="i method">QueryMetadata</a>(<span class="s">&quot;/app1/ifd/exif:{uint=271}&quot;</span>);
                <b>return</b> (<span class="r6 r">val</span> != <b>null</b> ? (<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>) <span class="r6 r">val</span> : <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@1@System.Runtime/A.html#c9f70a27facb27cf" class="i field">Empty</a>);
            }
        }

        <b>public string</b> <a id="78afe60c12d8a667" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">CameraModel</a>
        {
            <b>get</b>
            {
                <a href="@1@System.Runtime/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r7 rd" class="r7 r">val</span> = <a href="#39cca1489dd83c4a" class="i method">QueryMetadata</a>(<span class="s">&quot;/app1/ifd/exif:{uint=272}&quot;</span>);
                <b>return</b> (<span class="r7 r">val</span> != <b>null</b> ? (<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>) <span class="r7 r">val</span> : <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@1@System.Runtime/A.html#c9f70a27facb27cf" class="i field">Empty</a>);
            }
        }

        <b>public string</b> <a id="7bc738cecb746919" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">CreationSoftware</a>
        {
            <b>get</b>
            {
                <a href="@1@System.Runtime/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r8 rd" class="r8 r">val</span> = <a href="#39cca1489dd83c4a" class="i method">QueryMetadata</a>(<span class="s">&quot;/app1/ifd/exif:{uint=305}&quot;</span>);
                <b>return</b> (<span class="r8 r">val</span> != <b>null</b> ? (<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>) <span class="r8 r">val</span> : <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@1@System.Runtime/A.html#c9f70a27facb27cf" class="i field">Empty</a>);
            }
        }

        <b>public</b> <a href="ColorRepresentation.cs.html#4e95f790a41d2bb9" class="t t">ColorRepresentation</a> <a id="83d95bacfea8a2b3" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">ColorRepresentation</a>
        {
            <b>get</b>
            {
                <b>if</b> ((<b>ushort</b>) <a href="#39cca1489dd83c4a" class="i method">QueryMetadata</a>(<span class="s">&quot;/app1/ifd/exif/subifd:{uint=40961}&quot;</span>) == 1)
                    <b>return</b> <a href="ColorRepresentation.cs.html#4e95f790a41d2bb9" class="t t">ColorRepresentation</a>.<a href="ColorRepresentation.cs.html#90bb3347dde213e9" class="i field">SRgb</a>;
                <b>return</b> <a href="ColorRepresentation.cs.html#4e95f790a41d2bb9" class="t t">ColorRepresentation</a>.<a href="ColorRepresentation.cs.html#f0cc66f827548555" class="i field">Uncalibrated</a>;
            }
        }

        <b>public decimal</b>? <a id="5320feffd9bff9e6" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">ExposureTime</a>
        {
            <b>get</b>
            {
                <a href="@1@System.Runtime/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r9 rd" class="r9 r">val</span> = <a href="#39cca1489dd83c4a" class="i method">QueryMetadata</a>(<span class="s">&quot;/app1/ifd/exif/subifd:{uint=33434}&quot;</span>);
                <b>if</b> (<span class="r9 r">val</span> != <b>null</b>)
                {
                    <b>return</b> <a href="#ac3dbc85c5339139" class="i method">ParseUnsignedRational</a>((<b>ulong</b>) <span class="r9 r">val</span>);
                }
                <b>return</b> <b>null</b>;
            }
        }

        <b>public decimal</b>? <a id="d7b0a0d759f8f98e" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">ExposureCompensation</a>
        {
            <b>get</b>
            {
                <a href="@1@System.Runtime/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r10 rd" class="r10 r">val</span> = <a href="#39cca1489dd83c4a" class="i method">QueryMetadata</a>(<span class="s">&quot;/app1/ifd/exif/subifd:{uint=37380}&quot;</span>);
                <b>if</b> (<span class="r10 r">val</span> != <b>null</b>)
                {
                    <b>return</b> <a href="#9bb80b3a9b7eb608" class="i method">ParseSignedRational</a>((<b>long</b>) <span class="r10 r">val</span>);
                }
                <b>return</b> <b>null</b>;
            }
        }

        <b>public decimal</b>? <a id="983b7a7955d268ac" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">LensAperture</a>
        {
            <b>get</b>
            {
                <a href="@1@System.Runtime/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r11 rd" class="r11 r">val</span> = <a href="#39cca1489dd83c4a" class="i method">QueryMetadata</a>(<span class="s">&quot;/app1/ifd/exif/subifd:{uint=33437}&quot;</span>);
                <b>if</b> (<span class="r11 r">val</span> != <b>null</b>)
                {
                    <b>return</b> <a href="#ac3dbc85c5339139" class="i method">ParseUnsignedRational</a>((<b>ulong</b>) <span class="r11 r">val</span>);
                }
                <b>return</b> <b>null</b>;
            }
        }

        <b>public decimal</b>? <a id="d9fbc35f0af58685" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">FocalLength</a>
        {
            <b>get</b>
            {
                <a href="@1@System.Runtime/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r12 rd" class="r12 r">val</span> = <a href="#39cca1489dd83c4a" class="i method">QueryMetadata</a>(<span class="s">&quot;/app1/ifd/exif/subifd:{uint=37386}&quot;</span>);
                <b>if</b> (<span class="r12 r">val</span> != <b>null</b>)
                {
                    <b>return</b> <a href="#ac3dbc85c5339139" class="i method">ParseUnsignedRational</a>((<b>ulong</b>) <span class="r12 r">val</span>);
                }
                <b>return</b> <b>null</b>;
            }
        }

        <b>public ushort</b>? <a id="9fbd2734d69ef8e1" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">IsoSpeed</a> =&gt; (<b>ushort</b>?) <a href="#39cca1489dd83c4a" class="i method">QueryMetadata</a>(<span class="s">&quot;/app1/ifd/exif/subifd:{uint=34855}&quot;</span>);

        <b>public</b> <a href="FlashMode.cs.html#2a3d76cebcbe11bf" class="t t">FlashMode</a> <a id="afb3209b6fdd630c" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">FlashMode</a>
        {
            <b>get</b>
            {
                <b>if</b> ((<b>ushort</b>) <a href="#39cca1489dd83c4a" class="i method">QueryMetadata</a>(<span class="s">&quot;/app1/ifd/exif/subifd:{uint=37385}&quot;</span>)%2 == 1)
                    <b>return</b> <a href="FlashMode.cs.html#2a3d76cebcbe11bf" class="t t">FlashMode</a>.<a href="FlashMode.cs.html#be0cc593d1fdd582" class="i field">FlashFired</a>;
                <b>return</b> <a href="FlashMode.cs.html#2a3d76cebcbe11bf" class="t t">FlashMode</a>.<a href="FlashMode.cs.html#f0bd40b4905810c3" class="i field">FlashDidNotFire</a>;
            }
        }

        <b>public</b> <a href="ExposureMode.cs.html#e96d466d9a72b1bb" class="t t">ExposureMode</a> <a id="162a444358870e9b" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">ExposureMode</a>
        {
            <b>get</b>
            {
                <a href="@1@System.Runtime/A.html#ffebe438fd9cbf0e" class="k">var</a> <span id="r13 rd" class="r13 r">mode</span> = (<b>ushort</b>?) <a href="#39cca1489dd83c4a" class="i method">QueryMetadata</a>(<span class="s">&quot;/app1/ifd/exif/subifd:{uint=34850}&quot;</span>);

                <b>if</b> (<span class="r13 r">mode</span> == <b>null</b>)
                {
                    <b>return</b> <a href="ExposureMode.cs.html#e96d466d9a72b1bb" class="t t">ExposureMode</a>.<a href="ExposureMode.cs.html#18f0ea9ed187e02c" class="i field">Unknown</a>;
                }
                <b>switch</b> ((<b>int</b>) <span class="r13 r">mode</span>)
                {
                    <b>case</b> 1:
                        <b>return</b> <a href="ExposureMode.cs.html#e96d466d9a72b1bb" class="t t">ExposureMode</a>.<a href="ExposureMode.cs.html#115cdf6132b8ed2b" class="i field">Manual</a>;
                    <b>case</b> 2:
                        <b>return</b> <a href="ExposureMode.cs.html#e96d466d9a72b1bb" class="t t">ExposureMode</a>.<a href="ExposureMode.cs.html#502ea43cf7601d09" class="i field">NormalProgram</a>;
                    <b>case</b> 3:
                        <b>return</b> <a href="ExposureMode.cs.html#e96d466d9a72b1bb" class="t t">ExposureMode</a>.<a href="ExposureMode.cs.html#384a308ae4e2ddfb" class="i field">AperturePriority</a>;
                    <b>case</b> 4:
                        <b>return</b> <a href="ExposureMode.cs.html#e96d466d9a72b1bb" class="t t">ExposureMode</a>.<a href="ExposureMode.cs.html#440603601e26937c" class="i field">ShutterPriority</a>;
                    <b>case</b> 5:
                        <b>return</b> <a href="ExposureMode.cs.html#e96d466d9a72b1bb" class="t t">ExposureMode</a>.<a href="ExposureMode.cs.html#8c24d650b5187685" class="i field">LowSpeedMode</a>;
                    <b>case</b> 6:
                        <b>return</b> <a href="ExposureMode.cs.html#e96d466d9a72b1bb" class="t t">ExposureMode</a>.<a href="ExposureMode.cs.html#44bd2deefd8bab43" class="i field">HighSpeedMode</a>;
                    <b>case</b> 7:
                        <b>return</b> <a href="ExposureMode.cs.html#e96d466d9a72b1bb" class="t t">ExposureMode</a>.<a href="ExposureMode.cs.html#c10cbe2e480e419c" class="i field">PortraitMode</a>;
                    <b>case</b> 8:
                        <b>return</b> <a href="ExposureMode.cs.html#e96d466d9a72b1bb" class="t t">ExposureMode</a>.<a href="ExposureMode.cs.html#aa47b40f66484e7c" class="i field">LandscapeMode</a>;
                    <b>default</b>:
                        <b>return</b> <a href="ExposureMode.cs.html#e96d466d9a72b1bb" class="t t">ExposureMode</a>.<a href="ExposureMode.cs.html#18f0ea9ed187e02c" class="i field">Unknown</a>;
                }
            }
        }

        <b>public</b> <a href="WhiteBalanceMode.cs.html#84a63641eaa55aa6" class="t t">WhiteBalanceMode</a> <a id="b7cd456fcf7eb2d7" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">WhiteBalanceMode</a>
        {
            <b>get</b>
            {
                <a href="@1@System.Runtime/A.html#ffebe438fd9cbf0e" class="k">var</a> <span id="r14 rd" class="r14 r">mode</span> = (<b>ushort</b>?) <a href="#39cca1489dd83c4a" class="i method">QueryMetadata</a>(<span class="s">&quot;/app1/ifd/exif/subifd:{uint=37384}&quot;</span>);

                <b>if</b> (<span class="r14 r">mode</span> == <b>null</b>)
                {
                    <b>return</b> <a href="WhiteBalanceMode.cs.html#84a63641eaa55aa6" class="t t">WhiteBalanceMode</a>.<a href="WhiteBalanceMode.cs.html#97ffc1a129d47cdb" class="i field">Unknown</a>;
                }
                <b>switch</b> ((<b>int</b>) <span class="r14 r">mode</span>)
                {
                    <b>case</b> 1:
                        <b>return</b> <a href="WhiteBalanceMode.cs.html#84a63641eaa55aa6" class="t t">WhiteBalanceMode</a>.<a href="WhiteBalanceMode.cs.html#c3bb294fb019dc44" class="i field">Daylight</a>;
                    <b>case</b> 2:
                        <b>return</b> <a href="WhiteBalanceMode.cs.html#84a63641eaa55aa6" class="t t">WhiteBalanceMode</a>.<a href="WhiteBalanceMode.cs.html#7098f523ed6bfee9" class="i field">Fluorescent</a>;
                    <b>case</b> 3:
                        <b>return</b> <a href="WhiteBalanceMode.cs.html#84a63641eaa55aa6" class="t t">WhiteBalanceMode</a>.<a href="WhiteBalanceMode.cs.html#c6adabf8e214d9bb" class="i field">Tungsten</a>;
                    <b>case</b> 10:
                        <b>return</b> <a href="WhiteBalanceMode.cs.html#84a63641eaa55aa6" class="t t">WhiteBalanceMode</a>.<a href="WhiteBalanceMode.cs.html#744aed7b8f0cfc6a" class="i field">Flash</a>;
                    <b>case</b> 17:
                        <b>return</b> <a href="WhiteBalanceMode.cs.html#84a63641eaa55aa6" class="t t">WhiteBalanceMode</a>.<a href="WhiteBalanceMode.cs.html#90f4e750bca704a9" class="i field">StandardLightA</a>;
                    <b>case</b> 18:
                        <b>return</b> <a href="WhiteBalanceMode.cs.html#84a63641eaa55aa6" class="t t">WhiteBalanceMode</a>.<a href="WhiteBalanceMode.cs.html#21e7b318c7fd555c" class="i field">StandardLightB</a>;
                    <b>case</b> 19:
                        <b>return</b> <a href="WhiteBalanceMode.cs.html#84a63641eaa55aa6" class="t t">WhiteBalanceMode</a>.<a href="WhiteBalanceMode.cs.html#5b3b21bb3736e7b5" class="i field">StandardLightC</a>;
                    <b>case</b> 20:
                        <b>return</b> <a href="WhiteBalanceMode.cs.html#84a63641eaa55aa6" class="t t">WhiteBalanceMode</a>.<a href="WhiteBalanceMode.cs.html#9633fee90d353cc2" class="i field">D55</a>;
                    <b>case</b> 21:
                        <b>return</b> <a href="WhiteBalanceMode.cs.html#84a63641eaa55aa6" class="t t">WhiteBalanceMode</a>.<a href="WhiteBalanceMode.cs.html#47bb869177dedd2b" class="i field">D65</a>;
                    <b>case</b> 22:
                        <b>return</b> <a href="WhiteBalanceMode.cs.html#84a63641eaa55aa6" class="t t">WhiteBalanceMode</a>.<a href="WhiteBalanceMode.cs.html#33d074d02b39e9e9" class="i field">D75</a>;
                    <b>case</b> 255:
                        <b>return</b> <a href="WhiteBalanceMode.cs.html#84a63641eaa55aa6" class="t t">WhiteBalanceMode</a>.<a href="WhiteBalanceMode.cs.html#2a6580df39d9ee1f" class="i field">Other</a>;
                    <b>default</b>:
                        <b>return</b> <a href="WhiteBalanceMode.cs.html#84a63641eaa55aa6" class="t t">WhiteBalanceMode</a>.<a href="WhiteBalanceMode.cs.html#97ffc1a129d47cdb" class="i field">Unknown</a>;
                }
            }
        }

        <b>public</b> <a href="@1@System.Runtime/A.html#df6b1eba7461813b" class="t t">DateTime</a>? <a id="b05d8b30132cdd51" href="R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">DateImageTaken</a>
        {
            <b>get</b>
            {
                <a href="@1@System.Runtime/A.html#d9262ceecc1719ab" class="k">var</a> <span id="r15 rd" class="r15 r">val</span> = <a href="#39cca1489dd83c4a" class="i method">QueryMetadata</a>(<span class="s">&quot;/app1/ifd/exif/subifd:{uint=36867}&quot;</span>);
                <b>if</b> (<span class="r15 r">val</span> == <b>null</b>)
                {
                    <b>return</b> <b>null</b>;
                }
                <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r16 rd" class="r16 r">date</span> = (<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>) <span class="r15 r">val</span>;
                <b>try</b>
                {
                    <b>return</b> <b>new</b> <a href="@1@System.Runtime/A.html#e2f20bf49c81c936" class="t constructor">DateTime</a>(
                        <b>int</b>.<a href="@1@System.Runtime/A.html#a438016f815a35c3" class="i method">Parse</a>(<span class="r16 r">date</span>.<a href="@1@System.Runtime/A.html#8124961f027d9ac9" class="i method">Substring</a>(0, 4)), <span class="c">// year</span>
                        <b>int</b>.<a href="@1@System.Runtime/A.html#a438016f815a35c3" class="i method">Parse</a>(<span class="r16 r">date</span>.<a href="@1@System.Runtime/A.html#8124961f027d9ac9" class="i method">Substring</a>(5, 2)), <span class="c">// month</span>
                        <b>int</b>.<a href="@1@System.Runtime/A.html#a438016f815a35c3" class="i method">Parse</a>(<span class="r16 r">date</span>.<a href="@1@System.Runtime/A.html#8124961f027d9ac9" class="i method">Substring</a>(8, 2)), <span class="c">// day</span>
                        <b>int</b>.<a href="@1@System.Runtime/A.html#a438016f815a35c3" class="i method">Parse</a>(<span class="r16 r">date</span>.<a href="@1@System.Runtime/A.html#8124961f027d9ac9" class="i method">Substring</a>(11, 2)), <span class="c">// hour</span>
                        <b>int</b>.<a href="@1@System.Runtime/A.html#a438016f815a35c3" class="i method">Parse</a>(<span class="r16 r">date</span>.<a href="@1@System.Runtime/A.html#8124961f027d9ac9" class="i method">Substring</a>(14, 2)), <span class="c">// minute</span>
                        <b>int</b>.<a href="@1@System.Runtime/A.html#a438016f815a35c3" class="i method">Parse</a>(<span class="r16 r">date</span>.<a href="@1@System.Runtime/A.html#8124961f027d9ac9" class="i method">Substring</a>(17, 2)) <span class="c">// second</span>
                        );
                }
                <b>catch</b> (<a href="@1@System.Runtime/A.html#80a470d64a9b80ef" class="t t">FormatException</a>)
                {
                    <b>return</b> <b>null</b>;
                }
                <b>catch</b> (<a href="@1@System.Runtime/A.html#0b6129dd66924863" class="t t">OverflowException</a>)
                {
                    <b>return</b> <b>null</b>;
                }
                <b>catch</b> (<a href="@1@System.Runtime/A.html#c742289497493bb8" class="t t">ArgumentNullException</a>)
                {
                    <b>return</b> <b>null</b>;
                }
                <b>catch</b> (<a href="@1@System.Runtime/A.html#2d739200b2282eb9" class="t t">NullReferenceException</a>)
                {
                    <b>return</b> <b>null</b>;
                }
            }
        }

        <b>private decimal</b> <a id="ac3dbc85c5339139" href="R/ac3dbc85c5339139.html" target="n" data-glyph="76,1" class="i method">ParseUnsignedRational</a>(<b>ulong</b> <span id="r17 rd" class="r17 r">exifValue</span>) =&gt; (<span class="r17 r">exifValue</span> &amp; 0xFFFFFFFFL) / (<b>decimal</b>)((<span class="r17 r">exifValue</span> &amp; 0xFFFFFFFF00000000L) &gt;&gt; 32);

        <b>private decimal</b> <a id="9bb80b3a9b7eb608" href="R/9bb80b3a9b7eb608.html" target="n" data-glyph="76,1" class="i method">ParseSignedRational</a>(<b>long</b> <span id="r18 rd" class="r18 r">exifValue</span>) =&gt; (<span class="r18 r">exifValue</span> &amp; 0xFFFFFFFFL) / (<b>decimal</b>)((<span class="r18 r">exifValue</span> &amp; 0x7FFFFFFF00000000L) &gt;&gt; 32);

        <b>private object</b> <a id="39cca1489dd83c4a" href="R/39cca1489dd83c4a.html" target="n" data-glyph="76,1" class="i method">QueryMetadata</a>(<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r19 rd" class="r19 r">query</span>)
        {
            <b>if</b> (<a href="#a78a7dcc3b92bf1e" class="i field">_metadata</a>.<a href="@0@PresentationCore/A.html#5e653d52ee7e46ca" class="i method">ContainsQuery</a>(<span class="r19 r">query</span>))
                <b>return</b> <a href="#a78a7dcc3b92bf1e" class="i field">_metadata</a>.<a href="@0@PresentationCore/A.html#a60c2531140b9417" class="i method">GetQuery</a>(<span class="r19 r">query</span>);
            <b>return</b> <b>null</b>;
        }
    }
}</pre></td></tr></table></div></body></html>
