<!DOCTYPE html>
<html><head><title>MainWindow.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(96);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#DataBindingDemo/MainWindow.cs" target="_top">MainWindow.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#DataBindingDemo" target="_top">HelpProjects\WPF-MORE\Sample Applications\DataBindingDemo\DataBindingDemo.csproj</a> (DataBindingDemo)</td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// // Copyright (c) Microsoft. All rights reserved.</span>
<span class="c">// // Licensed under the MIT license. See LICENSE file in the project root for full license information.</span>

<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>.<span class="i n">Specialized</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">ComponentModel</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Automation</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Automation</span>.<span class="i n">Peers</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Data</span>;

<b>namespace</b> <span class="i n">DataBindingDemo</span>
{
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c">     Interaction logic for MainWindow.xaml</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <b>public</b> <a href="P/7dc771bb371861d7.html" target="s" class="k">partial</a> <b>class</b> <a id="7dc771bb371861d7" href="R/../../0000000000.html" target="n" data-glyph="0,0" class="t t">MainWindow</a> : <a href="@0@PresentationFramework/A.html#e438dc91640a8d15" class="t t">Window</a>
    {
        <b>private readonly</b> <a href="@0@PresentationFramework/A.html#8d41d294959bd755" class="t t">CollectionViewSource</a> <a id="949b9ba017078239" href="R/949b9ba017078239.html" target="n" data-glyph="46,1" class="i field">_listingDataView</a>;

        <b>public</b> <a id="7a7b7a0e2172d85c" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="t constructor">MainWindow</a>()
        {
            <a href="obj/Debug/netcoreapp3.1/MainWindow.g.cs.html#5ca46a4093116ba9" class="i method">InitializeComponent</a>();
            <a href="#949b9ba017078239" class="i field">_listingDataView</a> = (<a href="@0@PresentationFramework/A.html#8d41d294959bd755" class="t t">CollectionViewSource</a>) (<a href="@0@PresentationFramework/A.html#49776fc24d2e2b0d" class="i property">Resources</a><a href="@0@PresentationFramework/A.html#fe23e03a125d22aa">[</a><span class="s">&quot;ListingDataView&quot;</span>]);
        }

        <b>private void</b> <a id="9ae7586dbc4a6f17" href="R/9ae7586dbc4a6f17.html" target="n" data-glyph="76,1" class="i method">OpenAddProductWindow</a>(<b>object</b> <span id="r0 rd" class="r0 r">sender</span>, <a href="@0@PresentationCore/A.html#3089ebf2139eba9d" class="t t">RoutedEventArgs</a> <span id="r1 rd" class="r1 r">e</span>)
        {
            <a href="P/e75000b11412d0ac.html#e75000b11412d0ac" class="k">var</a> <span id="r2 rd" class="r2 r">addProductWindow</span> = <b>new</b> <a href="AddProductWindow.cs.html#e02e6a2c09eb9426" class="t constructor">AddProductWindow</a>();
            <span class="r2 r">addProductWindow</span>.<a href="@0@PresentationFramework/A.html#61d39b218b53dbbe" class="i method">ShowDialog</a>();
        }

        <b>private void</b> <a id="315fb8f1758b81ca" href="R/315fb8f1758b81ca.html" target="n" data-glyph="76,1" class="i method">ShowOnlyBargainsFilter</a>(<b>object</b> <span id="r3 rd" class="r3 r">sender</span>, <a href="@0@PresentationFramework/A.html#3117b04fa498e5cc" class="t t">FilterEventArgs</a> <span id="r4 rd" class="r4 r">e</span>)
        {
            <a href="AuctionItem.cs.html#1d94fb171743d22f" class="k">var</a> <span id="r5 rd" class="r5 r">product</span> = <span class="r4 r">e</span>.<a href="@0@PresentationFramework/A.html#bd8f4619d21a0ca5" class="i property">Item</a> <b>as</b> <a href="AuctionItem.cs.html#1d94fb171743d22f" class="t t">AuctionItem</a>;
            <b>if</b> (<span class="r5 r">product</span> != <b>null</b>)
            {
                <span class="c">// Filter out products with price 25 or above</span>
                <span class="r4 r">e</span>.<a href="@0@PresentationFramework/A.html#a7d8b87b8844bed9" class="i property">Accepted</a> = <span class="r5 r">product</span>.<a href="AuctionItem.cs.html#7857b72cd81b662f" class="i property">CurrentPrice</a> &lt; 25;
            }
        }

        <b>private void</b> <a id="f06cbba2cad2cf6b" href="R/f06cbba2cad2cf6b.html" target="n" data-glyph="76,1" class="i method">AddGrouping</a>(<b>object</b> <span id="r6 rd" class="r6 r">sender</span>, <a href="@0@PresentationCore/A.html#3089ebf2139eba9d" class="t t">RoutedEventArgs</a> <span id="r7 rd" class="r7 r">args</span>)
        {
            <span class="c">// This groups the items in the view by the property &quot;Category&quot;</span>
            <a href="@0@PresentationFramework/A.html#9dc60224bcda04a1" class="k">var</a> <span id="r8 rd" class="r8 r">groupDescription</span> = <b>new</b> <a href="@0@PresentationFramework/A.html#4549f199284ac19c" class="t constructor">PropertyGroupDescription</a> {<a href="@0@PresentationFramework/A.html#a92b583bf7b9c788" class="i property">PropertyName</a> = <span class="s">&quot;Category&quot;</span>};
            <a href="#949b9ba017078239" class="i field">_listingDataView</a>.<a href="@0@PresentationFramework/A.html#1b05378810bad5cc" class="i property">GroupDescriptions</a>.<a href="@1@System.Runtime/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<span class="r8 r">groupDescription</span>);

            <a href="#d7a19852a550d616" class="i method">NotifyUpdate</a>();

        }

        <b>private void</b> <a id="d7a19852a550d616" href="R/d7a19852a550d616.html" target="n" data-glyph="76,1" class="i method">NotifyUpdate</a>()
        {
            <a href="@0@PresentationCore/A.html#a5e7d19a3e41ef98" class="k">var</a> <span id="r9 rd" class="r9 r">listingPeer</span> = <a href="@0@PresentationFramework/A.html#46278519319e6152" class="t t">ListBoxAutomationPeer</a>.<a href="@0@PresentationCore/A.html#b7971a246c64a087" class="i method">FromElement</a>(<a href="obj/Debug/netcoreapp3.1/MainWindow.g.cs.html#cb2fa247e790b4e4" class="i field">Master</a>);
            <span class="r9 r">listingPeer</span>.<a href="@0@PresentationCore/A.html#7613a27c8fd30923" class="i method">RaiseAutomationEvent</a>(<a href="@0@PresentationCore/A.html#ae3990d504d4a402" class="t t">AutomationEvents</a>.<a href="@0@PresentationCore/A.html#d34be273f30f3506" class="i field">LiveRegionChanged</a>);
        }

        <b>private void</b> <a id="341a727438f8ed25" href="R/341a727438f8ed25.html" target="n" data-glyph="76,1" class="i method">RemoveGrouping</a>(<b>object</b> <span id="r10 rd" class="r10 r">sender</span>, <a href="@0@PresentationCore/A.html#3089ebf2139eba9d" class="t t">RoutedEventArgs</a> <span id="r11 rd" class="r11 r">args</span>)
        {
            <a href="#949b9ba017078239" class="i field">_listingDataView</a>.<a href="@0@PresentationFramework/A.html#1b05378810bad5cc" class="i property">GroupDescriptions</a>.<a href="@1@System.Runtime/A.html#1c7184c9f3526d9d" class="i method">Clear</a>();
            <a href="#d7a19852a550d616" class="i method">NotifyUpdate</a>();
        }

        <b>private void</b> <a id="b8ee7f6e6aae5c88" href="R/b8ee7f6e6aae5c88.html" target="n" data-glyph="76,1" class="i method">AddSorting</a>(<b>object</b> <span id="r12 rd" class="r12 r">sender</span>, <a href="@0@PresentationCore/A.html#3089ebf2139eba9d" class="t t">RoutedEventArgs</a> <span id="r13 rd" class="r13 r">args</span>)
        {
            <span class="c">// This sorts the items first by Category and within each Category,</span>
            <span class="c">// by StartDate. Notice that because Category is an enumeration,</span>
            <span class="c">// the order of the items is the same as in the enumeration declaration</span>
            <a href="#949b9ba017078239" class="i field">_listingDataView</a>.<a href="@0@PresentationFramework/A.html#602b92f8d130f1f0" class="i property">SortDescriptions</a>.<a href="@1@System.Runtime/A.html#5c61cc24de82f7e7" class="i method">Add</a>(
                <b>new</b> <a href="@0@WindowsBase/A.html#8a48f31165133677" class="t constructor">SortDescription</a>(<span class="s">&quot;Category&quot;</span>, <span class="t t">ListSortDirection</span>.<span class="i field">Ascending</span>));
            <a href="#949b9ba017078239" class="i field">_listingDataView</a>.<a href="@0@PresentationFramework/A.html#602b92f8d130f1f0" class="i property">SortDescriptions</a>.<a href="@1@System.Runtime/A.html#5c61cc24de82f7e7" class="i method">Add</a>(
                <b>new</b> <a href="@0@WindowsBase/A.html#8a48f31165133677" class="t constructor">SortDescription</a>(<span class="s">&quot;StartDate&quot;</span>, <span class="t t">ListSortDirection</span>.<span class="i field">Ascending</span>));
            <a href="#d7a19852a550d616" class="i method">NotifyUpdate</a>();
        }

        <b>private void</b> <a id="894d083c7505b5de" href="R/894d083c7505b5de.html" target="n" data-glyph="76,1" class="i method">RemoveSorting</a>(<b>object</b> <span id="r14 rd" class="r14 r">sender</span>, <a href="@0@PresentationCore/A.html#3089ebf2139eba9d" class="t t">RoutedEventArgs</a> <span id="r15 rd" class="r15 r">args</span>)
        {
            <a href="#949b9ba017078239" class="i field">_listingDataView</a>.<a href="@0@PresentationFramework/A.html#602b92f8d130f1f0" class="i property">SortDescriptions</a>.<a href="@1@System.Runtime/A.html#1c7184c9f3526d9d" class="i method">Clear</a>();
            <a href="#d7a19852a550d616" class="i method">NotifyUpdate</a>();
        }

        <b>private void</b> <a id="e5a40fbf58def000" href="R/e5a40fbf58def000.html" target="n" data-glyph="76,1" class="i method">AddFiltering</a>(<b>object</b> <span id="r16 rd" class="r16 r">sender</span>, <a href="@0@PresentationCore/A.html#3089ebf2139eba9d" class="t t">RoutedEventArgs</a> <span id="r17 rd" class="r17 r">args</span>)
        {
            <a href="#949b9ba017078239" class="i field">_listingDataView</a>.<a href="@0@PresentationFramework/A.html#6f14f6cbd4cb1e2d" class="i">Filter</a> += <a href="#315fb8f1758b81ca" class="i method">ShowOnlyBargainsFilter</a>;
            <a href="#d7a19852a550d616" class="i method">NotifyUpdate</a>();
        }

        <b>private void</b> <a id="333ca387bccfd4f3" href="R/333ca387bccfd4f3.html" target="n" data-glyph="76,1" class="i method">RemoveFiltering</a>(<b>object</b> <span id="r18 rd" class="r18 r">sender</span>, <a href="@0@PresentationCore/A.html#3089ebf2139eba9d" class="t t">RoutedEventArgs</a> <span id="r19 rd" class="r19 r">args</span>)
        {
            <a href="#949b9ba017078239" class="i field">_listingDataView</a>.<a href="@0@PresentationFramework/A.html#6f14f6cbd4cb1e2d" class="i">Filter</a> -= <a href="#315fb8f1758b81ca" class="i method">ShowOnlyBargainsFilter</a>;
            <a href="#d7a19852a550d616" class="i method">NotifyUpdate</a>();
        }
    }

}
</pre></td></tr></table></div></body></html>
