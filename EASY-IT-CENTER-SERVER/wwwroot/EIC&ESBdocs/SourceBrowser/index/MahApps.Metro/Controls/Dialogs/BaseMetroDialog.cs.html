<!DOCTYPE html>
<html><head><title>BaseMetroDialog.cs</title><link rel="stylesheet" href="../../../styles.css"><script src="../../../scripts.js"></script></head>
<body class="cB" onload="i(564);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#MahApps.Metro/Controls/Dialogs/BaseMetroDialog.cs" target="_top">Controls\Dialogs\BaseMetroDialog.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#MahApps.Metro" target="_top">HelpProjects\WPF-MAIN\MahApps.Metro\src\MahApps.Metro\MahApps.Metro.csproj</a> (MahApps.Metro)</td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Licensed to the .NET Foundation under one or more agreements.</span>
<span class="c">// The .NET Foundation licenses this file to you under the MIT license.</span>
<span class="c">// See the LICENSE file in the project root for more information.</span>

<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Linq</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Threading</span>.<span class="i n">Tasks</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Automation</span>.<span class="i n">Peers</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Controls</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Input</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Media</span>.<span class="i n">Animation</span>;
<b>using</b> <span class="i n">ControlzEx</span>.<span class="i n">Theming</span>;
<b>using</b> <span class="i n">MahApps</span>.<span class="i n">Metro</span>.<span class="i n">Automation</span>.<span class="i n">Peers</span>;
<b>using</b> <span class="i n">MahApps</span>.<span class="i n">Metro</span>.<span class="i n">Controls</span>.<span class="i n">Helper</span>;

<b>namespace</b> <span class="i n">MahApps</span>.<span class="i n">Metro</span>.<span class="i n">Controls</span>.<span class="i n">Dialogs</span>
{
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> The base class for dialogs.</span>
    <span class="c">///</span>
    <span class="c">///</span><span class="c"> You probably don&#39;t want to use this class, if you want to add arbitrary content to your dialog,</span>
    <span class="c">///</span><span class="c"> use the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="CustomDialog.cs.html#8030fd9be4cf8718" class="t t">CustomDialog</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> class.</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    [<a href="@0@PresentationFramework/A.html#96557b5c070ecfa3" class="t constructor">TemplatePart</a>(<a href="@0@PresentationFramework/A.html#f9842165d0f4cd9c" class="i property">Name</a> = <a href="#7aa2151b618a1893" class="i field">PART_Top</a>, <a href="@0@PresentationFramework/A.html#cc0b0b68afac8782" class="i property">Type</a> = <b>typeof</b>(<a href="@0@PresentationFramework/A.html#8da8a698bf05f44a" class="t t">ContentPresenter</a>))]
    [<a href="@0@PresentationFramework/A.html#96557b5c070ecfa3" class="t constructor">TemplatePart</a>(<a href="@0@PresentationFramework/A.html#f9842165d0f4cd9c" class="i property">Name</a> = <a href="#b2a98b31aed6e788" class="i field">PART_Content</a>, <a href="@0@PresentationFramework/A.html#cc0b0b68afac8782" class="i property">Type</a> = <b>typeof</b>(<a href="@0@PresentationFramework/A.html#8da8a698bf05f44a" class="t t">ContentPresenter</a>))]
    [<a href="@0@PresentationFramework/A.html#96557b5c070ecfa3" class="t constructor">TemplatePart</a>(<a href="@0@PresentationFramework/A.html#f9842165d0f4cd9c" class="i property">Name</a> = <a href="#3c1bf88eb3c696fe" class="i field">PART_Bottom</a>, <a href="@0@PresentationFramework/A.html#cc0b0b68afac8782" class="i property">Type</a> = <b>typeof</b>(<a href="@0@PresentationFramework/A.html#8da8a698bf05f44a" class="t t">ContentPresenter</a>))]
    <b>public abstract class</b> <a id="9e4d9d36e4974ced" href="../../R/9e4d9d36e4974ced.html" target="n" data-glyph="0,0" class="t t">BaseMetroDialog</a> : <a href="@0@PresentationFramework/A.html#f8ee23c685054e71" class="t t">ContentControl</a>
    {
        <b>private const string</b> <a id="7aa2151b618a1893" href="../../R/7aa2151b618a1893.html" target="n" data-glyph="10,1" class="i field">PART_Top</a> = <span class="s">&quot;PART_Top&quot;</span>;
        <b>private const string</b> <a id="b2a98b31aed6e788" href="../../R/b2a98b31aed6e788.html" target="n" data-glyph="10,1" class="i field">PART_Content</a> = <span class="s">&quot;PART_Content&quot;</span>;
        <b>private const string</b> <a id="3c1bf88eb3c696fe" href="../../R/3c1bf88eb3c696fe.html" target="n" data-glyph="10,1" class="i field">PART_Bottom</a> = <span class="s">&quot;PART_Bottom&quot;</span>;

        <span class="k preprocess">#</span><span class="k preprocess">region</span> DependencyProperties

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Identifies the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#a14a5ab20a8f34bc" class="i property">ColorScheme</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> dependency property.</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public static readonly</b> <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a> <a id="d08515a8586db8e1" href="../../R/d08515a8586db8e1.html" target="n" data-glyph="42,1" class="i field">ColorSchemeProperty</a>
            = <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a>.<a href="@0@WindowsBase/A.html#3f509a22032d7071" class="i method">Register</a>(<b>nameof</b>(<a href="#a14a5ab20a8f34bc" class="i property">ColorScheme</a>),
                                          <b>typeof</b>(<a href="MetroDialogColorScheme.cs.html#313c2674079046cd" class="t t">MetroDialogColorScheme</a>),
                                          <b>typeof</b>(<a href="#9e4d9d36e4974ced" class="t t">BaseMetroDialog</a>),
                                          <b>new</b> <a href="@0@WindowsBase/A.html#2a1a3328df22f3a0" class="t constructor">PropertyMetadata</a>(<a href="MetroDialogColorScheme.cs.html#313c2674079046cd" class="t t">MetroDialogColorScheme</a>.<a href="MetroDialogColorScheme.cs.html#e8b4adc318f35d13" class="i field">Theme</a>));

        <b>public</b> <a href="MetroDialogColorScheme.cs.html#313c2674079046cd" class="t t">MetroDialogColorScheme</a> <a id="a14a5ab20a8f34bc" href="../../R/a14a5ab20a8f34bc.html" target="n" data-glyph="102,1" class="i property">ColorScheme</a>
        {
            <b>get</b> =&gt; (<a href="MetroDialogColorScheme.cs.html#313c2674079046cd" class="t t">MetroDialogColorScheme</a>)<a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#0e1012f338283c7a" class="i method">GetValue</a>(<a href="#d08515a8586db8e1" class="i field">ColorSchemeProperty</a>);
            <b>set</b> =&gt; <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#b1809fe135a72ec5" class="i method">SetValue</a>(<a href="#d08515a8586db8e1" class="i field">ColorSchemeProperty</a>, <b>value</b>);
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Identifies the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#41e250381c984c95" class="i property">DialogContentMargin</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> dependency property.</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public static readonly</b> <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a> <a id="09402966379c39a4" href="../../R/09402966379c39a4.html" target="n" data-glyph="42,1" class="i field">DialogContentMarginProperty</a>
            = <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a>.<a href="@0@WindowsBase/A.html#3f509a22032d7071" class="i method">Register</a>(<b>nameof</b>(<a href="#41e250381c984c95" class="i property">DialogContentMargin</a>),
                                          <b>typeof</b>(<a href="@0@PresentationFramework/A.html#5d0351c12a8337df" class="t t">GridLength</a>),
                                          <b>typeof</b>(<a href="#9e4d9d36e4974ced" class="t t">BaseMetroDialog</a>),
                                          <b>new</b> <a href="@0@WindowsBase/A.html#2a1a3328df22f3a0" class="t constructor">PropertyMetadata</a>(<b>new</b> <a href="@0@PresentationFramework/A.html#29cb12d2dd927c25" class="t constructor">GridLength</a>(25, <a href="@0@PresentationFramework/A.html#9f3a8f5ddb555d71" class="t t">GridUnitType</a>.<a href="@0@PresentationFramework/A.html#cb237f301ceffd1c" class="i field">Star</a>)));

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the left and right margin for the dialog content.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public</b> <a href="@0@PresentationFramework/A.html#5d0351c12a8337df" class="t t">GridLength</a> <a id="41e250381c984c95" href="../../R/41e250381c984c95.html" target="n" data-glyph="102,1" class="i property">DialogContentMargin</a>
        {
            <b>get</b> =&gt; (<a href="@0@PresentationFramework/A.html#5d0351c12a8337df" class="t t">GridLength</a>)<a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#0e1012f338283c7a" class="i method">GetValue</a>(<a href="#09402966379c39a4" class="i field">DialogContentMarginProperty</a>);
            <b>set</b> =&gt; <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#b1809fe135a72ec5" class="i method">SetValue</a>(<a href="#09402966379c39a4" class="i field">DialogContentMarginProperty</a>, <b>value</b>);
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Identifies the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#87e000d24ea9b550" class="i property">DialogContentWidth</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> dependency property.</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public static readonly</b> <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a> <a id="409ecdc61185b056" href="../../R/409ecdc61185b056.html" target="n" data-glyph="42,1" class="i field">DialogContentWidthProperty</a>
            = <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a>.<a href="@0@WindowsBase/A.html#3f509a22032d7071" class="i method">Register</a>(<b>nameof</b>(<a href="#87e000d24ea9b550" class="i property">DialogContentWidth</a>),
                                          <b>typeof</b>(<a href="@0@PresentationFramework/A.html#5d0351c12a8337df" class="t t">GridLength</a>),
                                          <b>typeof</b>(<a href="#9e4d9d36e4974ced" class="t t">BaseMetroDialog</a>),
                                          <b>new</b> <a href="@0@WindowsBase/A.html#2a1a3328df22f3a0" class="t constructor">PropertyMetadata</a>(<b>new</b> <a href="@0@PresentationFramework/A.html#29cb12d2dd927c25" class="t constructor">GridLength</a>(50, <a href="@0@PresentationFramework/A.html#9f3a8f5ddb555d71" class="t t">GridUnitType</a>.<a href="@0@PresentationFramework/A.html#cb237f301ceffd1c" class="i field">Star</a>)));

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the width for the dialog content.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public</b> <a href="@0@PresentationFramework/A.html#5d0351c12a8337df" class="t t">GridLength</a> <a id="87e000d24ea9b550" href="../../R/87e000d24ea9b550.html" target="n" data-glyph="102,1" class="i property">DialogContentWidth</a>
        {
            <b>get</b> =&gt; (<a href="@0@PresentationFramework/A.html#5d0351c12a8337df" class="t t">GridLength</a>)<a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#0e1012f338283c7a" class="i method">GetValue</a>(<a href="#409ecdc61185b056" class="i field">DialogContentWidthProperty</a>);
            <b>set</b> =&gt; <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#b1809fe135a72ec5" class="i method">SetValue</a>(<a href="#409ecdc61185b056" class="i field">DialogContentWidthProperty</a>, <b>value</b>);
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Identifies the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#1fd29ddd0225972e" class="i property">Title</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> dependency property.</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public static readonly</b> <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a> <a id="9ef1d471cbe94c85" href="../../R/9ef1d471cbe94c85.html" target="n" data-glyph="42,1" class="i field">TitleProperty</a>
            = <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a>.<a href="@0@WindowsBase/A.html#3f509a22032d7071" class="i method">Register</a>(<b>nameof</b>(<a href="#1fd29ddd0225972e" class="i property">Title</a>),
                                          <b>typeof</b>(<b>object</b>),
                                          <b>typeof</b>(<a href="#9e4d9d36e4974ced" class="t t">BaseMetroDialog</a>),
                                          <b>new</b> <a href="@0@WindowsBase/A.html#2a1a3328df22f3a0" class="t constructor">PropertyMetadata</a>(<b>default</b>(<b>object</b>)));

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the title of the dialog.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public object</b>? <a id="1fd29ddd0225972e" href="../../R/1fd29ddd0225972e.html" target="n" data-glyph="102,1" class="i property">Title</a>
        {
            <b>get</b> =&gt; (<b>object</b>?)<a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#0e1012f338283c7a" class="i method">GetValue</a>(<a href="#9ef1d471cbe94c85" class="i field">TitleProperty</a>);
            <b>set</b> =&gt; <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#b1809fe135a72ec5" class="i method">SetValue</a>(<a href="#9ef1d471cbe94c85" class="i field">TitleProperty</a>, <b>value</b>);
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Identifies the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#9fa9cad3d9611442" class="i property">DialogTop</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> dependency property.</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public static readonly</b> <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a> <a id="aba88507d51f35b0" href="../../R/aba88507d51f35b0.html" target="n" data-glyph="42,1" class="i field">DialogTopProperty</a>
            = <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a>.<a href="@0@WindowsBase/A.html#3f509a22032d7071" class="i method">Register</a>(<b>nameof</b>(<a href="#9fa9cad3d9611442" class="i property">DialogTop</a>),
                                          <b>typeof</b>(<b>object</b>),
                                          <b>typeof</b>(<a href="#9e4d9d36e4974ced" class="t t">BaseMetroDialog</a>),
                                          <b>new</b> <a href="@0@WindowsBase/A.html#9551015cc62efa7d" class="t constructor">PropertyMetadata</a>(<b>null</b>, <a href="#da08d0b4967748e9" class="i method">UpdateLogicalChild</a>));

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the content above the dialog.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public object</b>? <a id="9fa9cad3d9611442" href="../../R/9fa9cad3d9611442.html" target="n" data-glyph="102,1" class="i property">DialogTop</a>
        {
            <b>get</b> =&gt; <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#0e1012f338283c7a" class="i method">GetValue</a>(<a href="#aba88507d51f35b0" class="i field">DialogTopProperty</a>);
            <b>set</b> =&gt; <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#b1809fe135a72ec5" class="i method">SetValue</a>(<a href="#aba88507d51f35b0" class="i field">DialogTopProperty</a>, <b>value</b>);
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Identifies the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#083c773316f02a24" class="i property">DialogBottom</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> dependency property.</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public static readonly</b> <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a> <a id="b1fd558b59d0c90c" href="../../R/b1fd558b59d0c90c.html" target="n" data-glyph="42,1" class="i field">DialogBottomProperty</a>
            = <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a>.<a href="@0@WindowsBase/A.html#3f509a22032d7071" class="i method">Register</a>(<b>nameof</b>(<a href="#083c773316f02a24" class="i property">DialogBottom</a>),
                                          <b>typeof</b>(<b>object</b>),
                                          <b>typeof</b>(<a href="#9e4d9d36e4974ced" class="t t">BaseMetroDialog</a>),
                                          <b>new</b> <a href="@0@WindowsBase/A.html#9551015cc62efa7d" class="t constructor">PropertyMetadata</a>(<b>null</b>, <a href="#da08d0b4967748e9" class="i method">UpdateLogicalChild</a>));

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the content below the dialog.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public object</b>? <a id="083c773316f02a24" href="../../R/083c773316f02a24.html" target="n" data-glyph="102,1" class="i property">DialogBottom</a>
        {
            <b>get</b> =&gt; <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#0e1012f338283c7a" class="i method">GetValue</a>(<a href="#b1fd558b59d0c90c" class="i field">DialogBottomProperty</a>);
            <b>set</b> =&gt; <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#b1809fe135a72ec5" class="i method">SetValue</a>(<a href="#b1fd558b59d0c90c" class="i field">DialogBottomProperty</a>, <b>value</b>);
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Identifies the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#825d606f5c393508" class="i property">DialogTitleFontSize</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> dependency property.</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public static readonly</b> <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a> <a id="3b35a7ccaadf7223" href="../../R/3b35a7ccaadf7223.html" target="n" data-glyph="42,1" class="i field">DialogTitleFontSizeProperty</a>
            = <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a>.<a href="@0@WindowsBase/A.html#3f509a22032d7071" class="i method">Register</a>(<b>nameof</b>(<a href="#825d606f5c393508" class="i property">DialogTitleFontSize</a>),
                                          <b>typeof</b>(<b>double</b>),
                                          <b>typeof</b>(<a href="#9e4d9d36e4974ced" class="t t">BaseMetroDialog</a>),
                                          <b>new</b> <a href="@0@WindowsBase/A.html#2a1a3328df22f3a0" class="t constructor">PropertyMetadata</a>(26D));

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the font size of the dialog title.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public double</b> <a id="825d606f5c393508" href="../../R/825d606f5c393508.html" target="n" data-glyph="102,1" class="i property">DialogTitleFontSize</a>
        {
            <b>get</b> =&gt; (<b>double</b>)<a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#0e1012f338283c7a" class="i method">GetValue</a>(<a href="#3b35a7ccaadf7223" class="i field">DialogTitleFontSizeProperty</a>);
            <b>set</b> =&gt; <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#b1809fe135a72ec5" class="i method">SetValue</a>(<a href="#3b35a7ccaadf7223" class="i field">DialogTitleFontSizeProperty</a>, <b>value</b>);
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Identifies the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#3745db6ab2d3bb75" class="i property">DialogMessageFontSize</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> dependency property.</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public static readonly</b> <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a> <a id="926d7a84259e08bd" href="../../R/926d7a84259e08bd.html" target="n" data-glyph="42,1" class="i field">DialogMessageFontSizeProperty</a>
            = <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a>.<a href="@0@WindowsBase/A.html#3f509a22032d7071" class="i method">Register</a>(<b>nameof</b>(<a href="#3745db6ab2d3bb75" class="i property">DialogMessageFontSize</a>),
                                          <b>typeof</b>(<b>double</b>),
                                          <b>typeof</b>(<a href="#9e4d9d36e4974ced" class="t t">BaseMetroDialog</a>),
                                          <b>new</b> <a href="@0@WindowsBase/A.html#2a1a3328df22f3a0" class="t constructor">PropertyMetadata</a>(15D));

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the font size of the dialog message text.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public double</b> <a id="3745db6ab2d3bb75" href="../../R/3745db6ab2d3bb75.html" target="n" data-glyph="102,1" class="i property">DialogMessageFontSize</a>
        {
            <b>get</b> =&gt; (<b>double</b>)<a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#0e1012f338283c7a" class="i method">GetValue</a>(<a href="#926d7a84259e08bd" class="i field">DialogMessageFontSizeProperty</a>);
            <b>set</b> =&gt; <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#b1809fe135a72ec5" class="i method">SetValue</a>(<a href="#926d7a84259e08bd" class="i field">DialogMessageFontSizeProperty</a>, <b>value</b>);
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Identifies the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#eacbef5e6911622f" class="i property">DialogButtonFontSize</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> dependency property.</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public static readonly</b> <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a> <a id="166fbbf41efe268c" href="../../R/166fbbf41efe268c.html" target="n" data-glyph="42,1" class="i field">DialogButtonFontSizeProperty</a>
            = <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a>.<a href="@0@WindowsBase/A.html#3f509a22032d7071" class="i method">Register</a>(<b>nameof</b>(<a href="#eacbef5e6911622f" class="i property">DialogButtonFontSize</a>),
                                          <b>typeof</b>(<b>double</b>),
                                          <b>typeof</b>(<a href="#9e4d9d36e4974ced" class="t t">BaseMetroDialog</a>),
                                          <b>new</b> <a href="@0@WindowsBase/A.html#2a1a3328df22f3a0" class="t constructor">PropertyMetadata</a>(<a href="@0@PresentationFramework/A.html#e2b8751638acf19d" class="t t">SystemFonts</a>.<a href="@0@PresentationFramework/A.html#b0e0d60d983893af" class="i property">MessageFontSize</a>));

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the font size of any dialog buttons.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public double</b> <a id="eacbef5e6911622f" href="../../R/eacbef5e6911622f.html" target="n" data-glyph="102,1" class="i property">DialogButtonFontSize</a>
        {
            <b>get</b> =&gt; (<b>double</b>)<a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#0e1012f338283c7a" class="i method">GetValue</a>(<a href="#166fbbf41efe268c" class="i field">DialogButtonFontSizeProperty</a>);
            <b>set</b> =&gt; <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#b1809fe135a72ec5" class="i method">SetValue</a>(<a href="#166fbbf41efe268c" class="i field">DialogButtonFontSizeProperty</a>, <b>value</b>);
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Identifies the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#f966efa4029167a7" class="i property">Icon</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> dependency property.</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public static readonly</b> <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a> <a id="4eebcd1ac645eb24" href="../../R/4eebcd1ac645eb24.html" target="n" data-glyph="42,1" class="i field">IconProperty</a>
            = <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a>.<a href="@0@WindowsBase/A.html#3f509a22032d7071" class="i method">Register</a>(<b>nameof</b>(<a href="#f966efa4029167a7" class="i property">Icon</a>),
                                          <b>typeof</b>(<b>object</b>),
                                          <b>typeof</b>(<a href="#9e4d9d36e4974ced" class="t t">BaseMetroDialog</a>),
                                          <b>new</b> <a href="@0@WindowsBase/A.html#cb127c8d59a73cf8" class="t constructor">PropertyMetadata</a>());

        <b>public object</b>? <a id="f966efa4029167a7" href="../../R/f966efa4029167a7.html" target="n" data-glyph="102,1" class="i property">Icon</a>
        {
            <b>get</b> =&gt; <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#0e1012f338283c7a" class="i method">GetValue</a>(<a href="#4eebcd1ac645eb24" class="i field">IconProperty</a>);
            <b>set</b> =&gt; <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#b1809fe135a72ec5" class="i method">SetValue</a>(<a href="#4eebcd1ac645eb24" class="i field">IconProperty</a>, <b>value</b>);
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Identifies the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#66835fbf73ee3d07" class="i property">IconTemplate</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> dependency property.</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public static readonly</b> <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a> <a id="4d25159d447a7531" href="../../R/4d25159d447a7531.html" target="n" data-glyph="42,1" class="i field">IconTemplateProperty</a>
            = <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a>.<a href="@0@WindowsBase/A.html#28c81133f2c673fb" class="i method">Register</a>(<b>nameof</b>(<a href="#66835fbf73ee3d07" class="i property">IconTemplate</a>),
                                          <b>typeof</b>(<a href="@0@PresentationFramework/A.html#623bc07124c7ba7a" class="t t">DataTemplate</a>),
                                          <b>typeof</b>(<a href="#9e4d9d36e4974ced" class="t t">BaseMetroDialog</a>));

        <b>public</b> <a href="@0@PresentationFramework/A.html#623bc07124c7ba7a" class="t t">DataTemplate</a>? <a id="66835fbf73ee3d07" href="../../R/66835fbf73ee3d07.html" target="n" data-glyph="102,1" class="i property">IconTemplate</a>
        {
            <b>get</b> =&gt; (<a href="@0@PresentationFramework/A.html#623bc07124c7ba7a" class="t t">DataTemplate</a>?)<a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#0e1012f338283c7a" class="i method">GetValue</a>(<a href="#4d25159d447a7531" class="i field">IconTemplateProperty</a>);
            <b>set</b> =&gt; <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#b1809fe135a72ec5" class="i method">SetValue</a>(<a href="#4d25159d447a7531" class="i field">IconTemplateProperty</a>, <b>value</b>);
        }

        <span class="k preprocess">#</span><span class="k preprocess">endregion</span> DependencyProperties

        <b>public</b> <a href="MetroDialogSettings.cs.html#28729669bd8ecc77" class="t t">MetroDialogSettings</a> <a id="bf134373b9c776a6" href="../../R/bf134373b9c776a6.html" target="n" data-glyph="102,1" class="i property">DialogSettings</a> { <b>get</b>; <b>private set</b>; } = <b>null</b>!;

        <b>internal</b> <a href="@0@PresentationFramework/A.html#5a63030e95db0d0f" class="t t">SizeChangedEventHandler</a>? <a id="519e7b6dc9622b58" href="../../R/519e7b6dc9622b58.html" target="n" data-glyph="104,1" class="i property">SizeChangedHandler</a> { <b>get</b>; <b>set</b>; }

        <span class="k preprocess">#</span><span class="k preprocess">region</span> Constructor

        <b>static</b> <a id="642fd47f502b9ca5" href="../../R/../../0000000000.html" target="n" data-glyph="76,1" class="t method">BaseMetroDialog</a>()
        {
            <a href="@0@PresentationFramework/A.html#6339cc8ec3e1311a" class="i field">DefaultStyleKeyProperty</a>.<a href="@0@WindowsBase/A.html#fe43392fad81405d" class="i method">OverrideMetadata</a>(<b>typeof</b>(<a href="#9e4d9d36e4974ced" class="t t">BaseMetroDialog</a>), <b>new</b> <a href="@0@PresentationFramework/A.html#69f23b8966049b7c" class="t constructor">FrameworkPropertyMetadata</a>(<b>typeof</b>(<a href="#9e4d9d36e4974ced" class="t t">BaseMetroDialog</a>)));
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Initializes a new </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#9e4d9d36e4974ced" class="t t">BaseMetroDialog</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r0 r">owningWindow</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The window that is the parent of the dialog.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r1 r">settings</span><span class="c">&quot;</span><span class="c">&gt;</span><span class="c">The settings for the message dialog.</span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <b>protected</b> <a id="0eddd16cc6fe9b29" href="../../R/0eddd16cc6fe9b29.html" target="n" data-glyph="75,1" class="t constructor">BaseMetroDialog</a>(<a href="../MetroWindow.cs.html#5a37f9897ea7f8e0" class="t t">MetroWindow</a>? <span id="r0 rd" class="r0 r">owningWindow</span>, <a href="MetroDialogSettings.cs.html#28729669bd8ecc77" class="t t">MetroDialogSettings</a>? <span id="r1 rd" class="r1 r">settings</span>)
        {
            <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#567a4d26dc033d8e" class="i method">Initialize</a>(<span class="r0 r">owningWindow</span>, <span class="r1 r">settings</span>);
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Initializes a new </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#9e4d9d36e4974ced" class="t t">BaseMetroDialog</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c">.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>protected</b> <a id="391450a119f558ed" href="../../R/../../0000000000.html" target="n" data-glyph="75,1" class="t constructor">BaseMetroDialog</a>()
            : <a href="#0eddd16cc6fe9b29" class="k">this</a>(<b>null</b>, <b>new</b> <a href="MetroDialogSettings.cs.html#2553e0aff2ee74ad" class="t constructor">MetroDialogSettings</a>())
        {
        }

        <span class="k preprocess">#</span><span class="k preprocess">endregion</span> Constructor

        <b>private static void</b> <a id="da08d0b4967748e9" href="../../R/da08d0b4967748e9.html" target="n" data-glyph="76,1" class="i method">UpdateLogicalChild</a>(<a href="@0@WindowsBase/A.html#3ce192f6633decc8" class="t t">DependencyObject</a> <span id="r2 rd" class="r2 r">dependencyObject</span>, <a href="@0@WindowsBase/A.html#71a1a16823f70b8c" class="t t">DependencyPropertyChangedEventArgs</a> <span id="r3 rd" class="r3 r">e</span>)
        {
            <b>if</b> (<span class="r2 r">dependencyObject</span> <b>is not</b> <a href="#9e4d9d36e4974ced" class="t t">BaseMetroDialog</a> <span id="r4 rd" class="r4 r">dialog</span>)
            {
                <b>return</b>;
            }

            <b>if</b> (<span class="r3 r">e</span>.<a href="@0@WindowsBase/A.html#dfc6526fd2b658ce" class="i property">OldValue</a> <b>is</b> <a href="@0@PresentationFramework/A.html#d2d98a3022fbac2f" class="t t">FrameworkElement</a> <span id="r5 rd" class="r5 r">oldChild</span>)
            {
                <span class="r4 r">dialog</span>.<a href="@0@PresentationFramework/A.html#86c322367f01be1a" class="i method">RemoveLogicalChild</a>(<span class="r5 r">oldChild</span>);
            }

            <b>if</b> (<span class="r3 r">e</span>.<a href="@0@WindowsBase/A.html#0acf297ea547e623" class="i property">NewValue</a> <b>is</b> <a href="@0@PresentationFramework/A.html#d2d98a3022fbac2f" class="t t">FrameworkElement</a> <span id="r6 rd" class="r6 r">newChild</span>)
            {
                <span class="r4 r">dialog</span>.<a href="@0@PresentationFramework/A.html#6e5996ad8b83b2b6" class="i method">AddLogicalChild</a>(<span class="r6 r">newChild</span>);
                <span class="r6 r">newChild</span>.<a href="@0@PresentationFramework/A.html#e4aaca7514916173" class="i property">DataContext</a> = <span class="r4 r">dialog</span>.<a href="@0@PresentationFramework/A.html#e4aaca7514916173" class="i property">DataContext</a>;
            }
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">inheritdoc</span> <span class="c">/&gt;</span>
        <b>protected override</b> <a href="@0@mscorlib/A.html#6624f38cb955bfe0" class="t t">IEnumerator</a> <a id="520f9ff316dfbe20" href="../../R/520f9ff316dfbe20.html" target="n" data-glyph="105,1" class="i property">LogicalChildren</a>
        {
            <b>get</b>
            {
                <span class="c">// cheat, make a list with all logical content and return the enumerator</span>
                <a href="@0@mscorlib/A.html#3e3f6715773d6643" class="t t">ArrayList</a> <span id="r7 rd" class="r7 r">children</span> = <b>new</b> <a href="@0@mscorlib/A.html#3113636092b18f20" class="t constructor">ArrayList</a>();
                <b>if</b> (<a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#9fa9cad3d9611442" class="i property">DialogTop</a> != <b>null</b>)
                {
                    <span class="r7 r">children</span>.<a href="@0@mscorlib/A.html#5e9cf3d0a9ed0b29" class="i method">Add</a>(<a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#9fa9cad3d9611442" class="i property">DialogTop</a>);
                }

                <b>if</b> (<a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@PresentationFramework/A.html#2811283b5ba60413" class="i property">Content</a> != <b>null</b>)
                {
                    <span class="r7 r">children</span>.<a href="@0@mscorlib/A.html#5e9cf3d0a9ed0b29" class="i method">Add</a>(<a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@PresentationFramework/A.html#2811283b5ba60413" class="i property">Content</a>);
                }

                <b>if</b> (<a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#083c773316f02a24" class="i property">DialogBottom</a> != <b>null</b>)
                {
                    <span class="r7 r">children</span>.<a href="@0@mscorlib/A.html#5e9cf3d0a9ed0b29" class="i method">Add</a>(<a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#083c773316f02a24" class="i property">DialogBottom</a>);
                }

                <b>return</b> <span class="r7 r">children</span>.<a href="@0@mscorlib/A.html#13f3f7acdf43007a" class="i method">GetEnumerator</a>();
            }
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> With this method it&#39;s possible to return your own settings in a custom dialog.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">param</span> <span class="c">name</span><span class="c">=</span><span class="c">&quot;</span><span class="r8 r">settings</span><span class="c">&quot;</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Settings from the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="../MetroWindow.cs.html#5a37f9897ea7f8e0" class="t t">MetroWindow</a>.<a href="../MetroWindow.cs.html#a1f261b68b910a85" class="i property">MetroDialogOptions</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> or from constructor.</span>
        <span class="c">///</span><span class="c"> The default is a new created settings.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">param</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>protected virtual</b> <a href="MetroDialogSettings.cs.html#28729669bd8ecc77" class="t t">MetroDialogSettings</a> <a id="e36a20bec3c5a752" href="../../R/e36a20bec3c5a752.html" target="n" data-glyph="75,1" class="i method">ConfigureSettings</a>(<a href="MetroDialogSettings.cs.html#28729669bd8ecc77" class="t t">MetroDialogSettings</a> <span id="r8 rd" class="r8 r">settings</span>)
        {
            <b>return</b> <span class="r8 r">settings</span>;
        }

        <b>private void</b> <a id="567a4d26dc033d8e" href="../../R/567a4d26dc033d8e.html" target="n" data-glyph="76,1" class="i method">Initialize</a>(<a href="../MetroWindow.cs.html#5a37f9897ea7f8e0" class="t t">MetroWindow</a>? <span id="r9 rd" class="r9 r">owningWindow</span>, <a href="MetroDialogSettings.cs.html#28729669bd8ecc77" class="t t">MetroDialogSettings</a>? <span id="r10 rd" class="r10 r">settings</span>)
        {
            <a href="../Helper/AccessKeyHelper.cs.html#a1e1020b328e7eae" class="t t">AccessKeyHelper</a>.<a href="../Helper/AccessKeyHelper.cs.html#2a7f95d356d6a95c" class="i method">SetIsAccessKeyScope</a>(<a href="#9e4d9d36e4974ced" class="k">this</a>, <b>true</b>);

            <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#74389d00d4510929" class="i property">OwningWindow</a> = <span class="r9 r">owningWindow</span>;
            <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#bf134373b9c776a6" class="i property">DialogSettings</a> = <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#e36a20bec3c5a752" class="i method">ConfigureSettings</a>(<span class="r10 r">settings</span> ?? <span class="r9 r">owningWindow</span>?.<a href="../MetroWindow.cs.html#a1f261b68b910a85" class="i property">MetroDialogOptions</a> ?? <b>new</b> <a href="MetroDialogSettings.cs.html#2553e0aff2ee74ad" class="t constructor">MetroDialogSettings</a>());

            <b>if</b> (<a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#bf134373b9c776a6" class="i property">DialogSettings</a>.<a href="MetroDialogSettings.cs.html#2b4cdc6e051f4ec4" class="i property">CustomResourceDictionary</a> <b>is not null</b>)
            {
                <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@PresentationFramework/A.html#49776fc24d2e2b0d" class="i property">Resources</a>.<a href="@0@PresentationFramework/A.html#864bafd614698a44" class="i property">MergedDictionaries</a>.<a href="@0@mscorlib/A.html#5c61cc24de82f7e7" class="i method">Add</a>(<a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#bf134373b9c776a6" class="i property">DialogSettings</a>.<a href="MetroDialogSettings.cs.html#2b4cdc6e051f4ec4" class="i property">CustomResourceDictionary</a>);
            }

            <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#abf250e9e5452be5" class="i method">SetCurrentValue</a>(<a href="#d08515a8586db8e1" class="i field">ColorSchemeProperty</a>, <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#bf134373b9c776a6" class="i property">DialogSettings</a>.<a href="MetroDialogSettings.cs.html#15ae1ebd13e1e8c4" class="i property">ColorScheme</a>);

            <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#abf250e9e5452be5" class="i method">SetCurrentValue</a>(<a href="#4eebcd1ac645eb24" class="i field">IconProperty</a>, <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#bf134373b9c776a6" class="i property">DialogSettings</a>.<a href="MetroDialogSettings.cs.html#dc27ee6e58cdec9e" class="i property">Icon</a>);
            <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#abf250e9e5452be5" class="i method">SetCurrentValue</a>(<a href="#4d25159d447a7531" class="i field">IconTemplateProperty</a>, <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#bf134373b9c776a6" class="i property">DialogSettings</a>.<a href="MetroDialogSettings.cs.html#16e735b8eea48e19" class="i property">IconTemplate</a>);

            <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#747413f9db31d2f6" class="i method">HandleThemeChange</a>();

            <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@PresentationFramework/A.html#e9cd138948b0bdc4" class="i">DataContextChanged</a> += <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#1945ead8ba0402ae" class="i method">BaseMetroDialogDataContextChanged</a>;
            <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@PresentationFramework/A.html#a815b4f12f279dee" class="i">Loaded</a> += <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#279662d76a6a1d63" class="i method">BaseMetroDialogLoaded</a>;
            <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@PresentationFramework/A.html#139f238b2a895570" class="i">Unloaded</a> += <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#ef1ba64c134ca613" class="i method">BaseMetroDialogUnloaded</a>;
        }

        <b>private void</b> <a id="1945ead8ba0402ae" href="../../R/1945ead8ba0402ae.html" target="n" data-glyph="76,1" class="i method">BaseMetroDialogDataContextChanged</a>(<b>object</b>? <span id="r11 rd" class="r11 r">sender</span>, <a href="@0@WindowsBase/A.html#71a1a16823f70b8c" class="t t">DependencyPropertyChangedEventArgs</a> <span id="r12 rd" class="r12 r">e</span>)
        {
            <span class="c">// MahApps add these content presenter to the dialog with AddLogicalChild method.</span>
            <span class="c">// This has the side effect that the DataContext doesn&#39;t update, so do this now here.</span>
            <b>if</b> (<a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#9fa9cad3d9611442" class="i property">DialogTop</a> <b>is</b> <a href="@0@PresentationFramework/A.html#d2d98a3022fbac2f" class="t t">FrameworkElement</a> <span id="r13 rd" class="r13 r">elementTop</span>)
            {
                <span class="r13 r">elementTop</span>.<a href="@0@PresentationFramework/A.html#e4aaca7514916173" class="i property">DataContext</a> = <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@PresentationFramework/A.html#e4aaca7514916173" class="i property">DataContext</a>;
            }

            <b>if</b> (<a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#083c773316f02a24" class="i property">DialogBottom</a> <b>is</b> <a href="@0@PresentationFramework/A.html#d2d98a3022fbac2f" class="t t">FrameworkElement</a> <span id="r14 rd" class="r14 r">elementBottom</span>)
            {
                <span class="r14 r">elementBottom</span>.<a href="@0@PresentationFramework/A.html#e4aaca7514916173" class="i property">DataContext</a> = <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@PresentationFramework/A.html#e4aaca7514916173" class="i property">DataContext</a>;
            }
        }

        <b>private void</b> <a id="279662d76a6a1d63" href="../../R/279662d76a6a1d63.html" target="n" data-glyph="76,1" class="i method">BaseMetroDialogLoaded</a>(<b>object</b>? <span id="r15 rd" class="r15 r">sender</span>, <a href="@0@PresentationCore/A.html#3089ebf2139eba9d" class="t t">RoutedEventArgs</a> <span id="r16 rd" class="r16 r">e</span>)
        {
            <span class="t t">ThemeManager</span>.<span class="i property">Current</span>.<span class="i">ThemeChanged</span> -= <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#6f74f2040247f53e" class="i method">HandleThemeManagerThemeChanged</a>;
            <span class="t t">ThemeManager</span>.<span class="i property">Current</span>.<span class="i">ThemeChanged</span> += <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#6f74f2040247f53e" class="i method">HandleThemeManagerThemeChanged</a>;
            <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#32077893023a16f4" class="i method">OnLoaded</a>();
        }

        <b>private void</b> <a id="ef1ba64c134ca613" href="../../R/ef1ba64c134ca613.html" target="n" data-glyph="76,1" class="i method">BaseMetroDialogUnloaded</a>(<b>object</b>? <span id="r17 rd" class="r17 r">sender</span>, <a href="@0@PresentationCore/A.html#3089ebf2139eba9d" class="t t">RoutedEventArgs</a> <span id="r18 rd" class="r18 r">e</span>)
        {
            <span class="t t">ThemeManager</span>.<span class="i property">Current</span>.<span class="i">ThemeChanged</span> -= <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#6f74f2040247f53e" class="i method">HandleThemeManagerThemeChanged</a>;
        }

        <b>private void</b> <a id="6f74f2040247f53e" href="../../R/6f74f2040247f53e.html" target="n" data-glyph="76,1" class="i method">HandleThemeManagerThemeChanged</a>(<b>object</b>? <span id="r19 rd" class="r19 r">sender</span>, <span class="t t">ThemeChangedEventArgs</span> <span id="r20 rd" class="r20 r">e</span>)
        {
            <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="../Extensions.cs.html#a03707fe13ce3664" class="i method">Invoke</a>(<a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#747413f9db31d2f6" class="i method">HandleThemeChange</a>);
        }

        <b>private static object</b>? <a id="908eb3f8c3daded6" href="../../R/908eb3f8c3daded6.html" target="n" data-glyph="76,1" class="i method">TryGetResource</a>(<span class="t t">Theme</span>? <span id="r21 rd" class="r21 r">theme</span>, <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a> <span id="r22 rd" class="r22 r">key</span>)
        {
            <b>return</b> <span class="r21 r">theme</span>?.<span class="i property">Resources</span><a href="@0@PresentationFramework/A.html#fe23e03a125d22aa">[</a><span class="r22 r">key</span>];
        }

        <b>internal void</b> <a id="747413f9db31d2f6" href="../../R/747413f9db31d2f6.html" target="n" data-glyph="74,1" class="i method">HandleThemeChange</a>()
        {
            <b>var</b> <span id="r23 rd" class="r23 r">theme</span> = <a href="#2d445694fd983c2f" class="i method">DetectTheme</a>(<a href="#9e4d9d36e4974ced" class="k">this</a>);

            <b>if</b> (<span class="i n">System</span>.<span class="i n">ComponentModel</span>.<a href="@0@PresentationFramework/A.html#75f95eee6bd69fa9" class="t t">DesignerProperties</a>.<a href="@0@PresentationFramework/A.html#940ce1b313016b20" class="i method">GetIsInDesignMode</a>(<a href="#9e4d9d36e4974ced" class="k">this</a>)
                || <span class="r23 r">theme</span> <b>is null</b>)
            {
                <b>return</b>;
            }

            <b>switch</b> (<a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#bf134373b9c776a6" class="i property">DialogSettings</a>.<a href="MetroDialogSettings.cs.html#15ae1ebd13e1e8c4" class="i property">ColorScheme</a>)
            {
                <b>case</b> <a href="MetroDialogColorScheme.cs.html#313c2674079046cd" class="t t">MetroDialogColorScheme</a>.<a href="MetroDialogColorScheme.cs.html#e8b4adc318f35d13" class="i field">Theme</a>:
                    <span class="t t">ThemeManager</span>.<span class="i property">Current</span>.<span class="i method">ChangeTheme</span>(<a href="#9e4d9d36e4974ced" class="k">this</a>, <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@PresentationFramework/A.html#49776fc24d2e2b0d" class="i property">Resources</a>, <span class="r23 r">theme</span>);
                    <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#abf250e9e5452be5" class="i method">SetCurrentValue</a>(<a href="@0@PresentationFramework/A.html#a79e672f6084659d" class="i field">BackgroundProperty</a>, <a href="#908eb3f8c3daded6" class="i method">TryGetResource</a>(<span class="r23 r">theme</span>, <span class="s">&quot;MahApps.Brushes.Dialog.Background&quot;</span>));
                    <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#abf250e9e5452be5" class="i method">SetCurrentValue</a>(<a href="@0@PresentationFramework/A.html#be72c436b94f4eba" class="i field">ForegroundProperty</a>, <a href="#908eb3f8c3daded6" class="i method">TryGetResource</a>(<span class="r23 r">theme</span>, <span class="s">&quot;MahApps.Brushes.Dialog.Foreground&quot;</span>));
                    <b>break</b>;

                <b>case</b> <a href="MetroDialogColorScheme.cs.html#313c2674079046cd" class="t t">MetroDialogColorScheme</a>.<a href="MetroDialogColorScheme.cs.html#01f783fca321accf" class="i field">Inverted</a>:
                    <span class="r23 r">theme</span> = <span class="t t">ThemeManager</span>.<span class="i property">Current</span>.<span class="i method">GetInverseTheme</span>(<span class="r23 r">theme</span>);
                    <b>if</b> (<span class="r23 r">theme</span> <b>is null</b>)
                    {
                        <b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#265d72f49e915224" class="t constructor">InvalidOperationException</a>(<span class="s">&quot;The inverse dialog theme only works if the window theme abides the naming convention. &quot;</span> +
                                                            <span class="s">&quot;See ThemeManager.GetInverseAppTheme for more infos&quot;</span>);
                    }

                    <span class="t t">ThemeManager</span>.<span class="i property">Current</span>.<span class="i method">ChangeTheme</span>(<a href="#9e4d9d36e4974ced" class="k">this</a>, <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@PresentationFramework/A.html#49776fc24d2e2b0d" class="i property">Resources</a>, <span class="r23 r">theme</span>);
                    <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#abf250e9e5452be5" class="i method">SetCurrentValue</a>(<a href="@0@PresentationFramework/A.html#a79e672f6084659d" class="i field">BackgroundProperty</a>, <a href="#908eb3f8c3daded6" class="i method">TryGetResource</a>(<span class="r23 r">theme</span>, <span class="s">&quot;MahApps.Brushes.Dialog.Background&quot;</span>));
                    <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#abf250e9e5452be5" class="i method">SetCurrentValue</a>(<a href="@0@PresentationFramework/A.html#be72c436b94f4eba" class="i field">ForegroundProperty</a>, <a href="#908eb3f8c3daded6" class="i method">TryGetResource</a>(<span class="r23 r">theme</span>, <span class="s">&quot;MahApps.Brushes.Dialog.Foreground&quot;</span>));
                    <b>break</b>;

                <b>case</b> <a href="MetroDialogColorScheme.cs.html#313c2674079046cd" class="t t">MetroDialogColorScheme</a>.<a href="MetroDialogColorScheme.cs.html#5cefda9acb912c6e" class="i field">Accented</a>:
                    <span class="t t">ThemeManager</span>.<span class="i property">Current</span>.<span class="i method">ChangeTheme</span>(<a href="#9e4d9d36e4974ced" class="k">this</a>, <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@PresentationFramework/A.html#49776fc24d2e2b0d" class="i property">Resources</a>, <span class="r23 r">theme</span>);
                    <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#abf250e9e5452be5" class="i method">SetCurrentValue</a>(<a href="@0@PresentationFramework/A.html#a79e672f6084659d" class="i field">BackgroundProperty</a>, <a href="#908eb3f8c3daded6" class="i method">TryGetResource</a>(<span class="r23 r">theme</span>, <span class="s">&quot;MahApps.Brushes.Dialog.Background.Accent&quot;</span>));
                    <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#abf250e9e5452be5" class="i method">SetCurrentValue</a>(<a href="@0@PresentationFramework/A.html#be72c436b94f4eba" class="i field">ForegroundProperty</a>, <a href="#908eb3f8c3daded6" class="i method">TryGetResource</a>(<span class="r23 r">theme</span>, <span class="s">&quot;MahApps.Brushes.Dialog.Foreground.Accent&quot;</span>));
                    <b>break</b>;
            }
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> This is called in the loaded event.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>protected virtual void</b> <a id="32077893023a16f4" href="../../R/32077893023a16f4.html" target="n" data-glyph="75,1" class="i method">OnLoaded</a>()
        {
            <span class="c">// nothing here</span>
        }

        <b>private static</b> <span class="t t">Theme</span>? <a id="2d445694fd983c2f" href="../../R/2d445694fd983c2f.html" target="n" data-glyph="76,1" class="i method">DetectTheme</a>(<a href="#9e4d9d36e4974ced" class="t t">BaseMetroDialog</a>? <span id="r24 rd" class="r24 r">dialog</span>)
        {
            <b>if</b> (<span class="r24 r">dialog</span> <b>is null</b>)
            {
                <b>return</b> <b>null</b>;
            }

            <span class="c">// first look for owner</span>
            <a href="../MetroWindow.cs.html#5a37f9897ea7f8e0" class="k">var</a> <span id="r25 rd" class="r25 r">window</span> = <span class="r24 r">dialog</span>.<a href="#74389d00d4510929" class="i property">OwningWindow</a> ?? <span class="r24 r">dialog</span>.<a href="../TreeHelper.cs.html#cbbe3a66a5b55955" class="i method">TryFindParent</a>&lt;<a href="../MetroWindow.cs.html#5a37f9897ea7f8e0" class="t t">MetroWindow</a>&gt;();
            <b>var</b> <span id="r26 rd" class="r26 r">theme</span> = <span class="r25 r">window</span> != <b>null</b> ? <span class="t t">ThemeManager</span>.<span class="i property">Current</span>.<span class="i method">DetectTheme</span>(<span class="r25 r">window</span>) : <b>null</b>;
            <b>if</b> (<span class="r26 r">theme</span> != <b>null</b>)
            {
                <b>return</b> <span class="r26 r">theme</span>;
            }

            <span class="c">// second try, look for main window and then for current application</span>
            <b>if</b> (<a href="@0@PresentationFramework/A.html#cf9c51e402f97b05" class="t t">Application</a>.<a href="@0@PresentationFramework/A.html#e6ee08846cb73154" class="i property">Current</a> != <b>null</b>)
            {
                <span class="r26 r">theme</span> = <a href="@0@PresentationFramework/A.html#cf9c51e402f97b05" class="t t">Application</a>.<a href="@0@PresentationFramework/A.html#e6ee08846cb73154" class="i property">Current</a>.<a href="@0@PresentationFramework/A.html#bb23dbf789cc9d9f" class="i property">MainWindow</a> <b>is null</b>
                    ? <span class="t t">ThemeManager</span>.<span class="i property">Current</span>.<span class="i method">DetectTheme</span>(<a href="@0@PresentationFramework/A.html#cf9c51e402f97b05" class="t t">Application</a>.<a href="@0@PresentationFramework/A.html#e6ee08846cb73154" class="i property">Current</a>)
                    : <span class="t t">ThemeManager</span>.<span class="i property">Current</span>.<span class="i method">DetectTheme</span>(<a href="@0@PresentationFramework/A.html#cf9c51e402f97b05" class="t t">Application</a>.<a href="@0@PresentationFramework/A.html#e6ee08846cb73154" class="i property">Current</a>.<a href="@0@PresentationFramework/A.html#bb23dbf789cc9d9f" class="i property">MainWindow</a>);
                <b>if</b> (<span class="r26 r">theme</span> != <b>null</b>)
                {
                    <b>return</b> <span class="r26 r">theme</span>;
                }
            }

            <b>return</b> <b>null</b>;
        }

        <b>private</b> <a href="@0@PresentationCore/A.html#af107ecb60427a17" class="t t">RoutedEventHandler</a>? <a id="429834b46399ba26" href="../../R/429834b46399ba26.html" target="n" data-glyph="46,1" class="i field">dialogOnLoaded</a>;

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Waits for the dialog to become ready for interaction.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">A task that represents the operation and it&#39;s status.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="92937c83984be2b5" href="../../R/92937c83984be2b5.html" target="n" data-glyph="72,1" class="i method">WaitForLoadAsync</a>()
        {
            <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#bd03df1631104fbc" class="i property">Dispatcher</a>.<a href="@0@WindowsBase/A.html#fdcfbb9383a20825" class="i method">VerifyAccess</a>();

            <b>if</b> (<a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@PresentationFramework/A.html#b05bbe3100c43c82" class="i property">IsLoaded</a>)
            {
                <b>return</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a>.<a href="@0@mscorlib/A.html#66f1c3e3e272f591" class="i property">CompletedTask</a>;
            }

            <a href="@0@mscorlib/A.html#94bf04047d6bd325" class="k">var</a> <span id="r27 rd" class="r27 r">tcs</span> = <b>new</b> <a href="@0@mscorlib/A.html#4aca22f9388e0ac8" class="t constructor">TaskCompletionSource</a>&lt;<b>object</b>&gt;();

            <b>if</b> (<a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#bf134373b9c776a6" class="i property">DialogSettings</a>.<a href="MetroDialogSettings.cs.html#44c796260114c1e2" class="i property">AnimateShow</a> != <b>true</b>)
            {
                <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#abf250e9e5452be5" class="i method">SetCurrentValue</a>(<a href="@0@PresentationCore/A.html#74e0cb58df4cb643" class="i field">OpacityProperty</a>, 1.0); <span class="c">// skip the animation</span>
            }

            <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#429834b46399ba26" class="i field">dialogOnLoaded</a> = (<b>_</b>, <b>_</b>) =&gt;
                {
                    <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@PresentationFramework/A.html#a815b4f12f279dee" class="i">Loaded</a> -= <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#429834b46399ba26" class="i field">dialogOnLoaded</a>;

                    <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@PresentationCore/A.html#0e11f7ae56f1c30f" class="i method">Focus</a>();

                    <span class="r27 r">tcs</span>.<a href="@0@mscorlib/A.html#f58e440930617bf6" class="i method">TrySetResult</a>(<b>null</b>!);
                };

            <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@PresentationFramework/A.html#a815b4f12f279dee" class="i">Loaded</a> += <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#429834b46399ba26" class="i field">dialogOnLoaded</a>;

            <b>return</b> <span class="r27 r">tcs</span>.<a href="@0@mscorlib/A.html#14fe3876fba4607a" class="i property">Task</a>;
        }

        <b>internal void</b> <a id="c9d2344332737b24" href="../../R/c9d2344332737b24.html" target="n" data-glyph="74,1" class="i method">FireOnShown</a>()
        {
            <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#758f6f9aa50b1834" class="i method">OnShown</a>();
        }

        <b>protected virtual void</b> <a id="758f6f9aa50b1834" href="../../R/758f6f9aa50b1834.html" target="n" data-glyph="75,1" class="i method">OnShown</a>()
        {
        }

        <b>internal void</b> <a id="0da280ed2f4f9c49" href="../../R/0da280ed2f4f9c49.html" target="n" data-glyph="74,1" class="i method">FireOnClose</a>()
        {
            <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#5cdf01fa12e014f2" class="i method">OnClose</a>();
        }

        <b>protected virtual void</b> <a id="5cdf01fa12e014f2" href="../../R/5cdf01fa12e014f2.html" target="n" data-glyph="75,1" class="i method">OnClose</a>()
        {
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets the window that owns the current Dialog IF AND ONLY IF the dialog is shown inside of a window.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>protected</b> <a href="../MetroWindow.cs.html#5a37f9897ea7f8e0" class="t t">MetroWindow</a>? <a id="74389d00d4510929" href="../../R/74389d00d4510929.html" target="n" data-glyph="105,1" class="i property">OwningWindow</a> { <b>get</b>; <b>private set</b>; }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Waits until this dialog gets unloaded.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="ec8894f33a3e526b" href="../../R/ec8894f33a3e526b.html" target="n" data-glyph="72,1" class="i method">WaitUntilUnloadedAsync</a>()
        {
            <a href="@0@mscorlib/A.html#94bf04047d6bd325" class="k">var</a> <span id="r28 rd" class="r28 r">tcs</span> = <b>new</b> <a href="@0@mscorlib/A.html#4aca22f9388e0ac8" class="t constructor">TaskCompletionSource</a>&lt;<b>object</b>&gt;();

            <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@PresentationFramework/A.html#139f238b2a895570" class="i">Unloaded</a> += (<b>_</b>, <b>_</b>) =&gt; { <span class="r28 r">tcs</span>.<a href="@0@mscorlib/A.html#f58e440930617bf6" class="i method">TrySetResult</a>(<b>null</b>!); };

            <b>return</b> <span class="r28 r">tcs</span>.<a href="@0@mscorlib/A.html#14fe3876fba4607a" class="i property">Task</a>;
        }

        <b>private</b> <a href="@0@mscorlib/A.html#3b79d2b06c15f250" class="t t">EventHandler</a>? <a id="468a92f708234797" href="../../R/468a92f708234797.html" target="n" data-glyph="46,1" class="i field">closingStoryboardOnCompleted</a>;

        <b>public</b> <a href="@0@mscorlib/A.html#045a746eb48cbaa9" class="t t">Task</a> <a id="0da2addc12d79ac2" href="../../R/0da2addc12d79ac2.html" target="n" data-glyph="72,1" class="i method">WaitForCloseAsync</a>()
        {
            <a href="@0@mscorlib/A.html#94bf04047d6bd325" class="k">var</a> <span id="r29 rd" class="r29 r">tcs</span> = <b>new</b> <a href="@0@mscorlib/A.html#4aca22f9388e0ac8" class="t constructor">TaskCompletionSource</a>&lt;<b>object</b>&gt;();

            <b>if</b> (<a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#bf134373b9c776a6" class="i property">DialogSettings</a>.<a href="MetroDialogSettings.cs.html#764b1358a446c40e" class="i property">AnimateHide</a>)
            {
                <b>if</b> (<a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@PresentationFramework/A.html#5b064a6294551b3b" class="i method">TryFindResource</a>(<span class="s">&quot;MahApps.Storyboard.Dialogs.Close&quot;</span>) <b>is not</b> <a href="@0@PresentationFramework/A.html#ccdf3751fb4ab867" class="t t">Storyboard</a> <span id="r30 rd" class="r30 r">closingStoryboard</span>)
                {
                    <b>throw</b> <b>new</b> <a href="@0@mscorlib/A.html#265d72f49e915224" class="t constructor">InvalidOperationException</a>(<span class="s">&quot;Unable to find the dialog closing storyboard. Did you forget to add BaseMetroDialog.xaml to your merged dictionaries?&quot;</span>);
                }

                <span class="r30 r">closingStoryboard</span> = <span class="r30 r">closingStoryboard</span>.<a href="@0@PresentationFramework/A.html#9e53f3172ec9e29c" class="i method">Clone</a>();

                <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#468a92f708234797" class="i field">closingStoryboardOnCompleted</a> = (<b>_</b>, <b>_</b>) =&gt;
                    {
                        <span class="r30 r">closingStoryboard</span>.<a href="@0@PresentationCore/A.html#3dc81828027c69bc" class="i">Completed</a> -= <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#468a92f708234797" class="i field">closingStoryboardOnCompleted</a>;

                        <span class="r29 r">tcs</span>.<a href="@0@mscorlib/A.html#f58e440930617bf6" class="i method">TrySetResult</a>(<b>null</b>!);
                    };

                <span class="r30 r">closingStoryboard</span>.<a href="@0@PresentationCore/A.html#3dc81828027c69bc" class="i">Completed</a> += <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="#468a92f708234797" class="i field">closingStoryboardOnCompleted</a>;

                <span class="r30 r">closingStoryboard</span>.<a href="@0@PresentationFramework/A.html#e930b0c99d8ca30a" class="i method">Begin</a>(<a href="#9e4d9d36e4974ced" class="k">this</a>);
            }
            <b>else</b>
            {
                <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="@0@WindowsBase/A.html#abf250e9e5452be5" class="i method">SetCurrentValue</a>(<a href="@0@PresentationCore/A.html#74e0cb58df4cb643" class="i field">OpacityProperty</a>, 0.0);
                <span class="r29 r">tcs</span>.<a href="@0@mscorlib/A.html#f58e440930617bf6" class="i method">TrySetResult</a>(<b>null</b>!); <span class="c">//skip the animation</span>
            }

            <b>return</b> <span class="r29 r">tcs</span>.<a href="@0@mscorlib/A.html#14fe3876fba4607a" class="i property">Task</a>;
        }

        <b>protected override</b> <a href="@0@PresentationCore/A.html#a5e7d19a3e41ef98" class="t t">AutomationPeer</a> <a id="4928c22b43789217" href="../../R/4928c22b43789217.html" target="n" data-glyph="75,1" class="i method">OnCreateAutomationPeer</a>()
        {
            <b>return</b> <b>new</b> <a href="../../Automation/Peers/MetroDialogAutomationPeer.cs.html#12e087e583b5ccdf" class="t constructor">MetroDialogAutomationPeer</a>(<a href="#9e4d9d36e4974ced" class="k">this</a>);
        }

        <b>protected override void</b> <a id="574b30a525f055ea" href="../../R/574b30a525f055ea.html" target="n" data-glyph="75,1" class="i method">OnKeyDown</a>(<a href="@0@PresentationCore/A.html#0d2ce926f5cfc74b" class="t t">KeyEventArgs</a> <span id="r31 rd" class="r31 r">e</span>)
        {
            <b>if</b> (<span class="r31 r">e</span>.<a href="@0@PresentationCore/A.html#102560189e85fa41" class="i property">Key</a> == <a href="@0@WindowsBase/A.html#8e0d9266dee78287" class="t t">Key</a>.<a href="@0@WindowsBase/A.html#fb6b5b92594477c5" class="i field">System</a> &amp;&amp; <span class="r31 r">e</span>.<a href="@0@PresentationCore/A.html#a729b8f7ffa361b1" class="i property">SystemKey</a> <b>is</b> <a href="@0@WindowsBase/A.html#8e0d9266dee78287" class="t t">Key</a>.<a href="@0@WindowsBase/A.html#cbfa35444248c3b8" class="i field">LeftAlt</a> <b>or</b> <a href="@0@WindowsBase/A.html#8e0d9266dee78287" class="t t">Key</a>.<a href="@0@WindowsBase/A.html#0a717a0f835a8f84" class="i field">RightAlt</a> <b>or</b> <a href="@0@WindowsBase/A.html#8e0d9266dee78287" class="t t">Key</a>.<a href="@0@WindowsBase/A.html#1056daf8bdb6b1ea" class="i field">F10</a>)
            {
                <b>if</b> (<a href="@0@mscorlib/A.html#4d607d6d56a93c7e" class="i method">ReferenceEquals</a>(<span class="r31 r">e</span>.<a href="@0@PresentationCore/A.html#d8bb6e0074ca9326" class="i property">Source</a>, <a href="#9e4d9d36e4974ced" class="k">this</a>))
                {
                    <span class="c">// Try to look if there is a main menu inside the dialog.</span>
                    <span class="c">// If no main menu exists then handle the Alt-Key and F10-Key</span>
                    <span class="c">// to prevent focusing the first menu item at the main menu (window).</span>
                    <a href="@0@PresentationFramework/A.html#5cb5bfed895e3ea1" class="k">var</a> <span id="r32 rd" class="r32 r">menu</span> = <a href="#9e4d9d36e4974ced" class="k">this</a>.<a href="../TreeHelper.cs.html#7924bc07837f3404" class="i method">FindChildren</a>&lt;<a href="@0@PresentationFramework/A.html#5cb5bfed895e3ea1" class="t t">Menu</a>&gt;(<b>true</b>).<a href="@0@System.Core/A.html#b7e5965cab68b1cf" class="i method">FirstOrDefault</a>(<span id="r33 rd" class="r33 r">m</span> =&gt; <span class="r33 r">m</span>.<a href="@0@PresentationFramework/A.html#aaa83bc2fce9adf0" class="i property">IsMainMenu</a>);
                    <b>if</b> (<span class="r32 r">menu</span> <b>is null</b>)
                    {
                        <span class="r31 r">e</span>.<a href="@0@PresentationCore/A.html#f2bcc08494fea0e6" class="i property">Handled</a> = <b>true</b>;
                    }
                }
            }

            <a href="@0@PresentationFramework/A.html#f8ee23c685054e71" class="k">base</a>.<a href="@0@PresentationCore/A.html#abd43d0398899e4a" class="i method">OnKeyDown</a>(<span class="r31 r">e</span>);
        }
    }
}</pre></td></tr></table></div></body></html>
