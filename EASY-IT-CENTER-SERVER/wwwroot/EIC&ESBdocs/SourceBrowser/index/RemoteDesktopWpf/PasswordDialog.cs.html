<!DOCTYPE html>
<html><head><title>PasswordDialog.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(140);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#RemoteDesktopWpf/PasswordDialog.cs" target="_top">PasswordDialog.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#RemoteDesktopWpf" target="_top">..\..\..\EASY-TOOLS\EASYTools.VNCLib\EASYTools.VNCLib.csproj</a> (RemoteDesktopWpf)</td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// VncSharp - .NET VNC Client Library</span>
<span class="c">// Copyright (C) 2008 David Humphrey</span>
<span class="c">//</span>
<span class="c">// This program is free software; you can redistribute it and/or modify</span>
<span class="c">// it under the terms of the GNU General Public License as published by</span>
<span class="c">// the Free Software Foundation; either version 2 of the License, or</span>
<span class="c">// (at your option) any later version.</span>
<span class="c">//</span>
<span class="c">// This program is distributed in the hope that it will be useful,</span>
<span class="c">// but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span class="c">// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<span class="c">// GNU General Public License for more details.</span>
<span class="c">//</span>
<span class="c">// You should have received a copy of the GNU General Public License</span>
<span class="c">// along with this program; if not, write to the Free Software</span>
<span class="c">// Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA</span>
 
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Drawing</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Collections</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">ComponentModel</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Forms</span>;
 
<b>namespace</b> <span class="i n">VncSharp</span>
{
	<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
	<span class="c">///</span><span class="c"> A simple GUI Form for obtaining a user&#39;s password.  More elaborate interfaces could be used, but this is the default.</span>
	<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
	<b>public class</b> <a id="675a6c3add766fda" href="R/675a6c3add766fda.html" target="n" data-glyph="0,0" class="t t">PasswordDialog</a> : <a href="@0@System.Windows.Forms/A.html#71d66965280a3f7b" class="t t">Form</a>
	{
		<a href="@0@System.Windows.Forms/A.html#cb5c00483936b8f7" class="t t">Button</a> <a id="3b655b9aced2a8d9" href="R/3b655b9aced2a8d9.html" target="n" data-glyph="46,1" class="i field">btnOk</a>;
		<a href="@0@System.Windows.Forms/A.html#cb5c00483936b8f7" class="t t">Button</a> <a id="039b1eae4c1b0c74" href="R/039b1eae4c1b0c74.html" target="n" data-glyph="46,1" class="i field">btnCancel</a>;
		<a href="@0@System.Windows.Forms/A.html#577a143ad3bbfb97" class="t t">TextBox</a> <a id="65ad90d021198f03" href="R/65ad90d021198f03.html" target="n" data-glyph="46,1" class="i field">txtPassword</a>;
 
		<a href="@0@System/A.html#7503ed2fb08b5781" class="t t">Container</a> <a id="1a5e8f6c094f0b31" href="R/1a5e8f6c094f0b31.html" target="n" data-glyph="46,1" class="i field">components</a> = <b>null</b>;
 
		<b>private</b> <a id="1f3b55b876d5c13d" href="R/1f3b55b876d5c13d.html" target="n" data-glyph="76,1" class="t constructor">PasswordDialog</a>()
		{
			<a href="#7210b8b5c1a3b58e" class="i method">InitializeComponent</a>();
		}
 
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Gets the Password entered by the user.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>public string</b> <a id="e4a11e8405593d15" href="R/e4a11e8405593d15.html" target="n" data-glyph="102,1" class="i property">Password</a> {
			<b>get</b> {
				<b>return</b> <a href="#65ad90d021198f03" class="i field">txtPassword</a>.<a href="@0@System.Windows.Forms/A.html#98b5645df3380796" class="i property">Text</a>;
			}
		}
 
		<b>protected override void</b> <a id="e8d603d831b15e13" href="R/e8d603d831b15e13.html" target="n" data-glyph="75,1" class="i method">Dispose</a>( <b>bool</b> <span id="r0 rd" class="r0 r">disposing</span> )
		{
			<b>if</b>( <span class="r0 r">disposing</span> )
			{
				<b>if</b>(<a href="#1a5e8f6c094f0b31" class="i field">components</a> != <b>null</b>)
				{
					<a href="#1a5e8f6c094f0b31" class="i field">components</a>.<a href="@0@System/A.html#10d2c1abeab36161" class="i method">Dispose</a>();
				}
			}
			<a href="@0@System.Windows.Forms/A.html#71d66965280a3f7b" class="k">base</a>.<a href="@0@System.Windows.Forms/A.html#b2f8957f89621507" class="i method">Dispose</a>( <span class="r0 r">disposing</span> );
		}
 
		<span class="k preprocess">#</span><span class="k preprocess">region</span> Windows Form Designer generated code
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Required method for Designer support - do not modify</span>
		<span class="c">///</span><span class="c"> the contents of this method with the code editor.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<b>private void</b> <a id="7210b8b5c1a3b58e" href="R/7210b8b5c1a3b58e.html" target="n" data-glyph="76,1" class="i method">InitializeComponent</a>()
		{
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="#3b655b9aced2a8d9" class="i field">btnOk</a> = <b>new</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Forms</span>.<a href="@0@System.Windows.Forms/A.html#587f24fb6b05991e" class="t constructor">Button</a>();
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="#039b1eae4c1b0c74" class="i field">btnCancel</a> = <b>new</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Forms</span>.<a href="@0@System.Windows.Forms/A.html#587f24fb6b05991e" class="t constructor">Button</a>();
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="#65ad90d021198f03" class="i field">txtPassword</a> = <b>new</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Forms</span>.<a href="@0@System.Windows.Forms/A.html#2196b0354125cbbd" class="t constructor">TextBox</a>();
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="@0@System.Windows.Forms/A.html#ef45260c5d9215da" class="i method">SuspendLayout</a>();
			<span class="c">// </span>
			<span class="c">// btnOk</span>
			<span class="c">// </span>
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="#3b655b9aced2a8d9" class="i field">btnOk</a>.<a href="@0@System.Windows.Forms/A.html#5f5e2de959f47d74" class="i property">DialogResult</a> = <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Forms</span>.<a href="@0@System.Windows.Forms/A.html#489debd4e71ec9d7" class="t t">DialogResult</a>.<a href="@0@System.Windows.Forms/A.html#4eea8b14a97a6b1e" class="i field">OK</a>;
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="#3b655b9aced2a8d9" class="i field">btnOk</a>.<a href="@0@System.Windows.Forms/A.html#fe6221f0995f8f41" class="i property">Location</a> = <b>new</b> <span class="i n">System</span>.<span class="i n">Drawing</span>.<a href="@0@System.Drawing/A.html#05f39155f9d68aad" class="t constructor">Point</a>(144, 8);
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="#3b655b9aced2a8d9" class="i field">btnOk</a>.<a href="@0@System.Windows.Forms/A.html#9fde7aac184d74bc" class="i property">Name</a> = <span class="s">&quot;btnOk&quot;</span>;
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="#3b655b9aced2a8d9" class="i field">btnOk</a>.<a href="@0@System.Windows.Forms/A.html#16f3a97c67aba8b8" class="i property">Size</a> = <b>new</b> <span class="i n">System</span>.<span class="i n">Drawing</span>.<a href="@0@System.Drawing/A.html#606f94308f39ac98" class="t constructor">Size</a>(64, 23);
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="#3b655b9aced2a8d9" class="i field">btnOk</a>.<a href="@0@System.Windows.Forms/A.html#afa563929ab91f06" class="i property">TabIndex</a> = 1;
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="#3b655b9aced2a8d9" class="i field">btnOk</a>.<a href="@0@System.Windows.Forms/A.html#bb3c9e9657b54529" class="i property">Text</a> = <span class="s">&quot;OK&quot;</span>;
			<span class="c">// </span>
			<span class="c">// btnCancel</span>
			<span class="c">// </span>
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="#039b1eae4c1b0c74" class="i field">btnCancel</a>.<a href="@0@System.Windows.Forms/A.html#5f5e2de959f47d74" class="i property">DialogResult</a> = <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Forms</span>.<a href="@0@System.Windows.Forms/A.html#489debd4e71ec9d7" class="t t">DialogResult</a>.<a href="@0@System.Windows.Forms/A.html#36aa0eecb719fbcd" class="i field">Cancel</a>;
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="#039b1eae4c1b0c74" class="i field">btnCancel</a>.<a href="@0@System.Windows.Forms/A.html#fe6221f0995f8f41" class="i property">Location</a> = <b>new</b> <span class="i n">System</span>.<span class="i n">Drawing</span>.<a href="@0@System.Drawing/A.html#05f39155f9d68aad" class="t constructor">Point</a>(144, 40);
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="#039b1eae4c1b0c74" class="i field">btnCancel</a>.<a href="@0@System.Windows.Forms/A.html#9fde7aac184d74bc" class="i property">Name</a> = <span class="s">&quot;btnCancel&quot;</span>;
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="#039b1eae4c1b0c74" class="i field">btnCancel</a>.<a href="@0@System.Windows.Forms/A.html#16f3a97c67aba8b8" class="i property">Size</a> = <b>new</b> <span class="i n">System</span>.<span class="i n">Drawing</span>.<a href="@0@System.Drawing/A.html#606f94308f39ac98" class="t constructor">Size</a>(64, 23);
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="#039b1eae4c1b0c74" class="i field">btnCancel</a>.<a href="@0@System.Windows.Forms/A.html#afa563929ab91f06" class="i property">TabIndex</a> = 2;
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="#039b1eae4c1b0c74" class="i field">btnCancel</a>.<a href="@0@System.Windows.Forms/A.html#bb3c9e9657b54529" class="i property">Text</a> = <span class="s">&quot;Cancel&quot;</span>;
			<span class="c">// </span>
			<span class="c">// txtPassword</span>
			<span class="c">// </span>
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="#65ad90d021198f03" class="i field">txtPassword</a>.<a href="@0@System.Windows.Forms/A.html#fe6221f0995f8f41" class="i property">Location</a> = <b>new</b> <span class="i n">System</span>.<span class="i n">Drawing</span>.<a href="@0@System.Drawing/A.html#05f39155f9d68aad" class="t constructor">Point</a>(16, 16);
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="#65ad90d021198f03" class="i field">txtPassword</a>.<a href="@0@System.Windows.Forms/A.html#9fde7aac184d74bc" class="i property">Name</a> = <span class="s">&quot;txtPassword&quot;</span>;
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="#65ad90d021198f03" class="i field">txtPassword</a>.<a href="@0@System.Windows.Forms/A.html#26aeb9f1e1db648c" class="i property">PasswordChar</a> = <span class="s">&#39;*&#39;</span>;
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="#65ad90d021198f03" class="i field">txtPassword</a>.<a href="@0@System.Windows.Forms/A.html#16f3a97c67aba8b8" class="i property">Size</a> = <b>new</b> <span class="i n">System</span>.<span class="i n">Drawing</span>.<a href="@0@System.Drawing/A.html#606f94308f39ac98" class="t constructor">Size</a>(112, 20);
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="#65ad90d021198f03" class="i field">txtPassword</a>.<a href="@0@System.Windows.Forms/A.html#afa563929ab91f06" class="i property">TabIndex</a> = 0;
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="#65ad90d021198f03" class="i field">txtPassword</a>.<a href="@0@System.Windows.Forms/A.html#98b5645df3380796" class="i property">Text</a> = <span class="s">&quot;&quot;</span>;
			<span class="c">// </span>
			<span class="c">// ConnectionPassword</span>
			<span class="c">// </span>
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="@0@System.Windows.Forms/A.html#c9434f9f1f7f0098" class="i property">AcceptButton</a> = <a href="#675a6c3add766fda" class="k">this</a>.<a href="#3b655b9aced2a8d9" class="i field">btnOk</a>;
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="@0@System.Windows.Forms/A.html#b594fd9da2fc7737" class="i property">AutoScaleBaseSize</a> = <b>new</b> <span class="i n">System</span>.<span class="i n">Drawing</span>.<a href="@0@System.Drawing/A.html#606f94308f39ac98" class="t constructor">Size</a>(5, 13);
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="@0@System.Windows.Forms/A.html#76bf5f9d08f548bd" class="i property">CancelButton</a> = <a href="#675a6c3add766fda" class="k">this</a>.<a href="#039b1eae4c1b0c74" class="i field">btnCancel</a>;
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="@0@System.Windows.Forms/A.html#88670b3a2d1d496b" class="i property">ClientSize</a> = <b>new</b> <span class="i n">System</span>.<span class="i n">Drawing</span>.<a href="@0@System.Drawing/A.html#606f94308f39ac98" class="t constructor">Size</a>(216, 73);
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="@0@System.Windows.Forms/A.html#7c654bc4a957be35" class="i property">Controls</a>.<a href="@0@System.Windows.Forms/A.html#7adf34cd6cb03c20" class="i method">AddRange</a>(<b>new</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Forms</span>.<a href="@0@System.Windows.Forms/A.html#9884211b7ff61817" class="t t">Control</a>[] {
																		  <a href="#675a6c3add766fda" class="k">this</a>.<a href="#65ad90d021198f03" class="i field">txtPassword</a>,
																		  <a href="#675a6c3add766fda" class="k">this</a>.<a href="#039b1eae4c1b0c74" class="i field">btnCancel</a>,
																		  <a href="#675a6c3add766fda" class="k">this</a>.<a href="#3b655b9aced2a8d9" class="i field">btnOk</a>});
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="@0@System.Windows.Forms/A.html#f11605d719542b52" class="i property">FormBorderStyle</a> = <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Forms</span>.<a href="@0@System.Windows.Forms/A.html#1b72e5805bf3f0d5" class="t t">FormBorderStyle</a>.<a href="@0@System.Windows.Forms/A.html#0c062425163e00c8" class="i field">FixedDialog</a>;
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="@0@System.Windows.Forms/A.html#267d3b4b7fe6e946" class="i property">MaximizeBox</a> = <b>false</b>;
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="@0@System.Windows.Forms/A.html#33425138efa918b8" class="i property">MinimizeBox</a> = <b>false</b>;
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="@0@System.Windows.Forms/A.html#9fde7aac184d74bc" class="i property">Name</a> = <span class="s">&quot;ConnectionPassword&quot;</span>;
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="@0@System.Windows.Forms/A.html#9c0f2d7c47a3ead7" class="i property">ShowInTaskbar</a> = <b>false</b>;
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="@0@System.Windows.Forms/A.html#1c26164ba5056f27" class="i property">StartPosition</a> = <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Forms</span>.<a href="@0@System.Windows.Forms/A.html#e5c54f333aff2720" class="t t">FormStartPosition</a>.<a href="@0@System.Windows.Forms/A.html#fb5f26cfc5861ff2" class="i field">CenterScreen</a>;
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="@0@System.Windows.Forms/A.html#9b7c9679c25876d6" class="i property">Text</a> = <span class="s">&quot;Password&quot;</span>;
			<a href="#675a6c3add766fda" class="k">this</a>.<a href="@0@System.Windows.Forms/A.html#dfb2c1c3fa868c67" class="i method">ResumeLayout</a>(<b>false</b>);
 
		}
		<span class="k preprocess">#</span><span class="k preprocess">endregion</span>
		
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> Creates an instance of PasswordDialog and uses it to obtain the user&#39;s password.</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
		<span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">Returns the user&#39;s password as entered, or null if he/she clicked Cancel.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
		<b>public static string</b> <a id="61086918adf05a0f" href="R/../../0000000000.html" target="n" data-glyph="72,1" class="i method">GetPassword</a>()
		{
			<b>using</b>(<a href="#675a6c3add766fda" class="t t">PasswordDialog</a> <span id="r1 rd" class="r1 r">dialog</span> = <b>new</b> <a href="#1f3b55b876d5c13d" class="t constructor">PasswordDialog</a>()) {
				<b>if</b> (<span class="r1 r">dialog</span>.<a href="@0@System.Windows.Forms/A.html#0bb4691914851ddb" class="i method">ShowDialog</a>() == <a href="@0@System.Windows.Forms/A.html#489debd4e71ec9d7" class="t t">DialogResult</a>.<a href="@0@System.Windows.Forms/A.html#4eea8b14a97a6b1e" class="i field">OK</a>) {
					<b>return</b> <span class="r1 r">dialog</span>.<a href="#e4a11e8405593d15" class="i property">Password</a>;
				} <b>else</b> {
					<span class="c">// If the user clicks Cancel, return null and not the empty string.</span>
					<b>return</b> <b>null</b>;
				}
			}
		}
	}
}</pre></td></tr></table></div></body></html>
