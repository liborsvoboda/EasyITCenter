<!DOCTYPE html>
<html><head><title>ColorPickerControl.cs</title><link rel="stylesheet" href="../../../styles.css"><script src="../../../scripts.js"></script></head>
<body class="cB" onload="i(203);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#EASYTools.HTMLFullEditor/Code/Internal/ColorPickerControl.cs" target="_top">Code\Internal\ColorPickerControl.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#EASYTools.HTMLFullEditor" target="_top">..\..\..\EASY-TOOLS\EASYTools.HTMLFullEditor\EASYTools.HTMLFullEditor\EASYTools.HTMLFullEditor.csproj</a> (EASYTools.HTMLFullEditor)</td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Controls</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Media</span>;
 
<b>namespace</b> <span class="i n">EASYTools</span>.<span class="i n">HTMLFullEditor</span>.<span class="i n">Code</span>
{
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c"> Simple color palette.</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    <b>internal class</b> <a id="8d9d52decb4dc398" href="../../R/8d9d52decb4dc398.html" target="n" data-glyph="2,0" class="t t">ColorPickerControl</a> : <a href="@0@PresentationFramework/A.html#ef80474a10d9350f" class="t t">UserControl</a>
    {
        <b>private readonly</b> <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>[] <a id="7b456f7b2e3775a6" href="../../R/7b456f7b2e3775a6.html" target="n" data-glyph="46,1" class="i field">_colors</a> = 
        {
            <a href="@0@PresentationCore/A.html#0584e1e7d7fb612c" class="t t">Colors</a>.<a href="@0@PresentationCore/A.html#f67f2a25c7c7b3fd" class="i property">White</a>,
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 255, 192, 192),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 255, 224, 192),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 255, 255, 192),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 192, 255, 192),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 192, 255, 255),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 192, 192, 255),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 255, 192, 255),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 224, 224, 224),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 255, 128, 128),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 255, 192, 128),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 255, 255, 128),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 128, 255, 128),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 128, 255, 255),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 128, 128, 255),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 255, 128, 255),
            <a href="@0@PresentationCore/A.html#0584e1e7d7fb612c" class="t t">Colors</a>.<a href="@0@PresentationCore/A.html#b86ef8146e661f19" class="i property">Silver</a>,
            <a href="@0@PresentationCore/A.html#0584e1e7d7fb612c" class="t t">Colors</a>.<a href="@0@PresentationCore/A.html#ff276a65240551dd" class="i property">Red</a>,
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 255, 128, 0),
            <a href="@0@PresentationCore/A.html#0584e1e7d7fb612c" class="t t">Colors</a>.<a href="@0@PresentationCore/A.html#a8af784750e187b1" class="i property">Yellow</a>,
            <a href="@0@PresentationCore/A.html#0584e1e7d7fb612c" class="t t">Colors</a>.<a href="@0@PresentationCore/A.html#6f4025ba33821856" class="i property">Lime</a>,
            <a href="@0@PresentationCore/A.html#0584e1e7d7fb612c" class="t t">Colors</a>.<a href="@0@PresentationCore/A.html#f7d4fe53ff814bb8" class="i property">Cyan</a>,
            <a href="@0@PresentationCore/A.html#0584e1e7d7fb612c" class="t t">Colors</a>.<a href="@0@PresentationCore/A.html#aa1fb11db08ec967" class="i property">Blue</a>,
            <a href="@0@PresentationCore/A.html#0584e1e7d7fb612c" class="t t">Colors</a>.<a href="@0@PresentationCore/A.html#bf399e8945f4e820" class="i property">Fuchsia</a>,
            <a href="@0@PresentationCore/A.html#0584e1e7d7fb612c" class="t t">Colors</a>.<a href="@0@PresentationCore/A.html#47328049ec15ab09" class="i property">Gray</a>,
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 192, 0, 0),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 192, 64, 0),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 192, 192, 0),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 0, 192, 0),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 0, 192, 192),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 0, 0, 192),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 192, 0, 192),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 64, 64, 64),
            <a href="@0@PresentationCore/A.html#0584e1e7d7fb612c" class="t t">Colors</a>.<a href="@0@PresentationCore/A.html#a466490ac45271dc" class="i property">Maroon</a>,
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 128, 64, 0),
            <a href="@0@PresentationCore/A.html#0584e1e7d7fb612c" class="t t">Colors</a>.<a href="@0@PresentationCore/A.html#fda2cb0a77515eb9" class="i property">Olive</a>,
            <a href="@0@PresentationCore/A.html#0584e1e7d7fb612c" class="t t">Colors</a>.<a href="@0@PresentationCore/A.html#129bdc18b649400c" class="i property">Green</a>,
            <a href="@0@PresentationCore/A.html#0584e1e7d7fb612c" class="t t">Colors</a>.<a href="@0@PresentationCore/A.html#93b33a989640a8bc" class="i property">Teal</a>,
            <a href="@0@PresentationCore/A.html#0584e1e7d7fb612c" class="t t">Colors</a>.<a href="@0@PresentationCore/A.html#b7179588b3509b53" class="i property">Navy</a>,
            <a href="@0@PresentationCore/A.html#0584e1e7d7fb612c" class="t t">Colors</a>.<a href="@0@PresentationCore/A.html#8093a70f3ebd2d09" class="i property">Purple</a>,
            <a href="@0@PresentationCore/A.html#0584e1e7d7fb612c" class="t t">Colors</a>.<a href="@0@PresentationCore/A.html#8f0ba43d1a961d20" class="i property">Black</a>,
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 64, 0, 0),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 128, 64, 64),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 64, 64, 0),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 0, 64, 0),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 0, 64, 64),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 0, 0, 64),
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>.<a href="@0@PresentationCore/A.html#9289c34fb9030bfd" class="i method">FromArgb</a>(255, 64, 0, 64),
        };
 
        <b>private const int</b> <a id="8222171ab1047342" href="../../R/8222171ab1047342.html" target="n" data-glyph="10,1" class="i field">RowCount</a> = 6;
        <b>private const int</b> <a id="8dafce0ab4e7e7bd" href="../../R/8dafce0ab4e7e7bd.html" target="n" data-glyph="10,1" class="i field">ColumnCount</a> = 8;
        <b>private const int</b> <a id="fbd82c62badfa9b5" href="../../R/fbd82c62badfa9b5.html" target="n" data-glyph="10,1" class="i field">PreviewWidth</a> = 20;
        <b>private const int</b> <a id="d32b06d24dbe46c0" href="../../R/d32b06d24dbe46c0.html" target="n" data-glyph="10,1" class="i field">PreviewHeight</a> = 20;
        <b>private const int</b> <a id="6aaa3fae161e4d3e" href="../../R/6aaa3fae161e4d3e.html" target="n" data-glyph="10,1" class="i field">Spacing</a> = 4;
 
        <b>public</b> <a id="8964826bc082d642" href="../../R/../../0000000000.html" target="n" data-glyph="72,1" class="t constructor">ColorPickerControl</a>() : <a href="#184fb1fe3a2063aa" class="k">this</a>(<a href="@0@PresentationCore/A.html#0584e1e7d7fb612c" class="t t">Colors</a>.<a href="@0@PresentationCore/A.html#8f0ba43d1a961d20" class="i property">Black</a>)
        {
        }
 
        <b>public</b> <a id="184fb1fe3a2063aa" href="../../R/184fb1fe3a2063aa.html" target="n" data-glyph="72,1" class="t constructor">ColorPickerControl</a>(<a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a> <span id="r0 rd" class="r0 r">defaultColor</span>)
        {
            <a href="#ab7d93356e2bf5e1" class="i method">InitializeComponents</a>();
            <a href="#c37e02ffcbdaba25" class="i property">LastSelectedColor</a> = <span class="r0 r">defaultColor</span>;
            <a href="#03ada823125d9ee3" class="i property">LastSelectedBrush</a> = <b>new</b> <a href="@0@PresentationCore/A.html#28be7a261187a210" class="t constructor">SolidColorBrush</a>(<span class="r0 r">defaultColor</span>);
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets the last selected color.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public</b> <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a> <a id="c37e02ffcbdaba25" href="../../R/c37e02ffcbdaba25.html" target="n" data-glyph="102,1" class="i property">LastSelectedColor</a>
        {
            <b>get</b>;
            <b>private set</b>;
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets the last selected brush.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public</b> <a href="@0@PresentationCore/A.html#2753d3468fd36b9f" class="t t">Brush</a> <a id="03ada823125d9ee3" href="../../R/03ada823125d9ee3.html" target="n" data-glyph="102,1" class="i property">LastSelectedBrush</a>
        {
            <b>get</b>;
            <b>private set</b>;
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Event fired after some color is selected.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public event</b> <a href="@0@mscorlib/A.html#96ed969784b9d510" class="t t">EventHandler</a>&lt;<a href="#d31f4bd837d74f92" class="t t">SelectedColorArgs</a>&gt; <a id="5e7b2d9453f6af26" href="../../R/5e7b2d9453f6af26.html" target="n" data-glyph="30,1" class="i">ColorSelected</a>;
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Creates content menu with this Color picker in it.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public</b> <a href="@0@PresentationFramework/A.html#f4776732cf34c5a5" class="t t">ContextMenu</a> <a id="70c0246cf2dccdc9" href="../../R/70c0246cf2dccdc9.html" target="n" data-glyph="72,1" class="i method">CreateContextMenu</a>()
        {
            <a href="@0@PresentationFramework/A.html#f4776732cf34c5a5" class="k">var</a> <span id="r1 rd" class="r1 r">contextMenu</span> = <b>new</b> <a href="@0@PresentationFramework/A.html#329171435db997f0" class="t constructor">ContextMenu</a>();
            <span class="c">//var menuItem = new MenuItem();</span>
            <span class="c">//contextMenu.Items.Add(menuItem);</span>
 
            <span class="c">// Using template to use ColorPicker inside ContextMenu</span>
            <span class="r1 r">contextMenu</span>.<a href="@0@PresentationFramework/A.html#daecaeeeebb2beb9" class="i property">Template</a> = <a href="TemplateGenerator.cs.html#56152f72c45b3712" class="t t">TemplateGenerator</a>.<a href="TemplateGenerator.cs.html#6cf4864b4a3e544e" class="i method">CreateControlTemplate</a>(<b>typeof</b>(<a href="@0@PresentationFramework/A.html#f4776732cf34c5a5" class="t t">ContextMenu</a>), () =&gt;
            {
                <a href="#8d9d52decb4dc398" class="k">this</a>.<a href="#5e7b2d9453f6af26" class="i">ColorSelected</a> += (<span id="r2 rd" class="r2 r">s</span>, <span id="r3 rd" class="r3 r">e</span>) =&gt;
                {
                    <span class="r1 r">contextMenu</span>.<a href="@0@PresentationFramework/A.html#b3c4f9af73079ad1" class="i property">IsOpen</a> = <b>false</b>;
                };
 
                <a href="@0@PresentationFramework/A.html#06cd39da928ee424" class="k">var</a> <span id="r4 rd" class="r4 r">border</span> = <b>new</b> <a href="@0@PresentationFramework/A.html#d751eeeb20246035" class="t constructor">Border</a>();
                <span class="r4 r">border</span>.<a href="@0@PresentationFramework/A.html#0abeaa3587f36789" class="i property">BorderBrush</a> = <a href="@0@PresentationFramework/A.html#1483e0bd2b6f4573" class="t t">SystemColors</a>.<a href="@0@PresentationFramework/A.html#5b7382426fb257a7" class="i property">ActiveBorderBrush</a>;
                <span class="r4 r">border</span>.<a href="@0@PresentationFramework/A.html#be65e048a5b94c6f" class="i property">BorderThickness</a> = <b>new</b> <a href="@0@PresentationFramework/A.html#f24f92e6dee837d3" class="t constructor">Thickness</a>(1);
                <span class="r4 r">border</span>.<a href="@0@PresentationFramework/A.html#67dc070dd55308e6" class="i property">Background</a> = <a href="@0@PresentationCore/A.html#0110a86641bd833b" class="t t">Brushes</a>.<a href="@0@PresentationCore/A.html#d011533fc3db1d45" class="i property">WhiteSmoke</a>;
                <span class="r4 r">border</span>.<a href="@0@PresentationFramework/A.html#2a880652079bdb31" class="i property">Child</a> = <a href="#8d9d52decb4dc398" class="k">this</a>;
                <b>return</b> <span class="r4 r">border</span>;
            });
 
            <b>return</b> <span class="r1 r">contextMenu</span>;
        }
 
        <b>private void</b> <a id="ab7d93356e2bf5e1" href="../../R/ab7d93356e2bf5e1.html" target="n" data-glyph="76,1" class="i method">InitializeComponents</a>()
        {
            <a href="@0@PresentationFramework/A.html#a23db2d321823084" class="k">var</a> <span id="r5 rd" class="r5 r">canvas</span> = <b>new</b> <a href="@0@PresentationFramework/A.html#382f8bfec4ebad3c" class="t constructor">Canvas</a>();
 
            <b>int</b> <span id="r6 rd" class="r6 r">y</span> = <a href="#6aaa3fae161e4d3e" class="i field">Spacing</a>;
            <b>for</b> (<b>int</b> <span id="r7 rd" class="r7 r">row</span> = 0; <span class="r7 r">row</span> &lt; <a href="#8222171ab1047342" class="i field">RowCount</a>; <span class="r7 r">row</span>++)
            {
                <b>int</b> <span id="r8 rd" class="r8 r">x</span> = <a href="#6aaa3fae161e4d3e" class="i field">Spacing</a>;
                <b>for</b> (<b>int</b> <span id="r9 rd" class="r9 r">column</span> = 0; <span class="r9 r">column</span> &lt; <a href="#8dafce0ab4e7e7bd" class="i field">ColumnCount</a>; <span class="r9 r">column</span>++)
                {
                    <span class="c">// create button with background</span>
                    <a href="@0@PresentationFramework/A.html#bfc2d93e5b6e9a96" class="k">var</a> <span id="r10 rd" class="r10 r">button</span> = <b>new</b> <a href="@0@PresentationFramework/A.html#9b9343f1fa48f518" class="t constructor">Button</a>();
                    <a href="@0@PresentationFramework/A.html#a23db2d321823084" class="t t">Canvas</a>.<a href="@0@PresentationFramework/A.html#f338cad381926fb5" class="i method">SetLeft</a>(<span class="r10 r">button</span>, <span class="r8 r">x</span>);
                    <a href="@0@PresentationFramework/A.html#a23db2d321823084" class="t t">Canvas</a>.<a href="@0@PresentationFramework/A.html#8d0e3c40eb8a4922" class="i method">SetTop</a>(<span class="r10 r">button</span>, <span class="r6 r">y</span>);
                    <span class="r10 r">button</span>.<a href="@0@PresentationFramework/A.html#d0e1f940abafebe8" class="i property">Width</a> = <a href="#fbd82c62badfa9b5" class="i field">PreviewWidth</a>;
                    <span class="r10 r">button</span>.<a href="@0@PresentationFramework/A.html#df2641c07f10d929" class="i property">Height</a> = <a href="#d32b06d24dbe46c0" class="i field">PreviewHeight</a>;
                    <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="k">var</a> <span id="r11 rd" class="r11 r">color</span> = <a href="#7b456f7b2e3775a6" class="i field">_colors</a>[<span class="r7 r">row</span> * <a href="#8dafce0ab4e7e7bd" class="i field">ColumnCount</a> + <span class="r9 r">column</span>];
                    <span class="r10 r">button</span>.<a href="@0@PresentationFramework/A.html#4e6ce8c1fbfefae7" class="i property">Background</a> = <b>new</b> <a href="@0@PresentationCore/A.html#28be7a261187a210" class="t constructor">SolidColorBrush</a>(<span class="r11 r">color</span>);
                    <span class="r10 r">button</span>.<a href="@0@PresentationFramework/A.html#53151b3ab7c73170" class="i property">Tag</a> = <span class="r11 r">color</span>;
                    <span class="r10 r">button</span>.<a href="@0@PresentationFramework/A.html#56b78e5307732315" class="i">Click</a> += <a href="#72a627741c6e0bd0" class="i method">OnColorButtonClick</a>;
 
                    <span class="c">// add to canvas</span>
                    <span class="r5 r">canvas</span>.<a href="@0@PresentationFramework/A.html#fb9060d71a3afc83" class="i property">Children</a>.<a href="@0@PresentationFramework/A.html#8886057feae649bc" class="i method">Add</a>(<span class="r10 r">button</span>);
 
                    <span class="r8 r">x</span> += <a href="#fbd82c62badfa9b5" class="i field">PreviewWidth</a> + <a href="#6aaa3fae161e4d3e" class="i field">Spacing</a>;
                }
                <span class="r6 r">y</span> += <a href="#d32b06d24dbe46c0" class="i field">PreviewHeight</a> + <a href="#6aaa3fae161e4d3e" class="i field">Spacing</a>;
            }
 
            <span class="c">// set canvas as this Content (and set size to proper display)</span>
            <a href="@0@PresentationFramework/A.html#2811283b5ba60413" class="i property">Content</a> = <span class="r5 r">canvas</span>;
            <a href="@0@PresentationFramework/A.html#d0e1f940abafebe8" class="i property">Width</a> = <a href="#8dafce0ab4e7e7bd" class="i field">ColumnCount</a> * <a href="#fbd82c62badfa9b5" class="i field">PreviewWidth</a> + (<a href="#8dafce0ab4e7e7bd" class="i field">ColumnCount</a> + 1) * <a href="#6aaa3fae161e4d3e" class="i field">Spacing</a>;
            <a href="@0@PresentationFramework/A.html#df2641c07f10d929" class="i property">Height</a> = <a href="#8222171ab1047342" class="i field">RowCount</a> * <a href="#d32b06d24dbe46c0" class="i field">PreviewHeight</a> + (<a href="#8222171ab1047342" class="i field">RowCount</a> + 1) * <a href="#6aaa3fae161e4d3e" class="i field">Spacing</a>;
        }
 
        <b>private void</b> <a id="72a627741c6e0bd0" href="../../R/72a627741c6e0bd0.html" target="n" data-glyph="76,1" class="i method">OnColorButtonClick</a>(<b>object</b> <span id="r12 rd" class="r12 r">sender</span>, <a href="@0@PresentationCore/A.html#3089ebf2139eba9d" class="t t">RoutedEventArgs</a> <span id="r13 rd" class="r13 r">e</span>)
        {
            <a href="@0@PresentationFramework/A.html#bfc2d93e5b6e9a96" class="k">var</a> <span id="r14 rd" class="r14 r">button</span> = (<a href="@0@PresentationFramework/A.html#bfc2d93e5b6e9a96" class="t t">Button</a>)<span class="r12 r">sender</span>;
            <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="k">var</a> <span id="r15 rd" class="r15 r">color</span> = (<a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a>)<span class="r14 r">button</span>.<a href="@0@PresentationFramework/A.html#53151b3ab7c73170" class="i property">Tag</a>;
            <a href="@0@PresentationCore/A.html#2753d3468fd36b9f" class="k">var</a> <span id="r16 rd" class="r16 r">brush</span> = <span class="r14 r">button</span>.<a href="@0@PresentationFramework/A.html#4e6ce8c1fbfefae7" class="i property">Background</a>;
 
            <a href="#c37e02ffcbdaba25" class="i property">LastSelectedColor</a> = <span class="r15 r">color</span>;
            <a href="#03ada823125d9ee3" class="i property">LastSelectedBrush</a> = <span class="r16 r">brush</span>;
 
            <a href="#5e7b2d9453f6af26" class="i">ColorSelected</a>?.<a href="@0@mscorlib/A.html#48225ee7c18a0e20" class="i method">Invoke</a>(<a href="#8d9d52decb4dc398" class="k">this</a>, <b>new</b> <a href="#ddb34a77ef0fa754" class="t constructor">SelectedColorArgs</a>(<span class="r15 r">color</span>, <span class="r16 r">brush</span>));
        }
 
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Event args for selecting color.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public class</b> <a id="d31f4bd837d74f92" href="../../R/d31f4bd837d74f92.html" target="n" data-glyph="0,1" class="t t">SelectedColorArgs</a> : <a href="@0@mscorlib/A.html#9a1496aa60befd10" class="t t">EventArgs</a>
        {
            <b>public</b> <a id="ddb34a77ef0fa754" href="../../R/ddb34a77ef0fa754.html" target="n" data-glyph="72,2" class="t constructor">SelectedColorArgs</a>(<a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a> <span id="r17 rd" class="r17 r">selectedColor</span>, <a href="@0@PresentationCore/A.html#2753d3468fd36b9f" class="t t">Brush</a> <span id="r18 rd" class="r18 r">selectedBrush</span>)
            {
                <a href="#568e04aadedb2d97" class="i property">SelectedColor</a> = <span class="r17 r">selectedColor</span>;
                <a href="#a2c49204e1a5e464" class="i property">SelectedBrush</a> = <span class="r18 r">selectedBrush</span>;
            }
 
            <b>public</b> <a href="@0@PresentationCore/A.html#9c469acbf7b2cb81" class="t t">Color</a> <a id="568e04aadedb2d97" href="../../R/568e04aadedb2d97.html" target="n" data-glyph="102,2" class="i property">SelectedColor</a>
            {
                <b>get</b>;
            }
 
            <b>public</b> <a href="@0@PresentationCore/A.html#2753d3468fd36b9f" class="t t">Brush</a> <a id="a2c49204e1a5e464" href="../../R/a2c49204e1a5e464.html" target="n" data-glyph="102,2" class="i property">SelectedBrush</a>
            {
                <b>get</b>;
            }
        }
    }
}
</pre></td></tr></table></div></body></html>
