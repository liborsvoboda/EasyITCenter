<!DOCTYPE html>
<html><head><title>InteractiveAnimationsExample.cs</title><link rel="stylesheet" href="../../styles.css"><script src="../../scripts.js"></script></head>
<body class="cB" onload="i(122);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#AnimationExamples/TimingBehaviors/InteractiveAnimationsExample.cs" target="_top">TimingBehaviors\InteractiveAnimationsExample.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#AnimationExamples" target="_top">HelpProjects\WPF-MORE\Animation\AnimationExamples\AnimationExamples.csproj</a> (AnimationExamples)</td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// // Copyright (c) Microsoft. All rights reserved.</span>
<span class="c">// // Licensed under the MIT license. See LICENSE file in the project root for full license information.</span>

<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Controls</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Input</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Media</span>.<span class="i n">Animation</span>;

<b>namespace</b> <span class="i n">AnimationExamples</span>
{
    <b>public</b> <a href="../P/1a3ed6622749e393.html" target="s" class="k">partial</a> <b>class</b> <a id="1a3ed6622749e393" href="../R/1a3ed6622749e393.html" target="n" data-glyph="0,0" class="t t"><span id="4d50cc8ccc608bba">InteractiveAnimationsExample</span></a> : <a href="@0@PresentationFramework/A.html#ee962c953241b09c" class="t t">Page</a>
    {
        <b>private</b> <a href="AnimationTransitionType.cs.html#e2e1bbf00ced5209" class="t t">AnimationTransitionType</a> <a id="9ab8c5ca2d2cab79" href="../R/9ab8c5ca2d2cab79.html" target="n" data-glyph="46,1" class="i field">_selectedTransition</a>;

        <span class="c">// Computes the target point when the user clicks the Canvas</span>
        <span class="c">// and starts the appropriate animation.</span>
        <b>private void</b> <a id="65bf9750b53de8fc" href="../R/65bf9750b53de8fc.html" target="n" data-glyph="76,1" class="i method">Canvas_MouseLeftButtonDown</a>(<b>object</b> <span id="r0 rd" class="r0 r">sender</span>, <a href="@0@PresentationCore/A.html#8df546d93b7c55df" class="t t">MouseButtonEventArgs</a> <span id="r1 rd" class="r1 r">args</span>)
        {
            <a href="@0@WindowsBase/A.html#9120327717fc513d" class="k">var</a> <span id="r2 rd" class="r2 r">targetPoint</span> = <span class="r1 r">args</span>.<a href="@0@PresentationCore/A.html#912fdca8fa7cbeed" class="i method">GetPosition</a>(<a href="../obj/Debug/netcoreapp3.1/TimingBehaviors/InteractiveAnimationsExample.g.cs.html#701b40231856bd45" class="i field">ContainerCanvas</a>);
            <span class="r2 r">targetPoint</span>.<a href="@0@WindowsBase/A.html#556ea90344bfb3ea" class="i property">X</a> = <span class="r2 r">targetPoint</span>.<a href="@0@WindowsBase/A.html#556ea90344bfb3ea" class="i property">X</a> - (<a href="../obj/Debug/netcoreapp3.1/TimingBehaviors/InteractiveAnimationsExample.g.cs.html#06c6e0e67087acff" class="i field">MyAnimatedObject</a>.<a href="@0@PresentationFramework/A.html#7cc64ed9667c9f70" class="i property">ActualWidth</a>/2);
            <span class="r2 r">targetPoint</span>.<a href="@0@WindowsBase/A.html#0a42b94edb8c27ab" class="i property">Y</a> = <span class="r2 r">targetPoint</span>.<a href="@0@WindowsBase/A.html#0a42b94edb8c27ab" class="i property">Y</a> - (<a href="../obj/Debug/netcoreapp3.1/TimingBehaviors/InteractiveAnimationsExample.g.cs.html#06c6e0e67087acff" class="i field">MyAnimatedObject</a>.<a href="@0@PresentationFramework/A.html#5554a4892ffe2cfc" class="i property">ActualHeight</a>/2);


            <b>switch</b> (<a href="#9ab8c5ca2d2cab79" class="i field">_selectedTransition</a>)
            {
                <b>case</b> <a href="AnimationTransitionType.cs.html#e2e1bbf00ced5209" class="t t">AnimationTransitionType</a>.<a href="AnimationTransitionType.cs.html#075d626084316daf" class="i field">Linear</a>:
                    <a href="#8c00ab2998014b01" class="i method">AnimateToDestinationUsingLinearAnimation</a>(<span class="r2 r">targetPoint</span>);
                    <b>break</b>;

                <b>case</b> <a href="AnimationTransitionType.cs.html#e2e1bbf00ced5209" class="t t">AnimationTransitionType</a>.<a href="AnimationTransitionType.cs.html#b2ca55e911daf7d2" class="i field">Bounce</a>:
                    <a href="#50f235c03072f083" class="i method">AnimateToDestinationUsingBounceAnimation</a>(<span class="r2 r">targetPoint</span>);
                    <b>break</b>;

                <b>case</b> <a href="AnimationTransitionType.cs.html#e2e1bbf00ced5209" class="t t">AnimationTransitionType</a>.<a href="AnimationTransitionType.cs.html#7a493a8538330d99" class="i field">Elastic</a>:
                    <a href="#92c8428928814447" class="i method">AnimateToDestinationUsingElasticAnimation</a>(<span class="r2 r">targetPoint</span>);
                    <b>break</b>;
            }
        }

        <span class="c">// Animates to the target point using a standard</span>
        <span class="c">// DoubleAnimation.</span>
        <b>private void</b> <a id="8c00ab2998014b01" href="../R/8c00ab2998014b01.html" target="n" data-glyph="76,1" class="i method">AnimateToDestinationUsingLinearAnimation</a>(<a href="@0@WindowsBase/A.html#9120327717fc513d" class="t t">Point</a> <span id="r3 rd" class="r3 r">targetPoint</span>)
        {
            <a href="@0@PresentationCore/A.html#a17bc32ef694a3ac" class="k">var</a> <span id="r4 rd" class="r4 r">xAnimation</span> = <b>new</b> <a href="@0@PresentationCore/A.html#22053e96b78c403a" class="t constructor">DoubleAnimation</a>
            {
                <a href="@0@PresentationCore/A.html#f6c06d8f76b8628a" class="i property">To</a> = <span class="r3 r">targetPoint</span>.<a href="@0@WindowsBase/A.html#556ea90344bfb3ea" class="i property">X</a>,
                <a href="@0@PresentationCore/A.html#aa3a36b776218bff" class="i property">Duration</a> = <b>new</b> <a href="@0@PresentationCore/A.html#b34a900856537ced" class="t constructor">Duration</a>(<a href="@1@System.Runtime/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@1@System.Runtime/A.html#c24437e069f958f9" class="i method">FromSeconds</a>(5))
            };
            <a href="@0@PresentationCore/A.html#a17bc32ef694a3ac" class="k">var</a> <span id="r5 rd" class="r5 r">yAnimation</span> = <b>new</b> <a href="@0@PresentationCore/A.html#22053e96b78c403a" class="t constructor">DoubleAnimation</a>
            {
                <a href="@0@PresentationCore/A.html#f6c06d8f76b8628a" class="i property">To</a> = <span class="r3 r">targetPoint</span>.<a href="@0@WindowsBase/A.html#0a42b94edb8c27ab" class="i property">Y</a>,
                <a href="@0@PresentationCore/A.html#aa3a36b776218bff" class="i property">Duration</a> = <b>new</b> <a href="@0@PresentationCore/A.html#b34a900856537ced" class="t constructor">Duration</a>(<a href="@1@System.Runtime/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@1@System.Runtime/A.html#c24437e069f958f9" class="i method">FromSeconds</a>(5))
            };
            <a href="../obj/Debug/netcoreapp3.1/TimingBehaviors/InteractiveAnimationsExample.g.cs.html#06c6e0e67087acff" class="i field">MyAnimatedObject</a>.<a href="@0@PresentationCore/A.html#bb11d2b5685b1ad6" class="i method">BeginAnimation</a>(<a href="@0@PresentationFramework/A.html#a23db2d321823084" class="t t">Canvas</a>.<a href="@0@PresentationFramework/A.html#eb349db243881914" class="i field">LeftProperty</a>, <span class="r4 r">xAnimation</span>);
            <a href="../obj/Debug/netcoreapp3.1/TimingBehaviors/InteractiveAnimationsExample.g.cs.html#06c6e0e67087acff" class="i field">MyAnimatedObject</a>.<a href="@0@PresentationCore/A.html#bb11d2b5685b1ad6" class="i method">BeginAnimation</a>(<a href="@0@PresentationFramework/A.html#a23db2d321823084" class="t t">Canvas</a>.<a href="@0@PresentationFramework/A.html#a76de5a09fc0753e" class="i field">TopProperty</a>, <span class="r5 r">yAnimation</span>);
        }

        <span class="c">// Animates to the target point using a custom</span>
        <span class="c">// BouncAnimation.</span>
        <b>private void</b> <a id="50f235c03072f083" href="../R/50f235c03072f083.html" target="n" data-glyph="76,1" class="i method">AnimateToDestinationUsingBounceAnimation</a>(<a href="@0@WindowsBase/A.html#9120327717fc513d" class="t t">Point</a> <span id="r6 rd" class="r6 r">targetPoint</span>)
        {
            <a href="../BounceDoubleAnimation.cs.html#5632b2c34e8bfb41" class="k">var</a> <span id="r7 rd" class="r7 r">bounceXAnimation</span> =
                <b>new</b> <a href="../BounceDoubleAnimation.cs.html#5632b2c34e8bfb41" class="t constructor">BounceDoubleAnimation</a>
                {
                    <a href="../BounceDoubleAnimation.cs.html#2a4a1f4141efe1a7" class="i property">From</a> = <a href="@0@PresentationFramework/A.html#a23db2d321823084" class="t t">Canvas</a>.<a href="@0@PresentationFramework/A.html#c65916be9b322dda" class="i method">GetLeft</a>(<a href="../obj/Debug/netcoreapp3.1/TimingBehaviors/InteractiveAnimationsExample.g.cs.html#06c6e0e67087acff" class="i field">MyAnimatedObject</a>),
                    <a href="../BounceDoubleAnimation.cs.html#5a3b4b5646e7e1d6" class="i property">To</a> = <span class="r6 r">targetPoint</span>.<a href="@0@WindowsBase/A.html#556ea90344bfb3ea" class="i property">X</a>,
                    <a href="@0@PresentationCore/A.html#aa3a36b776218bff" class="i property">Duration</a> = <a href="@1@System.Runtime/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@1@System.Runtime/A.html#c24437e069f958f9" class="i method">FromSeconds</a>(5),
                    <a href="../BounceDoubleAnimation.cs.html#14b8fdbd252690ee" class="i property">EdgeBehavior</a> = <a href="../BounceDoubleAnimation.cs.html#5632b2c34e8bfb41" class="t t">BounceDoubleAnimation</a>.<a href="../BounceDoubleAnimation.cs.html#1da8e16c90ce15ce" class="t t">EdgeBehaviorEnum</a>.<a href="../BounceDoubleAnimation.cs.html#6a27acb92c3b6e4a" class="i field">EaseIn</a>
                };
            <a href="../obj/Debug/netcoreapp3.1/TimingBehaviors/InteractiveAnimationsExample.g.cs.html#06c6e0e67087acff" class="i field">MyAnimatedObject</a>.<a href="@0@PresentationCore/A.html#bb11d2b5685b1ad6" class="i method">BeginAnimation</a>(<a href="@0@PresentationFramework/A.html#a23db2d321823084" class="t t">Canvas</a>.<a href="@0@PresentationFramework/A.html#eb349db243881914" class="i field">LeftProperty</a>, <span class="r7 r">bounceXAnimation</span>);

            <a href="../BounceDoubleAnimation.cs.html#5632b2c34e8bfb41" class="k">var</a> <span id="r8 rd" class="r8 r">bounceYAnimation</span> =
                <b>new</b> <a href="../BounceDoubleAnimation.cs.html#5632b2c34e8bfb41" class="t constructor">BounceDoubleAnimation</a>
                {
                    <a href="../BounceDoubleAnimation.cs.html#2a4a1f4141efe1a7" class="i property">From</a> = <a href="@0@PresentationFramework/A.html#a23db2d321823084" class="t t">Canvas</a>.<a href="@0@PresentationFramework/A.html#bbf3dfbfc3a60d1b" class="i method">GetTop</a>(<a href="../obj/Debug/netcoreapp3.1/TimingBehaviors/InteractiveAnimationsExample.g.cs.html#06c6e0e67087acff" class="i field">MyAnimatedObject</a>),
                    <a href="../BounceDoubleAnimation.cs.html#5a3b4b5646e7e1d6" class="i property">To</a> = <span class="r6 r">targetPoint</span>.<a href="@0@WindowsBase/A.html#0a42b94edb8c27ab" class="i property">Y</a>,
                    <a href="@0@PresentationCore/A.html#aa3a36b776218bff" class="i property">Duration</a> = <a href="@1@System.Runtime/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@1@System.Runtime/A.html#c24437e069f958f9" class="i method">FromSeconds</a>(5),
                    <a href="../BounceDoubleAnimation.cs.html#14b8fdbd252690ee" class="i property">EdgeBehavior</a> = <a href="../BounceDoubleAnimation.cs.html#5632b2c34e8bfb41" class="t t">BounceDoubleAnimation</a>.<a href="../BounceDoubleAnimation.cs.html#1da8e16c90ce15ce" class="t t">EdgeBehaviorEnum</a>.<a href="../BounceDoubleAnimation.cs.html#6a27acb92c3b6e4a" class="i field">EaseIn</a>
                };
            <a href="../obj/Debug/netcoreapp3.1/TimingBehaviors/InteractiveAnimationsExample.g.cs.html#06c6e0e67087acff" class="i field">MyAnimatedObject</a>.<a href="@0@PresentationCore/A.html#bb11d2b5685b1ad6" class="i method">BeginAnimation</a>(<a href="@0@PresentationFramework/A.html#a23db2d321823084" class="t t">Canvas</a>.<a href="@0@PresentationFramework/A.html#a76de5a09fc0753e" class="i field">TopProperty</a>, <span class="r8 r">bounceYAnimation</span>);
        }

        <span class="c">// Animates to the target point using a custom</span>
        <span class="c">// ElasticAnimation.        </span>
        <b>private void</b> <a id="92c8428928814447" href="../R/92c8428928814447.html" target="n" data-glyph="76,1" class="i method">AnimateToDestinationUsingElasticAnimation</a>(<a href="@0@WindowsBase/A.html#9120327717fc513d" class="t t">Point</a> <span id="r9 rd" class="r9 r">targetPoint</span>)
        {
            <a href="../ElasticDoubleAnimation.cs.html#afe1632b1bbb86ff" class="k">var</a> <span id="r10 rd" class="r10 r">elasticXAnimation</span> =
                <b>new</b> <a href="../ElasticDoubleAnimation.cs.html#afe1632b1bbb86ff" class="t constructor">ElasticDoubleAnimation</a>
                {
                    <a href="../ElasticDoubleAnimation.cs.html#fa3d243e7bd77109" class="i property">From</a> = <a href="@0@PresentationFramework/A.html#a23db2d321823084" class="t t">Canvas</a>.<a href="@0@PresentationFramework/A.html#c65916be9b322dda" class="i method">GetLeft</a>(<a href="../obj/Debug/netcoreapp3.1/TimingBehaviors/InteractiveAnimationsExample.g.cs.html#06c6e0e67087acff" class="i field">MyAnimatedObject</a>),
                    <a href="../ElasticDoubleAnimation.cs.html#2b4dc598c8eb4328" class="i property">To</a> = <span class="r9 r">targetPoint</span>.<a href="@0@WindowsBase/A.html#556ea90344bfb3ea" class="i property">X</a>,
                    <a href="@0@PresentationCore/A.html#aa3a36b776218bff" class="i property">Duration</a> = <a href="@1@System.Runtime/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@1@System.Runtime/A.html#c24437e069f958f9" class="i method">FromSeconds</a>(5),
                    <a href="../ElasticDoubleAnimation.cs.html#81333a9c74281776" class="i property">EdgeBehavior</a> = <a href="../ElasticDoubleAnimation.cs.html#afe1632b1bbb86ff" class="t t">ElasticDoubleAnimation</a>.<a href="../ElasticDoubleAnimation.cs.html#09b5f166675091fd" class="t t">EdgeBehaviorEnum</a>.<a href="../ElasticDoubleAnimation.cs.html#0993bb9312d06671" class="i field">EaseIn</a>
                };
            <a href="../obj/Debug/netcoreapp3.1/TimingBehaviors/InteractiveAnimationsExample.g.cs.html#06c6e0e67087acff" class="i field">MyAnimatedObject</a>.<a href="@0@PresentationCore/A.html#bb11d2b5685b1ad6" class="i method">BeginAnimation</a>(<a href="@0@PresentationFramework/A.html#a23db2d321823084" class="t t">Canvas</a>.<a href="@0@PresentationFramework/A.html#eb349db243881914" class="i field">LeftProperty</a>, <span class="r10 r">elasticXAnimation</span>);

            <a href="../ElasticDoubleAnimation.cs.html#afe1632b1bbb86ff" class="k">var</a> <span id="r11 rd" class="r11 r">elasticYAnimation</span> =
                <b>new</b> <a href="../ElasticDoubleAnimation.cs.html#afe1632b1bbb86ff" class="t constructor">ElasticDoubleAnimation</a>
                {
                    <a href="../ElasticDoubleAnimation.cs.html#fa3d243e7bd77109" class="i property">From</a> = <a href="@0@PresentationFramework/A.html#a23db2d321823084" class="t t">Canvas</a>.<a href="@0@PresentationFramework/A.html#bbf3dfbfc3a60d1b" class="i method">GetTop</a>(<a href="../obj/Debug/netcoreapp3.1/TimingBehaviors/InteractiveAnimationsExample.g.cs.html#06c6e0e67087acff" class="i field">MyAnimatedObject</a>),
                    <a href="../ElasticDoubleAnimation.cs.html#2b4dc598c8eb4328" class="i property">To</a> = <span class="r9 r">targetPoint</span>.<a href="@0@WindowsBase/A.html#0a42b94edb8c27ab" class="i property">Y</a>,
                    <a href="@0@PresentationCore/A.html#aa3a36b776218bff" class="i property">Duration</a> = <a href="@1@System.Runtime/A.html#865ef7b89f41b632" class="t t">TimeSpan</a>.<a href="@1@System.Runtime/A.html#c24437e069f958f9" class="i method">FromSeconds</a>(5),
                    <a href="../ElasticDoubleAnimation.cs.html#81333a9c74281776" class="i property">EdgeBehavior</a> = <a href="../ElasticDoubleAnimation.cs.html#afe1632b1bbb86ff" class="t t">ElasticDoubleAnimation</a>.<a href="../ElasticDoubleAnimation.cs.html#09b5f166675091fd" class="t t">EdgeBehaviorEnum</a>.<a href="../ElasticDoubleAnimation.cs.html#0993bb9312d06671" class="i field">EaseIn</a>
                };
            <a href="../obj/Debug/netcoreapp3.1/TimingBehaviors/InteractiveAnimationsExample.g.cs.html#06c6e0e67087acff" class="i field">MyAnimatedObject</a>.<a href="@0@PresentationCore/A.html#bb11d2b5685b1ad6" class="i method">BeginAnimation</a>(<a href="@0@PresentationFramework/A.html#a23db2d321823084" class="t t">Canvas</a>.<a href="@0@PresentationFramework/A.html#a76de5a09fc0753e" class="i field">TopProperty</a>, <span class="r11 r">elasticYAnimation</span>);
        }

        <span class="c">// Sets the default animation transition mode.</span>
        <b>private void</b> <a id="7d5b247a52064380" href="../R/7d5b247a52064380.html" target="n" data-glyph="76,1" class="i method">PageLoaded</a>(<b>object</b> <span id="r12 rd" class="r12 r">sender</span>, <a href="@0@PresentationCore/A.html#3089ebf2139eba9d" class="t t">RoutedEventArgs</a> <span id="r13 rd" class="r13 r">args</span>)
        {
            <a href="../obj/Debug/netcoreapp3.1/TimingBehaviors/InteractiveAnimationsExample.g.cs.html#ddcf3e41c0c8d42c" class="i field">LinearTransitionRadioButton</a>.<a href="@0@PresentationFramework/A.html#317d766b8b07ac8c" class="i property">IsChecked</a> = <b>true</b>;
        }

        <span class="c">// Updates the cached animation transition.</span>
        <b>private void</b> <a id="cb45e30a3e82bc1b" href="../R/cb45e30a3e82bc1b.html" target="n" data-glyph="76,1" class="i method">SelectedTransitionChanged</a>(<b>object</b> <span id="r14 rd" class="r14 r">sender</span>, <a href="@0@PresentationCore/A.html#3089ebf2139eba9d" class="t t">RoutedEventArgs</a> <span id="r15 rd" class="r15 r">args</span>)
        {
            <a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r16 rd" class="r16 r">value</span> = (<a href="@1@System.Runtime/A.html#8281103e6f23cb5c" class="k">string</a>) ((<a href="@0@PresentationFramework/A.html#6dffc69e0bcf996e" class="t t">RadioButton</a>) <span class="r15 r">args</span>.<a href="@0@PresentationCore/A.html#d8bb6e0074ca9326" class="i property">Source</a>).<a href="@0@PresentationFramework/A.html#2811283b5ba60413" class="i property">Content</a>;
            <a href="#9ab8c5ca2d2cab79" class="i field">_selectedTransition</a> = (<a href="AnimationTransitionType.cs.html#e2e1bbf00ced5209" class="t t">AnimationTransitionType</a>) <a href="@1@System.Runtime/A.html#36729210e317a805" class="t t">Enum</a>.<a href="@1@System.Runtime/A.html#6c84f29508754e27" class="i method">Parse</a>(<b>typeof</b> (<a href="AnimationTransitionType.cs.html#e2e1bbf00ced5209" class="t t">AnimationTransitionType</a>), <span class="r16 r">value</span>);
        }
    }
}</pre></td></tr></table></div></body></html>
