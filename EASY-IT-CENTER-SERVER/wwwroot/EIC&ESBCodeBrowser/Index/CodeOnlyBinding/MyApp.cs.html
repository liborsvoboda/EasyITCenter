<!DOCTYPE html>
<html><head><title>MyApp.cs</title><link rel="stylesheet" href="../styles.css"><script src="../scripts.js"></script></head>
<body class="cB" onload="i(91);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#CodeOnlyBinding/MyApp.cs" target="_top">MyApp.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#CodeOnlyBinding" target="_top">HelpProjects\WPF-MORE\Data Binding\CodeOnlyBinding\CodeOnlyBinding.csproj</a> (CodeOnlyBinding)</td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// // Copyright (c) Microsoft. All rights reserved.</span>
<span class="c">// // Licensed under the MIT license. See LICENSE file in the project root for full license information.</span>

<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Controls</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Data</span>;

<b>namespace</b> <span class="i n">CodeOnlyBinding</span>
{
    <b>internal class</b> <a id="242d6123d3f6d7ba" href="R/242d6123d3f6d7ba.html" target="n" data-glyph="2,0" class="t t"><span id="06ede3d2e38cb24d">MyApp</span></a> : <a href="@0@PresentationFramework/A.html#cf9c51e402f97b05" class="t t">Application</a>
    {
        <b>public</b> <a href="@0@PresentationFramework/A.html#bfc2d93e5b6e9a96" class="t t">Button</a> <a id="dbe88e483499a386" href="R/dbe88e483499a386.html" target="n" data-glyph="42,1" class="i field">Button</a>;
        <b>public</b> <a href="@0@PresentationFramework/A.html#bfc2d93e5b6e9a96" class="t t">Button</a> <a id="e4ba1849527f5844" href="R/e4ba1849527f5844.html" target="n" data-glyph="42,1" class="i field">Button2</a>;
        <b>public</b> <a href="@0@PresentationFramework/A.html#5f9a593483943440" class="t t">DockPanel</a> <a id="ea96eb18204fc213" href="R/ea96eb18204fc213.html" target="n" data-glyph="42,1" class="i field">Dp</a>;
        <b>public</b> <a href="@0@PresentationFramework/A.html#f469b4aeb3697bb8" class="t t">TextBlock</a> <a id="e8c5755017a8c81d" href="R/e8c5755017a8c81d.html" target="n" data-glyph="42,1" class="i field">MyText</a>;

        <b>public void</b> <a id="ef32dbef2a12934e" href="R/ef32dbef2a12934e.html" target="n" data-glyph="72,1" class="i method">OnClick</a>(<b>object</b> <span id="r0 rd" class="r0 r">obj</span>, <a href="@0@PresentationCore/A.html#3089ebf2139eba9d" class="t t">RoutedEventArgs</a> <span id="r1 rd" class="r1 r">args</span>)
        {
            <a href="@0@PresentationFramework/A.html#d2d98a3022fbac2f" class="k">var</a> <span id="r2 rd" class="r2 r">fe</span> = (<a href="@0@PresentationFramework/A.html#d2d98a3022fbac2f" class="t t">FrameworkElement</a>) <span class="r0 r">obj</span>;
            <b>switch</b> (<span class="r2 r">fe</span>.<a href="@0@PresentationFramework/A.html#1d519a9bdfa176e6" class="i property">Name</a>)
            {
                <b>case</b> <span class="s">&quot;Clear&quot;</span>:
                    <a href="@0@PresentationFramework/A.html#1630c30289beaec7" class="t t">BindingOperations</a>.<a href="@0@PresentationFramework/A.html#65120be56655b6d8" class="i method">ClearBinding</a>(<a href="#e8c5755017a8c81d" class="i field">MyText</a>, <a href="@0@PresentationFramework/A.html#f469b4aeb3697bb8" class="t t">TextBlock</a>.<a href="@0@PresentationFramework/A.html#05b78a7b564afbdd" class="i field">TextProperty</a>);
                    <b>break</b>;

                <b>case</b> <span class="s">&quot;Refresh&quot;</span>:

                    <a href="@0@PresentationFramework/A.html#1630c30289beaec7" class="t t">BindingOperations</a>.<a href="@0@PresentationFramework/A.html#65120be56655b6d8" class="i method">ClearBinding</a>(<a href="#e8c5755017a8c81d" class="i field">MyText</a>, <a href="@0@PresentationFramework/A.html#f469b4aeb3697bb8" class="t t">TextBlock</a>.<a href="@0@PresentationFramework/A.html#05b78a7b564afbdd" class="i field">TextProperty</a>);
                    <span class="c">//make a new source</span>
                    <a href="MyData.cs.html#a545feb0fcc587fe" class="k">var</a> <span id="r3 rd" class="r3 r">myDataObject</span> = <b>new</b> <a href="MyData.cs.html#f97439714501a9aa" class="t constructor">MyData</a>(<a href="@1@System.Runtime/A.html#df6b1eba7461813b" class="t t">DateTime</a>.<a href="@1@System.Runtime/A.html#1cd5dd408a32124f" class="i property">Now</a>);
                    <a href="@0@PresentationFramework/A.html#2e068a13b9bdd228" class="k">var</a> <span id="r4 rd" class="r4 r">myBinding</span> = <b>new</b> <a href="@0@PresentationFramework/A.html#94f69147a4e4e69b" class="t constructor">Binding</a>(<span class="s">&quot;MyDataProperty&quot;</span>) {<a href="@0@PresentationFramework/A.html#c2d2f9da2dfc5332" class="i property">Source</a> = <span class="r3 r">myDataObject</span>};
                    <a href="#e8c5755017a8c81d" class="i field">MyText</a>.<a href="@0@PresentationFramework/A.html#4242be780b056320" class="i method">SetBinding</a>(<a href="@0@PresentationFramework/A.html#f469b4aeb3697bb8" class="t t">TextBlock</a>.<a href="@0@PresentationFramework/A.html#05b78a7b564afbdd" class="i field">TextProperty</a>, <span class="r4 r">myBinding</span>);
                    <b>break</b>;
            }
        }

        <b>protected override void</b> <a id="d126a13e287ff2e3" href="R/d126a13e287ff2e3.html" target="n" data-glyph="75,1" class="i method">OnStartup</a>(<a href="@0@PresentationFramework/A.html#062b94c15f90a8f0" class="t t">StartupEventArgs</a> <span id="r5 rd" class="r5 r">e</span>)
        {
            <a href="@0@PresentationCore/A.html#af107ecb60427a17" class="k">var</a> <span id="r6 rd" class="r6 r">clickHandler</span> = <b>new</b> <span class="t">RoutedEventHandler</span>(<a href="#ef32dbef2a12934e" class="i method">OnClick</a>);

            <a href="@0@PresentationFramework/A.html#e438dc91640a8d15" class="k">var</a> <span id="r7 rd" class="r7 r">win</span> = <b>new</b> <a href="@0@PresentationFramework/A.html#acf2c0e6565540cd" class="t constructor">Window</a>
            {
                <a href="@0@PresentationFramework/A.html#d0e1f940abafebe8" class="i property">Width</a> = 250,
                <a href="@0@PresentationFramework/A.html#df2641c07f10d929" class="i property">Height</a> = 200
            };

            <a href="@0@PresentationFramework/A.html#5f9a593483943440" class="k">var</a> <span id="r8 rd" class="r8 r">root</span> = <b>new</b> <a href="@0@PresentationFramework/A.html#10df7c51a0014bc9" class="t constructor">DockPanel</a>();
            <span class="r7 r">win</span>.<a href="@0@PresentationFramework/A.html#2811283b5ba60413" class="i property">Content</a> = <span class="r8 r">root</span>;
            <span class="r8 r">root</span>.<a href="@0@PresentationFramework/A.html#d0e1f940abafebe8" class="i property">Width</a> = 200;
            <span class="r8 r">root</span>.<a href="@0@PresentationFramework/A.html#df2641c07f10d929" class="i property">Height</a> = 150;

            <a href="#ea96eb18204fc213" class="i field">Dp</a> = <b>new</b> <a href="@0@PresentationFramework/A.html#10df7c51a0014bc9" class="t constructor">DockPanel</a>();
            <a href="@0@PresentationFramework/A.html#5f9a593483943440" class="t t">DockPanel</a>.<a href="@0@PresentationFramework/A.html#1bd631a5c246a5dc" class="i method">SetDock</a>(<a href="#ea96eb18204fc213" class="i field">Dp</a>, <a href="@0@PresentationFramework/A.html#247b2a9cc539228a" class="t t">Dock</a>.<a href="@0@PresentationFramework/A.html#60fa0559eeaa26e6" class="i field">Top</a>);
            <span class="r8 r">root</span>.<a href="@0@PresentationFramework/A.html#fb9060d71a3afc83" class="i property">Children</a>.<a href="@0@PresentationFramework/A.html#8886057feae649bc" class="i method">Add</a>(<a href="#ea96eb18204fc213" class="i field">Dp</a>);

            <a href="#dbe88e483499a386" class="i field">Button</a> = <b>new</b> <a href="@0@PresentationFramework/A.html#9b9343f1fa48f518" class="t constructor">Button</a>
            {
                <a href="@0@PresentationFramework/A.html#1d519a9bdfa176e6" class="i property">Name</a> = <span class="s">&quot;Clear&quot;</span>,
                <a href="@0@PresentationFramework/A.html#2811283b5ba60413" class="i property">Content</a> = <span class="s">&quot;Clear Binding&quot;</span>,
                <a href="@0@PresentationFramework/A.html#d0e1f940abafebe8" class="i property">Width</a> = 120,
                <a href="@0@PresentationFramework/A.html#df2641c07f10d929" class="i property">Height</a> = 30
            };
            <a href="#dbe88e483499a386" class="i field">Button</a>.<a href="@0@PresentationFramework/A.html#56b78e5307732315" class="i">Click</a> += <span class="r6 r">clickHandler</span>;
            <a href="@0@PresentationFramework/A.html#5f9a593483943440" class="t t">DockPanel</a>.<a href="@0@PresentationFramework/A.html#1bd631a5c246a5dc" class="i method">SetDock</a>(<a href="#dbe88e483499a386" class="i field">Button</a>, <a href="@0@PresentationFramework/A.html#247b2a9cc539228a" class="t t">Dock</a>.<a href="@0@PresentationFramework/A.html#60fa0559eeaa26e6" class="i field">Top</a>);
            <a href="#ea96eb18204fc213" class="i field">Dp</a>.<a href="@0@PresentationFramework/A.html#fb9060d71a3afc83" class="i property">Children</a>.<a href="@0@PresentationFramework/A.html#8886057feae649bc" class="i method">Add</a>(<a href="#dbe88e483499a386" class="i field">Button</a>);

            <a href="#e4ba1849527f5844" class="i field">Button2</a> = <b>new</b> <a href="@0@PresentationFramework/A.html#9b9343f1fa48f518" class="t constructor">Button</a>
            {
                <a href="@0@PresentationFramework/A.html#1d519a9bdfa176e6" class="i property">Name</a> = <span class="s">&quot;Refresh&quot;</span>,
                <a href="@0@PresentationFramework/A.html#2811283b5ba60413" class="i property">Content</a> = <span class="s">&quot;Refresh Binding&quot;</span>,
                <a href="@0@PresentationFramework/A.html#d0e1f940abafebe8" class="i property">Width</a> = 120,
                <a href="@0@PresentationFramework/A.html#df2641c07f10d929" class="i property">Height</a> = 30
            };
            <a href="#e4ba1849527f5844" class="i field">Button2</a>.<a href="@0@PresentationFramework/A.html#56b78e5307732315" class="i">Click</a> += <span class="r6 r">clickHandler</span>;
            <a href="@0@PresentationFramework/A.html#5f9a593483943440" class="t t">DockPanel</a>.<a href="@0@PresentationFramework/A.html#1bd631a5c246a5dc" class="i method">SetDock</a>(<a href="#e4ba1849527f5844" class="i field">Button2</a>, <a href="@0@PresentationFramework/A.html#247b2a9cc539228a" class="t t">Dock</a>.<a href="@0@PresentationFramework/A.html#60fa0559eeaa26e6" class="i field">Top</a>);
            <a href="#ea96eb18204fc213" class="i field">Dp</a>.<a href="@0@PresentationFramework/A.html#fb9060d71a3afc83" class="i property">Children</a>.<a href="@0@PresentationFramework/A.html#8886057feae649bc" class="i method">Add</a>(<a href="#e4ba1849527f5844" class="i field">Button2</a>);

            <a href="#e8c5755017a8c81d" class="i field">MyText</a> = <b>new</b> <a href="@0@PresentationFramework/A.html#450e4175035f484c" class="t constructor">TextBlock</a>
            {
                <a href="@0@PresentationFramework/A.html#e77c881b0d6f7e9e" class="i property">Text</a> = <span class="s">&quot;no binding yet...&quot;</span>,
                <a href="@0@PresentationFramework/A.html#df2641c07f10d929" class="i property">Height</a> = 35,
                <a href="@0@PresentationFramework/A.html#af1a9620ef03c2dd" class="i property">HorizontalAlignment</a> = <a href="@0@PresentationFramework/A.html#4adb839fdbe93e93" class="t t">HorizontalAlignment</a>.<a href="@0@PresentationFramework/A.html#565e4c897ed23ea7" class="i field">Center</a>
            };
            <a href="@0@PresentationFramework/A.html#5f9a593483943440" class="t t">DockPanel</a>.<a href="@0@PresentationFramework/A.html#1bd631a5c246a5dc" class="i method">SetDock</a>(<a href="#e8c5755017a8c81d" class="i field">MyText</a>, <a href="@0@PresentationFramework/A.html#247b2a9cc539228a" class="t t">Dock</a>.<a href="@0@PresentationFramework/A.html#60fa0559eeaa26e6" class="i field">Top</a>);
            <a href="#ea96eb18204fc213" class="i field">Dp</a>.<a href="@0@PresentationFramework/A.html#fb9060d71a3afc83" class="i property">Children</a>.<a href="@0@PresentationFramework/A.html#8886057feae649bc" class="i method">Add</a>(<a href="#e8c5755017a8c81d" class="i field">MyText</a>);

            <span class="r7 r">win</span>.<a href="@0@PresentationFramework/A.html#56eda567d5245381" class="i method">Show</a>();
        }
    }
}</pre></td></tr></table></div></body></html>
