<!DOCTYPE html>
<html><head><title>DateTimePicker.cs</title><link rel="stylesheet" href="../../../styles.css"><script src="../../../scripts.js"></script></head>
<body class="cB" onload="i(408);"><div class="dH">
<table style="width: 100%">
<tr><td>File: <a id="filePath" class="blueLink" href="/#MahApps.Metro/Controls/TimePicker/DateTimePicker.cs" target="_top">Controls\TimePicker\DateTimePicker.cs</a><br/></td><td></td></tr>
<tr><td>Project: <a id="projectPath" class="blueLink" href="/#MahApps.Metro" target="_top">HelpProjects\WPF-MAIN\MahApps.Metro\src\MahApps.Metro\MahApps.Metro.csproj</a> (MahApps.Metro)</td></tr>
</table>
</div>
<div class="cz"><table class="tb" cellpadding="0" cellspacing="0"><tr><td valign="top" align="right"><pre id="ln"></pre></td><td valign="top" align="left"><pre id="code">
<span class="c">// Licensed to the .NET Foundation under one or more agreements.</span>
<span class="c">// The .NET Foundation licenses this file to you under the MIT license.</span>
<span class="c">// See the LICENSE file in the project root for more information.</span>

<b>using</b> <span class="i n">System</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">ComponentModel</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Diagnostics</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Controls</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Controls</span>.<span class="i n">Primitives</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Data</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Input</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Media</span>;
<b>using</b> <span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Threading</span>;
<b>using</b> <span class="i n">JetBrains</span>.<span class="i n">Annotations</span>;
<b>using</b> <span class="i n">MahApps</span>.<span class="i n">Metro</span>.<span class="i n">ValueBoxes</span>;

<b>namespace</b> <span class="i n">MahApps</span>.<span class="i n">Metro</span>.<span class="i n">Controls</span>
{
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
    <span class="c">///</span><span class="c">     Represents a control that allows the user to select a date and a time.</span>
    <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
    [<a href="@0@PresentationFramework/A.html#96557b5c070ecfa3" class="t constructor">TemplatePart</a>(<a href="@0@PresentationFramework/A.html#f9842165d0f4cd9c" class="i property">Name</a> = <a href="#f70614be1e890934" class="i field">PART_PopupContainer</a>, <a href="@0@PresentationFramework/A.html#cc0b0b68afac8782" class="i property">Type</a> = <b>typeof</b>(<a href="@0@PresentationFramework/A.html#74647d237fc89a63" class="t t">StackPanel</a>))]
    [<a href="@0@PresentationFramework/A.html#96557b5c070ecfa3" class="t constructor">TemplatePart</a>(<a href="@0@PresentationFramework/A.html#f9842165d0f4cd9c" class="i property">Name</a> = <a href="#934329e292489d75" class="i field">PART_Calendar</a>, <a href="@0@PresentationFramework/A.html#cc0b0b68afac8782" class="i property">Type</a> = <b>typeof</b>(<a href="@0@PresentationFramework/A.html#8da8a698bf05f44a" class="t t">ContentPresenter</a>))]
    [<a href="@0@PresentationFramework/A.html#9ab2fac8b7a8b635" class="t constructor">StyleTypedProperty</a>(<a href="@0@PresentationFramework/A.html#da879f836063281e" class="i property">Property</a> = <b>nameof</b>(<a href="#2ec8eb880d53f077" class="i property">CalendarStyle</a>), <a href="@0@PresentationFramework/A.html#6f382f56eab3e273" class="i property">StyleTargetType</a> = <b>typeof</b>(<a href="@0@PresentationFramework/A.html#1ab6ece416ca0244" class="t t">Calendar</a>))]
    <b>public class</b> <a id="366231d70f1b6284" href="../../R/366231d70f1b6284.html" target="n" data-glyph="0,0" class="t t">DateTimePicker</a> : <a href="TimePickerBase.cs.html#f962ac5c0ca562af" class="t t">TimePickerBase</a>
    {
        <b>private const string</b> <a id="f70614be1e890934" href="../../R/f70614be1e890934.html" target="n" data-glyph="10,1" class="i field">PART_PopupContainer</a> = <span class="s">&quot;PART_PopupContainer&quot;</span>;
        <b>private const string</b> <a id="934329e292489d75" href="../../R/934329e292489d75.html" target="n" data-glyph="10,1" class="i field">PART_Calendar</a> = <span class="s">&quot;PART_Calendar&quot;</span>;

        <b>private</b> <a href="@0@PresentationFramework/A.html#d2d98a3022fbac2f" class="t t">FrameworkElement</a>? <a id="eeafd1d86770313d" href="../../R/eeafd1d86770313d.html" target="n" data-glyph="46,1" class="i field">popupContainer</a>;
        <b>private</b> <a href="@0@PresentationFramework/A.html#8da8a698bf05f44a" class="t t">ContentPresenter</a>? <a id="b12fa496a54f6e13" href="../../R/b12fa496a54f6e13.html" target="n" data-glyph="46,1" class="i field">popupCalendarPresenter</a>;
        <b>private</b> <a href="@0@PresentationFramework/A.html#1ab6ece416ca0244" class="t t">Calendar</a>? <a id="32594bb7fadfd232" href="../../R/32594bb7fadfd232.html" target="n" data-glyph="46,1" class="i field">calendar</a>;

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Identifies the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#cd118947f4bc98bb" class="i property">DisplayDateEnd</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> dependency property.</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public static readonly</b> <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a> <a id="c61cb0788b847f45" href="../../R/c61cb0788b847f45.html" target="n" data-glyph="42,1" class="i field">DisplayDateEndProperty</a> = <a href="@0@PresentationFramework/A.html#c20427230c18ba13" class="t t">DatePicker</a>.<a href="@0@PresentationFramework/A.html#356b2e630c5c962e" class="i field">DisplayDateEndProperty</a>.<a href="@0@WindowsBase/A.html#e9e7035f1e4436db" class="i method">AddOwner</a>(<b>typeof</b>(<a href="#366231d70f1b6284" class="t t">DateTimePicker</a>));

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">     Gets or sets the last date to be displayed.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">The last date to display.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public</b> <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>? <a id="cd118947f4bc98bb" href="../../R/cd118947f4bc98bb.html" target="n" data-glyph="102,1" class="i property">DisplayDateEnd</a>
        {
            <b>get</b> =&gt; (<a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>?)<a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#0e1012f338283c7a" class="i method">GetValue</a>(<a href="#c61cb0788b847f45" class="i field">DisplayDateEndProperty</a>);
            <b>set</b> =&gt; <a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#b1809fe135a72ec5" class="i method">SetValue</a>(<a href="#c61cb0788b847f45" class="i field">DisplayDateEndProperty</a>, <b>value</b>);
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Identifies the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#c8a6c7f4155fc9b6" class="i property">DisplayDate</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> dependency property.</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public static readonly</b> <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a> <a id="b2a7c29559fad68e" href="../../R/b2a7c29559fad68e.html" target="n" data-glyph="42,1" class="i field">DisplayDateProperty</a> = <a href="@0@PresentationFramework/A.html#c20427230c18ba13" class="t t">DatePicker</a>.<a href="@0@PresentationFramework/A.html#da2c72b35b9f5231" class="i field">DisplayDateProperty</a>.<a href="@0@WindowsBase/A.html#e9e7035f1e4436db" class="i method">AddOwner</a>(<b>typeof</b>(<a href="#366231d70f1b6284" class="t t">DateTimePicker</a>));

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">     Gets or sets the date to display</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">     The date to display. The default is </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>.<a href="@0@mscorlib/A.html#013b44cc4074ffd2" class="i property">Today</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c">.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public</b> <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a> <a id="c8a6c7f4155fc9b6" href="../../R/c8a6c7f4155fc9b6.html" target="n" data-glyph="102,1" class="i property">DisplayDate</a>
        {
            <b>get</b> =&gt; (<a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>)<a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#0e1012f338283c7a" class="i method">GetValue</a>(<a href="#b2a7c29559fad68e" class="i field">DisplayDateProperty</a>);
            <b>set</b> =&gt; <a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#b1809fe135a72ec5" class="i method">SetValue</a>(<a href="#b2a7c29559fad68e" class="i field">DisplayDateProperty</a>, <b>value</b>);
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Identifies the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#355936bacf24ec0e" class="i property">DisplayDateStart</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> dependency property.</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public static readonly</b> <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a> <a id="4a2f3ead38138624" href="../../R/4a2f3ead38138624.html" target="n" data-glyph="42,1" class="i field">DisplayDateStartProperty</a> = <a href="@0@PresentationFramework/A.html#c20427230c18ba13" class="t t">DatePicker</a>.<a href="@0@PresentationFramework/A.html#1704732995cd91f6" class="i field">DisplayDateStartProperty</a>.<a href="@0@WindowsBase/A.html#e9e7035f1e4436db" class="i method">AddOwner</a>(<b>typeof</b>(<a href="#366231d70f1b6284" class="t t">DateTimePicker</a>));

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">     Gets or sets the first date to be displayed.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">The first date to display.</span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public</b> <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>? <a id="355936bacf24ec0e" href="../../R/355936bacf24ec0e.html" target="n" data-glyph="102,1" class="i property">DisplayDateStart</a>
        {
            <b>get</b> =&gt; (<a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>?)<a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#0e1012f338283c7a" class="i method">GetValue</a>(<a href="#4a2f3ead38138624" class="i field">DisplayDateStartProperty</a>);
            <b>set</b> =&gt; <a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#b1809fe135a72ec5" class="i method">SetValue</a>(<a href="#4a2f3ead38138624" class="i field">DisplayDateStartProperty</a>, <b>value</b>);
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Identifies the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#7a3356eb9323f9b8" class="i property">FirstDayOfWeek</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> dependency property.</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public static readonly</b> <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a> <a id="5dd3ac8d6680f3d3" href="../../R/5dd3ac8d6680f3d3.html" target="n" data-glyph="42,1" class="i field">FirstDayOfWeekProperty</a> = <a href="@0@PresentationFramework/A.html#c20427230c18ba13" class="t t">DatePicker</a>.<a href="@0@PresentationFramework/A.html#b8d9df55bbe991d4" class="i field">FirstDayOfWeekProperty</a>.<a href="@0@WindowsBase/A.html#e9e7035f1e4436db" class="i method">AddOwner</a>(<b>typeof</b>(<a href="#366231d70f1b6284" class="t t">DateTimePicker</a>));

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">     Gets or sets the day that is considered the beginning of the week.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">     A </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="@0@mscorlib/A.html#fe3a0e5f847fa6f8" class="t t">DayOfWeek</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> that represents the beginning of the week. The default is the</span>
        <span class="c">///</span><span class="c">     </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><span class="i n">System</span>.<span class="i n">Globalization</span>.<a href="@0@mscorlib/A.html#a1da93c5a4a8c4e3" class="t t">DateTimeFormatInfo</a>.<a href="@0@mscorlib/A.html#79ad255cdaf92ecf" class="i property">FirstDayOfWeek</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> that is determined by the current culture.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public</b> <a href="@0@mscorlib/A.html#fe3a0e5f847fa6f8" class="t t">DayOfWeek</a> <a id="7a3356eb9323f9b8" href="../../R/7a3356eb9323f9b8.html" target="n" data-glyph="102,1" class="i property">FirstDayOfWeek</a>
        {
            <b>get</b> =&gt; (<a href="@0@mscorlib/A.html#fe3a0e5f847fa6f8" class="t t">DayOfWeek</a>)<a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#0e1012f338283c7a" class="i method">GetValue</a>(<a href="#5dd3ac8d6680f3d3" class="i field">FirstDayOfWeekProperty</a>);
            <b>set</b> =&gt; <a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#b1809fe135a72ec5" class="i method">SetValue</a>(<a href="#5dd3ac8d6680f3d3" class="i field">FirstDayOfWeekProperty</a>, <b>value</b>);
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Identifies the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#680191f8e375cb6d" class="i property">IsTodayHighlighted</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> dependency property.</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public static readonly</b> <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a> <a id="303a3d7a69f80746" href="../../R/303a3d7a69f80746.html" target="n" data-glyph="42,1" class="i field">IsTodayHighlightedProperty</a> = <a href="@0@PresentationFramework/A.html#c20427230c18ba13" class="t t">DatePicker</a>.<a href="@0@PresentationFramework/A.html#e8482d3412da67b1" class="i field">IsTodayHighlightedProperty</a>.<a href="@0@WindowsBase/A.html#e9e7035f1e4436db" class="i method">AddOwner</a>(<b>typeof</b>(<a href="#366231d70f1b6284" class="t t">DateTimePicker</a>));

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">     Gets or sets a value that indicates whether the current date will be highlighted.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span><span class="c">true if the current date is highlighted; otherwise, false. The default is true. </span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        <b>public bool</b> <a id="680191f8e375cb6d" href="../../R/680191f8e375cb6d.html" target="n" data-glyph="102,1" class="i property">IsTodayHighlighted</a>
        {
            <b>get</b> =&gt; (<b>bool</b>)<a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#0e1012f338283c7a" class="i method">GetValue</a>(<a href="#303a3d7a69f80746" class="i field">IsTodayHighlightedProperty</a>);
            <b>set</b> =&gt; <a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#b1809fe135a72ec5" class="i method">SetValue</a>(<a href="#303a3d7a69f80746" class="i field">IsTodayHighlightedProperty</a>, <a href="../../ValueBoxes/BooleanBoxes.cs.html#1ea22ba96a3431b4" class="t t">BooleanBoxes</a>.<a href="../../ValueBoxes/BooleanBoxes.cs.html#679d28140d9330f2" class="i method">Box</a>(<b>value</b>));
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Identifies the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#7dbfa45149c726a7" class="i property">SelectedDateFormat</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> dependency property.</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public static readonly</b> <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a> <a id="fdd945512a1393e6" href="../../R/fdd945512a1393e6.html" target="n" data-glyph="42,1" class="i field">SelectedDateFormatProperty</a> = <a href="@0@PresentationFramework/A.html#c20427230c18ba13" class="t t">DatePicker</a>.<a href="@0@PresentationFramework/A.html#221acab98dd6879a" class="i field">SelectedDateFormatProperty</a>.<a href="@0@WindowsBase/A.html#6e23361031c54c10" class="i method">AddOwner</a>(<b>typeof</b>(<a href="#366231d70f1b6284" class="t t">DateTimePicker</a>), <b>new</b> <a href="@0@PresentationFramework/A.html#f55eafbea6d9be21" class="t constructor">FrameworkPropertyMetadata</a>(<a href="@0@PresentationFramework/A.html#2dd930a3d7f54b3c" class="t t">DatePickerFormat</a>.<a href="@0@PresentationFramework/A.html#66214b1801af1795" class="i field">Short</a>, <a href="#2179a929c5c1ab4d" class="i method">OnSelectedDateFormatChanged</a>));

        <b>private static void</b> <a id="2179a929c5c1ab4d" href="../../R/2179a929c5c1ab4d.html" target="n" data-glyph="76,1" class="i method">OnSelectedDateFormatChanged</a>(<a href="@0@WindowsBase/A.html#3ce192f6633decc8" class="t t">DependencyObject</a> <span id="r0 rd" class="r0 r">d</span>, <a href="@0@WindowsBase/A.html#71a1a16823f70b8c" class="t t">DependencyPropertyChangedEventArgs</a> <span id="r1 rd" class="r1 r">e</span>)
        {
            <b>if</b> (<span class="r0 r">d</span> <b>is</b> <a href="#366231d70f1b6284" class="t t">DateTimePicker</a> <span id="r2 rd" class="r2 r">dateTimePicker</span>)
            {
                <span class="r2 r">dateTimePicker</span>.<a href="TimePickerBase.cs.html#76066ce36f09bf2c" class="i method">WriteValueToTextBox</a>();
            }
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the format that is used to display the selected date.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        [<a href="@0@System/A.html#3db3d3ff1819ebd5" class="t constructor">Category</a>(<span class="s">&quot;Appearance&quot;</span>)]
        [<a href="@0@System/A.html#325345a76466ad79" class="t constructor">DefaultValue</a>(<a href="@0@PresentationFramework/A.html#2dd930a3d7f54b3c" class="t t">DatePickerFormat</a>.<a href="@0@PresentationFramework/A.html#66214b1801af1795" class="i field">Short</a>)]
        <b>public</b> <a href="@0@PresentationFramework/A.html#2dd930a3d7f54b3c" class="t t">DatePickerFormat</a> <a id="7dbfa45149c726a7" href="../../R/7dbfa45149c726a7.html" target="n" data-glyph="102,1" class="i property">SelectedDateFormat</a>
        {
            <b>get</b> =&gt; (<a href="@0@PresentationFramework/A.html#2dd930a3d7f54b3c" class="t t">DatePickerFormat</a>)<a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#0e1012f338283c7a" class="i method">GetValue</a>(<a href="#fdd945512a1393e6" class="i field">SelectedDateFormatProperty</a>);
            <b>set</b> =&gt; <a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#b1809fe135a72ec5" class="i method">SetValue</a>(<a href="#fdd945512a1393e6" class="i field">SelectedDateFormatProperty</a>, <b>value</b>);
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Identifies the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#8c1a0e366128d92d" class="i property">Orientation</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> dependency property.</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public static readonly</b> <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a> <a id="67a47e366e52fcc1" href="../../R/67a47e366e52fcc1.html" target="n" data-glyph="42,1" class="i field">OrientationProperty</a>
            = <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a>.<a href="@0@WindowsBase/A.html#3f509a22032d7071" class="i method">Register</a>(<b>nameof</b>(<a href="#8c1a0e366128d92d" class="i property">Orientation</a>),
                                          <b>typeof</b>(<a href="@0@PresentationFramework/A.html#b6bff92693930c47" class="t t">Orientation</a>),
                                          <b>typeof</b>(<a href="#366231d70f1b6284" class="t t">DateTimePicker</a>),
                                          <b>new</b> <a href="@0@WindowsBase/A.html#be7c6db947204df3" class="t constructor">PropertyMetadata</a>(<a href="@0@PresentationFramework/A.html#b6bff92693930c47" class="t t">Orientation</a>.<a href="@0@PresentationFramework/A.html#eb60498b6a8ff15f" class="i field">Horizontal</a>, <b>null</b>, <a href="#add025eef0b73ff2" class="i method">CoerceOrientation</a>));

        [<span class="t constructor">MustUseReturnValue</span>]
        <b>private static object</b>? <a id="add025eef0b73ff2" href="../../R/add025eef0b73ff2.html" target="n" data-glyph="76,1" class="i method">CoerceOrientation</a>(<a href="@0@WindowsBase/A.html#3ce192f6633decc8" class="t t">DependencyObject</a> <span id="r3 rd" class="r3 r">d</span>, <b>object</b>? <span id="r4 rd" class="r4 r">basevalue</span>)
        {
            <b>if</b> (((<a href="#366231d70f1b6284" class="t t">DateTimePicker</a>)<span class="r3 r">d</span>).<a href="TimePickerBase.cs.html#f3f5c867b38943a9" class="i property">IsClockVisible</a>)
            {
                <b>return</b> <span class="r4 r">basevalue</span>;
            }

            <b>return</b> <a href="@0@PresentationFramework/A.html#b6bff92693930c47" class="t t">Orientation</a>.<a href="@0@PresentationFramework/A.html#fa09895e0e094750" class="i field">Vertical</a>;
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">     Gets or sets a value that indicates the dimension by which calendar and clock are stacked.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">returns</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c">     The </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Controls</span>.<a href="@0@PresentationFramework/A.html#b6bff92693930c47" class="t t">Orientation</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c"> of the calendar and clock. The default is</span>
        <span class="c">///</span><span class="c">     </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><span class="i n">System</span>.<span class="i n">Windows</span>.<span class="i n">Controls</span>.<a href="@0@PresentationFramework/A.html#b6bff92693930c47" class="t t">Orientation</a>.<a href="@0@PresentationFramework/A.html#eb60498b6a8ff15f" class="i field">Horizontal</a><span class="c">&quot;</span> <span class="c">/&gt;</span><span class="c">.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">returns</span><span class="c">&gt;</span>
        [<a href="@0@System/A.html#3db3d3ff1819ebd5" class="t constructor">Category</a>(<span class="s">&quot;Layout&quot;</span>)]
        <b>public</b> <a href="@0@PresentationFramework/A.html#b6bff92693930c47" class="t t">Orientation</a> <a id="8c1a0e366128d92d" href="../../R/8c1a0e366128d92d.html" target="n" data-glyph="102,1" class="i property">Orientation</a>
        {
            <b>get</b> =&gt; (<a href="@0@PresentationFramework/A.html#b6bff92693930c47" class="t t">Orientation</a>)<a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#0e1012f338283c7a" class="i method">GetValue</a>(<a href="#67a47e366e52fcc1" class="i field">OrientationProperty</a>);
            <b>set</b> =&gt; <a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#b1809fe135a72ec5" class="i method">SetValue</a>(<a href="#67a47e366e52fcc1" class="i field">OrientationProperty</a>, <b>value</b>);
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span><span class="c">Identifies the </span><span class="c">&lt;</span><span class="c">see</span> <span class="c">cref</span><span class="c">=</span><span class="c">&quot;</span><a href="#2ec8eb880d53f077" class="i property">CalendarStyle</a><span class="c">&quot;</span><span class="c">/&gt;</span><span class="c"> dependency property.</span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public static readonly</b> <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a> <a id="8f41eff8fc54c0c9" href="../../R/8f41eff8fc54c0c9.html" target="n" data-glyph="42,1" class="i field">CalendarStyleProperty</a>
            = <a href="@0@WindowsBase/A.html#4a20845df0b86ddd" class="t t">DependencyProperty</a>.<a href="@0@WindowsBase/A.html#28c81133f2c673fb" class="i method">Register</a>(<b>nameof</b>(<a href="#2ec8eb880d53f077" class="i property">CalendarStyle</a>),
                                          <b>typeof</b>(<a href="@0@PresentationFramework/A.html#dd312833d0723042" class="t t">Style</a>),
                                          <b>typeof</b>(<a href="#366231d70f1b6284" class="t t">DateTimePicker</a>));

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets or sets the style that is used when rendering the calendar.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public</b> <a href="@0@PresentationFramework/A.html#dd312833d0723042" class="t t">Style</a>? <a id="2ec8eb880d53f077" href="../../R/2ec8eb880d53f077.html" target="n" data-glyph="102,1" class="i property">CalendarStyle</a>
        {
            <b>get</b> =&gt; (<a href="@0@PresentationFramework/A.html#dd312833d0723042" class="t t">Style</a>?)<a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#0e1012f338283c7a" class="i method">GetValue</a>(<a href="#8f41eff8fc54c0c9" class="i field">CalendarStyleProperty</a>);
            <b>set</b> =&gt; <a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#b1809fe135a72ec5" class="i method">SetValue</a>(<a href="#8f41eff8fc54c0c9" class="i field">CalendarStyleProperty</a>, <b>value</b>);
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">summary</span><span class="c">&gt;</span>
        <span class="c">///</span><span class="c"> Gets the days that are not selectable.</span>
        <span class="c">///</span><span class="c"> </span><span class="c">&lt;/</span><span class="c">summary</span><span class="c">&gt;</span>
        <b>public</b> <a href="@0@PresentationFramework/A.html#eb0d21a579b9ca0e" class="t t">CalendarBlackoutDatesCollection</a>? <a id="58d2e3ba7b39ccf6" href="../../R/../../0000000000.html" target="n" data-glyph="102,1" class="i property">BlackoutDates</a> =&gt; <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>?.<a href="@0@PresentationFramework/A.html#907fb2c792bfd8a3" class="i property">BlackoutDates</a>;

        <b>static</b> <a id="7468ba984b49138d" href="../../R/../../0000000000.html" target="n" data-glyph="76,1" class="t method">DateTimePicker</a>()
        {
            <a href="@0@PresentationFramework/A.html#6339cc8ec3e1311a" class="i field">DefaultStyleKeyProperty</a>.<a href="@0@WindowsBase/A.html#fe43392fad81405d" class="i method">OverrideMetadata</a>(<b>typeof</b>(<a href="#366231d70f1b6284" class="t t">DateTimePicker</a>), <b>new</b> <a href="@0@PresentationFramework/A.html#69f23b8966049b7c" class="t constructor">FrameworkPropertyMetadata</a>(<b>typeof</b>(<a href="#366231d70f1b6284" class="t t">DateTimePicker</a>)));
            <a href="TimePickerBase.cs.html#cf5dcf7208a3bbed" class="i field">IsClockVisibleProperty</a>.<a href="@0@WindowsBase/A.html#fe43392fad81405d" class="i method">OverrideMetadata</a>(<b>typeof</b>(<a href="#366231d70f1b6284" class="t t">DateTimePicker</a>), <b>new</b> <a href="@0@WindowsBase/A.html#905d5d4d07083f4b" class="t constructor">PropertyMetadata</a>(<a href="#78deefd40cc73b4c" class="i method">OnClockVisibilityChanged</a>));
        }

        <b>public</b> <a id="22e35c8d7c65720e" href="../../R/../../0000000000.html" target="n" data-glyph="72,1" class="t constructor">DateTimePicker</a>()
        {
            <a href="#366231d70f1b6284" class="k">this</a>.<a href="#d3d7f8282138c931" class="i method">InitializeCalendar</a>();

            <a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#abf250e9e5452be5" class="i method">SetCurrentValue</a>(<a href="#b2a7c29559fad68e" class="i field">DisplayDateProperty</a>, <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>.<a href="@0@mscorlib/A.html#013b44cc4074ffd2" class="i property">Today</a>);
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">inheritdoc</span> <span class="c">/&gt;</span>
        <b>protected override void</b> <a id="1e1c4e5b0dc4878b" href="../../R/1e1c4e5b0dc4878b.html" target="n" data-glyph="75,1" class="i method">FocusElementAfterIsDropDownOpenChanged</a>()
        {
            <b>if</b> (<a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a> <b>is null</b>)
            {
                <b>return</b>;
            }

            <span class="c">// When the popup is opened set focus to the DisplayDate button.</span>
            <span class="c">// Do this asynchronously because the IsDropDownOpen could</span>
            <span class="c">// have been set even before the template for the DatePicker is</span>
            <span class="c">// applied. And this would mean that the visuals wouldn&#39;t be available yet.</span>

            <a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#bd03df1631104fbc" class="i property">Dispatcher</a>.<a href="@0@WindowsBase/A.html#bcbefade88f12503" class="i method">BeginInvoke</a>(<a href="@0@WindowsBase/A.html#af2d44a802e4535c" class="t t">DispatcherPriority</a>.<a href="@0@WindowsBase/A.html#57171cb6115df956" class="i field">Input</a>, (<a href="@0@mscorlib/A.html#9147ae6f76643aae" class="t t">Action</a>)<b>delegate</b>
                {
                    <span class="c">// setting the focus to the calendar will focus the correct date.</span>
                    <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>.<a href="@0@PresentationCore/A.html#0e11f7ae56f1c30f" class="i method">Focus</a>();
                });
        }

        <b>private void</b> <a id="d3d7f8282138c931" href="../../R/d3d7f8282138c931.html" target="n" data-glyph="76,1" class="i method">InitializeCalendar</a>()
        {
            <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a> = <b>new</b> <a href="@0@PresentationFramework/A.html#c549dad2364c1d84" class="t constructor">Calendar</a>();

            <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>.<a href="@0@PresentationCore/A.html#58bfd79a7ef6a62d" class="i">PreviewKeyDown</a> += <a href="#366231d70f1b6284" class="k">this</a>.<a href="#51da5df595d9b596" class="i method">CalendarPreviewKeyDown</a>;
            <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>.<a href="@0@PresentationFramework/A.html#e1c318435410cb38" class="i">DisplayDateChanged</a> += <a href="#366231d70f1b6284" class="k">this</a>.<a href="#2b558f70e0da8651" class="i method">CalendarDisplayDateChanged</a>;
            <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>.<a href="@0@PresentationFramework/A.html#bcc93af1c0424d6e" class="i">SelectedDatesChanged</a> += <a href="#366231d70f1b6284" class="k">this</a>.<a href="#487cf7100847d7c7" class="i method">CalendarSelectedDateChanged</a>;
            <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>.<a href="@0@PresentationCore/A.html#d57872f1d8ca1e5d" class="i">PreviewMouseUp</a> += <a href="#3638fa67b161ba04" class="i method">CalendarPreviewMouseUp</a>;

            <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>.<a href="@0@PresentationFramework/A.html#af1a9620ef03c2dd" class="i property">HorizontalAlignment</a> = <a href="@0@PresentationFramework/A.html#4adb839fdbe93e93" class="t t">HorizontalAlignment</a>.<a href="@0@PresentationFramework/A.html#2389f1469eca0a2b" class="i field">Left</a>;
            <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>.<a href="@0@PresentationFramework/A.html#c6fdbbe63a3a42b3" class="i property">VerticalAlignment</a> = <a href="@0@PresentationFramework/A.html#8b1564c617a0b2f5" class="t t">VerticalAlignment</a>.<a href="@0@PresentationFramework/A.html#96f92478ccd71cba" class="i field">Top</a>;

            <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>.<a href="@0@PresentationFramework/A.html#de04758e1f9a09ed" class="i property">SelectionMode</a> = <a href="@0@PresentationFramework/A.html#19ccee7b14f1131b" class="t t">CalendarSelectionMode</a>.<a href="@0@PresentationFramework/A.html#0548c4083bedbdaf" class="i field">SingleDate</a>;
            <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>.<a href="@0@PresentationFramework/A.html#4242be780b056320" class="i method">SetBinding</a>(<a href="@0@PresentationFramework/A.html#be72c436b94f4eba" class="i field">ForegroundProperty</a>, <a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#826ce29371aacb5b" class="i method">GetBinding</a>(<a href="@0@PresentationFramework/A.html#be72c436b94f4eba" class="i field">ForegroundProperty</a>));
            <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>.<a href="@0@PresentationFramework/A.html#4242be780b056320" class="i method">SetBinding</a>(<a href="@0@PresentationFramework/A.html#bad73be985bb1fd6" class="i field">StyleProperty</a>, <a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#826ce29371aacb5b" class="i method">GetBinding</a>(<a href="#8f41eff8fc54c0c9" class="i field">CalendarStyleProperty</a>));
            <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>.<a href="@0@PresentationFramework/A.html#4242be780b056320" class="i method">SetBinding</a>(<a href="@0@PresentationFramework/A.html#1ab6ece416ca0244" class="t t">Calendar</a>.<a href="@0@PresentationFramework/A.html#bd60fc7b8ea3cc85" class="i field">IsTodayHighlightedProperty</a>, <a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#826ce29371aacb5b" class="i method">GetBinding</a>(<a href="#303a3d7a69f80746" class="i field">IsTodayHighlightedProperty</a>));
            <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>.<a href="@0@PresentationFramework/A.html#4242be780b056320" class="i method">SetBinding</a>(<a href="@0@PresentationFramework/A.html#1ab6ece416ca0244" class="t t">Calendar</a>.<a href="@0@PresentationFramework/A.html#f72adb4fd7c30359" class="i field">FirstDayOfWeekProperty</a>, <a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#826ce29371aacb5b" class="i method">GetBinding</a>(<a href="#5dd3ac8d6680f3d3" class="i field">FirstDayOfWeekProperty</a>));
            <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>.<a href="@0@PresentationFramework/A.html#4242be780b056320" class="i method">SetBinding</a>(<a href="@0@PresentationFramework/A.html#1ab6ece416ca0244" class="t t">Calendar</a>.<a href="@0@PresentationFramework/A.html#c5253adaf576d823" class="i field">SelectedDateProperty</a>, <a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#826ce29371aacb5b" class="i method">GetBinding</a>(<a href="TimePickerBase.cs.html#a067806ca275c70a" class="i field">SelectedDateTimeProperty</a>, <a href="@0@PresentationFramework/A.html#8958b7cd4de86635" class="t t">BindingMode</a>.<a href="@0@PresentationFramework/A.html#d8c0c0945280d35d" class="i field">OneWay</a>));
            <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>.<a href="@0@PresentationFramework/A.html#4242be780b056320" class="i method">SetBinding</a>(<a href="@0@PresentationFramework/A.html#1ab6ece416ca0244" class="t t">Calendar</a>.<a href="@0@PresentationFramework/A.html#2e94f3b0f36ed1f1" class="i field">DisplayDateProperty</a>, <a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#826ce29371aacb5b" class="i method">GetBinding</a>(<a href="#b2a7c29559fad68e" class="i field">DisplayDateProperty</a>));
            <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>.<a href="@0@PresentationFramework/A.html#4242be780b056320" class="i method">SetBinding</a>(<a href="@0@PresentationFramework/A.html#1ab6ece416ca0244" class="t t">Calendar</a>.<a href="@0@PresentationFramework/A.html#12b04045788c524e" class="i field">DisplayDateStartProperty</a>, <a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#826ce29371aacb5b" class="i method">GetBinding</a>(<a href="#4a2f3ead38138624" class="i field">DisplayDateStartProperty</a>));
            <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>.<a href="@0@PresentationFramework/A.html#4242be780b056320" class="i method">SetBinding</a>(<a href="@0@PresentationFramework/A.html#1ab6ece416ca0244" class="t t">Calendar</a>.<a href="@0@PresentationFramework/A.html#bdf18d93a18a9dbe" class="i field">DisplayDateEndProperty</a>, <a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#826ce29371aacb5b" class="i method">GetBinding</a>(<a href="#c61cb0788b847f45" class="i field">DisplayDateEndProperty</a>));
            <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>.<a href="@0@PresentationFramework/A.html#4242be780b056320" class="i method">SetBinding</a>(<a href="@0@PresentationFramework/A.html#864f8c717160e654" class="i field">FontFamilyProperty</a>, <a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#826ce29371aacb5b" class="i method">GetBinding</a>(<a href="@0@PresentationFramework/A.html#864f8c717160e654" class="i field">FontFamilyProperty</a>));
            <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>.<a href="@0@PresentationFramework/A.html#4242be780b056320" class="i method">SetBinding</a>(<a href="@0@PresentationFramework/A.html#c8d2ef2e2ec9f087" class="i field">FontSizeProperty</a>, <a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#826ce29371aacb5b" class="i method">GetBinding</a>(<a href="@0@PresentationFramework/A.html#c8d2ef2e2ec9f087" class="i field">FontSizeProperty</a>));
            <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>.<a href="@0@PresentationFramework/A.html#4242be780b056320" class="i method">SetBinding</a>(<a href="@0@PresentationFramework/A.html#acc773aa7c27b252" class="i field">FlowDirectionProperty</a>, <a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#826ce29371aacb5b" class="i method">GetBinding</a>(<a href="@0@PresentationFramework/A.html#acc773aa7c27b252" class="i field">FlowDirectionProperty</a>));

            <a href="@0@PresentationCore/A.html#f907851e1f998ce5" class="t t">RenderOptions</a>.<a href="@0@PresentationCore/A.html#a7c1335d8950359e" class="i method">SetClearTypeHint</a>(<a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>, <a href="@0@PresentationCore/A.html#6304b44f509a7988" class="t t">ClearTypeHint</a>.<a href="@0@PresentationCore/A.html#b074caf3bb44f748" class="i field">Enabled</a>);
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">inheritdoc</span> <span class="c">/&gt;</span>
        <b>public override void</b> <a id="9a5389beda1890b8" href="../../R/9a5389beda1890b8.html" target="n" data-glyph="72,1" class="i method">OnApplyTemplate</a>()
        {
            <b>if</b> (<a href="#366231d70f1b6284" class="k">this</a>.<a href="#b12fa496a54f6e13" class="i field">popupCalendarPresenter</a> <b>is not null</b>)
            {
                <a href="#366231d70f1b6284" class="k">this</a>.<a href="#b12fa496a54f6e13" class="i field">popupCalendarPresenter</a>.<a href="@0@PresentationFramework/A.html#f2b790fa7379d752" class="i property">Content</a> = <b>null</b>;
            }

            <a href="TimePickerBase.cs.html#f962ac5c0ca562af" class="k">base</a>.<a href="TimePickerBase.cs.html#9235c6f16c4fde95" class="i method">OnApplyTemplate</a>();

            <a href="#366231d70f1b6284" class="k">this</a>.<a href="#eeafd1d86770313d" class="i field">popupContainer</a> = <a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@PresentationFramework/A.html#22f3c30930053b81" class="i method">GetTemplateChild</a>(<a href="#f70614be1e890934" class="i field">PART_PopupContainer</a>) <b>as</b> <a href="@0@PresentationFramework/A.html#74647d237fc89a63" class="t t">StackPanel</a>;
            <a href="#366231d70f1b6284" class="k">this</a>.<a href="#eeafd1d86770313d" class="i field">popupContainer</a>?.<a href="@0@PresentationFramework/A.html#4242be780b056320" class="i method">SetBinding</a>(<a href="@0@PresentationFramework/A.html#74647d237fc89a63" class="t t">StackPanel</a>.<a href="@0@PresentationFramework/A.html#173161a801ee6c6d" class="i field">OrientationProperty</a>, <a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#826ce29371aacb5b" class="i method">GetBinding</a>(<a href="#67a47e366e52fcc1" class="i field">OrientationProperty</a>));

            <a href="#366231d70f1b6284" class="k">this</a>.<a href="#b12fa496a54f6e13" class="i field">popupCalendarPresenter</a> = <a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@PresentationFramework/A.html#22f3c30930053b81" class="i method">GetTemplateChild</a>(<a href="#934329e292489d75" class="i field">PART_Calendar</a>) <b>as</b> <a href="@0@PresentationFramework/A.html#8da8a698bf05f44a" class="t t">ContentPresenter</a>;
            <b>if</b> (<a href="#366231d70f1b6284" class="k">this</a>.<a href="#b12fa496a54f6e13" class="i field">popupCalendarPresenter</a> <b>is not null</b>)
            {
                <a href="#366231d70f1b6284" class="k">this</a>.<a href="#b12fa496a54f6e13" class="i field">popupCalendarPresenter</a>.<a href="@0@PresentationFramework/A.html#f2b790fa7379d752" class="i property">Content</a> = <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>;
            }
        }

        <b>private static void</b> <a id="3638fa67b161ba04" href="../../R/3638fa67b161ba04.html" target="n" data-glyph="76,1" class="i method">CalendarPreviewMouseUp</a>(<b>object</b> <span id="r5 rd" class="r5 r">sender</span>, <a href="@0@PresentationCore/A.html#8df546d93b7c55df" class="t t">MouseButtonEventArgs</a> <span id="r6 rd" class="r6 r">e</span>)
        {
            <b>if</b> (<a href="@0@PresentationCore/A.html#580181d27512685c" class="t t">Mouse</a>.<a href="@0@PresentationCore/A.html#a22e4ec3b63b1c78" class="i property">Captured</a> <b>is</b> <a href="@0@PresentationFramework/A.html#692a352636f8dfd2" class="t t">CalendarItem</a>)
            {
                <a href="@0@PresentationCore/A.html#580181d27512685c" class="t t">Mouse</a>.<a href="@0@PresentationCore/A.html#22f90a54e95dcc06" class="i method">Capture</a>(<b>null</b>);
            }
        }

        <b>private void</b> <a id="2b558f70e0da8651" href="../../R/2b558f70e0da8651.html" target="n" data-glyph="76,1" class="i method">CalendarDisplayDateChanged</a>(<b>object</b>? <span id="r7 rd" class="r7 r">sender</span>, <a href="@0@PresentationFramework/A.html#423b5d2fd6d2321c" class="t t">CalendarDateChangedEventArgs</a> <span id="r8 rd" class="r8 r">e</span>)
        {
            <b>if</b> (<span class="r8 r">e</span>.<a href="@0@PresentationFramework/A.html#1b66d1f9b8b21462" class="i property">AddedDate</a>.<a href="@0@mscorlib/A.html#7bbe60e33e857298" class="i property">HasValue</a> &amp;&amp; <span class="r8 r">e</span>.<a href="@0@PresentationFramework/A.html#1b66d1f9b8b21462" class="i property">AddedDate</a>.<a href="@0@mscorlib/A.html#7b38d1fa76071c95" class="i property">Value</a> != <a href="#366231d70f1b6284" class="k">this</a>.<a href="#c8a6c7f4155fc9b6" class="i property">DisplayDate</a>)
            {
                <a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#abf250e9e5452be5" class="i method">SetCurrentValue</a>(<a href="#b2a7c29559fad68e" class="i field">DisplayDateProperty</a>, <span class="r8 r">e</span>.<a href="@0@PresentationFramework/A.html#1b66d1f9b8b21462" class="i property">AddedDate</a>.<a href="@0@mscorlib/A.html#7b38d1fa76071c95" class="i property">Value</a>);
            }
        }

        <b>private void</b> <a id="51da5df595d9b596" href="../../R/51da5df595d9b596.html" target="n" data-glyph="76,1" class="i method">CalendarPreviewKeyDown</a>(<b>object</b>? <span id="r9 rd" class="r9 r">sender</span>, <a href="@0@PresentationCore/A.html#3089ebf2139eba9d" class="t t">RoutedEventArgs</a> <span id="r10 rd" class="r10 r">e</span>)
        {
            <a href="@0@PresentationCore/A.html#0d2ce926f5cfc74b" class="k">var</a> <span id="r11 rd" class="r11 r">keyEventArgs</span> = (<a href="@0@PresentationCore/A.html#0d2ce926f5cfc74b" class="t t">KeyEventArgs</a>)<span class="r10 r">e</span>;

            <a href="@0@System/A.html#632c6da37ce825df" class="t t">Debug</a>.<a href="@0@System/A.html#74ae7c85c0e36e34" class="i method">Assert</a>(<span class="r11 r">keyEventArgs</span> != <b>null</b>);

            <b>if</b> (<span class="r11 r">keyEventArgs</span> <b>is not null</b> 
                &amp;&amp; <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a> <b>is not null</b>
                &amp;&amp; (<span class="r11 r">keyEventArgs</span>.<a href="@0@PresentationCore/A.html#102560189e85fa41" class="i property">Key</a> == <a href="@0@WindowsBase/A.html#8e0d9266dee78287" class="t t">Key</a>.<a href="@0@WindowsBase/A.html#51a26d8f82f371eb" class="i field">Escape</a> || ((<span class="r11 r">keyEventArgs</span>.<a href="@0@PresentationCore/A.html#102560189e85fa41" class="i property">Key</a> == <a href="@0@WindowsBase/A.html#8e0d9266dee78287" class="t t">Key</a>.<a href="@0@WindowsBase/A.html#38a06ab0ee7279d0" class="i field">Enter</a> || <span class="r11 r">keyEventArgs</span>.<a href="@0@PresentationCore/A.html#102560189e85fa41" class="i property">Key</a> == <a href="@0@WindowsBase/A.html#8e0d9266dee78287" class="t t">Key</a>.<a href="@0@WindowsBase/A.html#692aebff3e077477" class="i field">Space</a>) &amp;&amp; <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>.<a href="@0@PresentationFramework/A.html#b964321d07aff4a2" class="i property">DisplayMode</a> == <a href="@0@PresentationFramework/A.html#a07966a7789ce39a" class="t t">CalendarMode</a>.<a href="@0@PresentationFramework/A.html#834ac78c531805c5" class="i field">Month</a>)))
            {
                <a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#abf250e9e5452be5" class="i method">SetCurrentValue</a>(<a href="TimePickerBase.cs.html#80ada6b4da10498e" class="i field">IsDropDownOpenProperty</a>, <a href="../../ValueBoxes/BooleanBoxes.cs.html#1ea22ba96a3431b4" class="t t">BooleanBoxes</a>.<a href="../../ValueBoxes/BooleanBoxes.cs.html#c31dc20d3767829d" class="i field">FalseBox</a>);
                <b>if</b> (<span class="r11 r">keyEventArgs</span>.<a href="@0@PresentationCore/A.html#102560189e85fa41" class="i property">Key</a> == <a href="@0@WindowsBase/A.html#8e0d9266dee78287" class="t t">Key</a>.<a href="@0@WindowsBase/A.html#51a26d8f82f371eb" class="i field">Escape</a>)
                {
                    <a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#abf250e9e5452be5" class="i method">SetCurrentValue</a>(<a href="TimePickerBase.cs.html#a067806ca275c70a" class="i field">SelectedDateTimeProperty</a>, <a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#22ca06e4bedf14f6" class="i field">originalSelectedDateTime</a>);
                }
            }
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">inheritdoc</span> <span class="c">/&gt;</span>
        <b>protected override void</b> <a id="df012ef71c8ce108" href="../../R/df012ef71c8ce108.html" target="n" data-glyph="75,1" class="i method">OnPopUpOpened</a>()
        {
            <b>if</b> (<a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a> != <b>null</b>)
            {
                <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>.<a href="@0@PresentationFramework/A.html#b964321d07aff4a2" class="i property">DisplayMode</a> = <a href="@0@PresentationFramework/A.html#a07966a7789ce39a" class="t t">CalendarMode</a>.<a href="@0@PresentationFramework/A.html#834ac78c531805c5" class="i field">Month</a>;
                <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>.<a href="@0@PresentationFramework/A.html#f15dd6233efe12dd" class="i method">MoveFocus</a>(<b>new</b> <a href="@0@WindowsBase/A.html#5ba24fcf9a647b04" class="t constructor">TraversalRequest</a>(<a href="@0@WindowsBase/A.html#487028c6b36f5066" class="t t">FocusNavigationDirection</a>.<a href="@0@WindowsBase/A.html#5379d8a074611858" class="i field">First</a>));
            }
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">inheritdoc</span> <span class="c">/&gt;</span>
        <b>protected override void</b> <a id="ce08cb8a0f863b99" href="../../R/ce08cb8a0f863b99.html" target="n" data-glyph="75,1" class="i method">OnPopUpClosed</a>()
        {
            <b>if</b> (<a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>?.<a href="@0@PresentationCore/A.html#731d700ccd201ec4" class="i property">IsKeyboardFocusWithin</a> == <b>true</b>)
            {
                <a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@PresentationFramework/A.html#f15dd6233efe12dd" class="i method">MoveFocus</a>(<b>new</b> <a href="@0@WindowsBase/A.html#5ba24fcf9a647b04" class="t constructor">TraversalRequest</a>(<a href="@0@WindowsBase/A.html#487028c6b36f5066" class="t t">FocusNavigationDirection</a>.<a href="@0@WindowsBase/A.html#5379d8a074611858" class="i field">First</a>));
            }
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">inheritdoc</span> <span class="c">/&gt;</span>
        <b>protected override void</b> <a id="11a603f4f9d33c64" href="../../R/11a603f4f9d33c64.html" target="n" data-glyph="75,1" class="i method">ApplyCulture</a>()
        {
            <a href="TimePickerBase.cs.html#f962ac5c0ca562af" class="k">base</a>.<a href="TimePickerBase.cs.html#c42bd97e35fb33a5" class="i method">ApplyCulture</a>();

            <a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#abf250e9e5452be5" class="i method">SetCurrentValue</a>(<a href="#5dd3ac8d6680f3d3" class="i field">FirstDayOfWeekProperty</a>, <a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#44c5105f9f83d110" class="i property">SpecificCultureInfo</a>.<a href="@0@mscorlib/A.html#c304dc8d9f56cc87" class="i property">DateTimeFormat</a>.<a href="@0@mscorlib/A.html#79ad255cdaf92ecf" class="i property">FirstDayOfWeek</a>);
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">inheritdoc</span> <span class="c">/&gt;</span>
        <b>protected override string</b>? <a id="98b8629f6d2d52a5" href="../../R/98b8629f6d2d52a5.html" target="n" data-glyph="75,1" class="i method">GetValueForTextBox</a>()
        {
            <a href="@0@mscorlib/A.html#a1da93c5a4a8c4e3" class="k">var</a> <span id="r12 rd" class="r12 r">formatInfo</span> = <a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#44c5105f9f83d110" class="i property">SpecificCultureInfo</a>.<a href="@0@mscorlib/A.html#c304dc8d9f56cc87" class="i property">DateTimeFormat</a>;
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r13 rd" class="r13 r">timeFormat</span> = <a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#92cdcc3fb5b6e849" class="i property">SelectedTimeFormat</a> == <a href="TimePickerFormat.cs.html#92b6dee399baf655" class="t t">TimePickerFormat</a>.<a href="TimePickerFormat.cs.html#0a7e57ad2f858f62" class="i field">Long</a> ? <span class="r12 r">formatInfo</span>.<a href="@0@mscorlib/A.html#f0a6c86907468282" class="i property">LongTimePattern</a> : <span class="r12 r">formatInfo</span>.<a href="@0@mscorlib/A.html#cb98ae35ca3ddc4e" class="i property">ShortTimePattern</a>;
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r14 rd" class="r14 r">dateFormat</span> = <a href="#366231d70f1b6284" class="k">this</a>.<a href="#7dbfa45149c726a7" class="i property">SelectedDateFormat</a> == <a href="@0@PresentationFramework/A.html#2dd930a3d7f54b3c" class="t t">DatePickerFormat</a>.<a href="@0@PresentationFramework/A.html#ee86c64aee815e79" class="i field">Long</a> ? <span class="r12 r">formatInfo</span>.<a href="@0@mscorlib/A.html#16cd64fb02b12b65" class="i property">LongDatePattern</a> : <span class="r12 r">formatInfo</span>.<a href="@0@mscorlib/A.html#5d73127cb44392bc" class="i property">ShortDatePattern</a>;

            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r15 rd" class="r15 r">dateTimeFormat</span> = <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">string</a>.<a href="@0@mscorlib/A.html#35ad134a8d383542" class="i method">Intern</a>(<span class="s">$&quot;</span>{<span class="r14 r">dateFormat</span>}<span class="s"> </span>{<span class="r13 r">timeFormat</span>}<span class="s">&quot;</span>);

            <a href="@0@mscorlib/A.html#ffebe438fd9cbf0e" class="k">var</a> <span id="r16 rd" class="r16 r">selectedDateTimeFromGui</span> = <a href="#366231d70f1b6284" class="k">this</a>.<a href="#0add4c55bb6c317e" class="i method">GetSelectedDateTimeFromGUI</a>();
            <a href="@0@mscorlib/A.html#8281103e6f23cb5c" class="k">var</a> <span id="r17 rd" class="r17 r">valueForTextBox</span> = <span class="r16 r">selectedDateTimeFromGui</span>?.<a href="@0@mscorlib/A.html#1ecc4a05169eccb8" class="i method">ToString</a>(<span class="r15 r">dateTimeFormat</span>, <a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#44c5105f9f83d110" class="i property">SpecificCultureInfo</a>);
            <b>return</b> <span class="r17 r">valueForTextBox</span>;
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">inheritdoc</span> <span class="c">/&gt;</span>
        <b>protected override void</b> <a id="85d1862cc302b9ee" href="../../R/85d1862cc302b9ee.html" target="n" data-glyph="75,1" class="i method">SetSelectedDateTime</a>()
        {
            <b>if</b> (<a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#c4606050a3cb55e2" class="i field">textBox</a> <b>is null</b>)
            {
                <b>return</b>;
            }

            <b>if</b> (<a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>.<a href="@0@mscorlib/A.html#bb5bf8221a9b43fc" class="i method">TryParse</a>(<a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#c4606050a3cb55e2" class="i field">textBox</a>.<a href="@0@PresentationFramework/A.html#7b5be95f7a8f33a8" class="i property">Text</a>, <a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#44c5105f9f83d110" class="i property">SpecificCultureInfo</a>, <span class="i n">System</span>.<span class="i n">Globalization</span>.<a href="@0@mscorlib/A.html#0052cfe5031c0372" class="t t">DateTimeStyles</a>.<a href="@0@mscorlib/A.html#c5813bdd9813aef3" class="i field">None</a>, <b>out</b> <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="k">var</a> <span id="r18 rd" class="r18 r">dateTime</span>))
            {
                <a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#abf250e9e5452be5" class="i method">SetCurrentValue</a>(<a href="TimePickerBase.cs.html#a067806ca275c70a" class="i field">SelectedDateTimeProperty</a>, <span class="r18 r">dateTime</span>);
                <a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#abf250e9e5452be5" class="i method">SetCurrentValue</a>(<a href="#b2a7c29559fad68e" class="i field">DisplayDateProperty</a>, <span class="r18 r">dateTime</span>);
            }
            <b>else</b>
            {
                <a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#abf250e9e5452be5" class="i method">SetCurrentValue</a>(<a href="TimePickerBase.cs.html#a067806ca275c70a" class="i field">SelectedDateTimeProperty</a>, <b>null</b>);
                <b>if</b> (<a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#3dc010efe03b0f45" class="i property">SelectedDateTime</a> == <b>null</b>)
                {
                    <span class="c">// if already null, overwrite wrong data in textbox</span>
                    <a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#76066ce36f09bf2c" class="i method">WriteValueToTextBox</a>();
                }
            }
        }

        <b>private static void</b> <a id="78deefd40cc73b4c" href="../../R/78deefd40cc73b4c.html" target="n" data-glyph="76,1" class="i method">OnClockVisibilityChanged</a>(<a href="@0@WindowsBase/A.html#3ce192f6633decc8" class="t t">DependencyObject</a> <span id="r19 rd" class="r19 r">d</span>, <a href="@0@WindowsBase/A.html#71a1a16823f70b8c" class="t t">DependencyPropertyChangedEventArgs</a> <span id="r20 rd" class="r20 r">e</span>)
        {
            <span class="r19 r">d</span>.<a href="@0@WindowsBase/A.html#d7d60b06f633a857" class="i method">CoerceValue</a>(<a href="#67a47e366e52fcc1" class="i field">OrientationProperty</a>);
        }

        <b>private void</b> <a id="487cf7100847d7c7" href="../../R/487cf7100847d7c7.html" target="n" data-glyph="76,1" class="i method">CalendarSelectedDateChanged</a>(<b>object</b>? <span id="r21 rd" class="r21 r">sender</span>, <a href="@0@PresentationFramework/A.html#c488465397cb1452" class="t t">SelectionChangedEventArgs</a> <span id="r22 rd" class="r22 r">e</span>)
        {
            <b>if</b> (<span class="r22 r">e</span>.<a href="@0@PresentationFramework/A.html#c18179aafc009668" class="i property">AddedItems</a>.<a href="@0@mscorlib/A.html#e961aba0053db107" class="i property">Count</a> &gt; 0 &amp;&amp; <a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#3dc010efe03b0f45" class="i property">SelectedDateTime</a>.<a href="@0@mscorlib/A.html#7bbe60e33e857298" class="i property">HasValue</a> &amp;&amp; <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>.<a href="@0@mscorlib/A.html#673a21395e1ac1ad" class="i method">Compare</a>((<a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>?)<span class="r22 r">e</span>.<a href="@0@PresentationFramework/A.html#c18179aafc009668" class="i property">AddedItems</a>[0] ?? <b>default</b>, <a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#3dc010efe03b0f45" class="i property">SelectedDateTime</a>.<a href="@0@mscorlib/A.html#7b38d1fa76071c95" class="i property">Value</a>) != 0)
            {
                <a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#abf250e9e5452be5" class="i method">SetCurrentValue</a>(<a href="TimePickerBase.cs.html#a067806ca275c70a" class="i field">SelectedDateTimeProperty</a>, (<a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>?)<span class="r22 r">e</span>.<a href="@0@PresentationFramework/A.html#c18179aafc009668" class="i property">AddedItems</a>[0] + <a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#21173595590b55c6" class="i method">GetSelectedTimeFromGUI</a>());
            }
            <b>else</b>
            {
                <b>if</b> (<span class="r22 r">e</span>.<a href="@0@PresentationFramework/A.html#c18179aafc009668" class="i property">AddedItems</a>.<a href="@0@mscorlib/A.html#e961aba0053db107" class="i property">Count</a> == 0)
                {
                    <a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#abf250e9e5452be5" class="i method">SetCurrentValue</a>(<a href="TimePickerBase.cs.html#a067806ca275c70a" class="i field">SelectedDateTimeProperty</a>, (<a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>?)<b>null</b>);
                    <b>return</b>;
                }

                <b>if</b> (!<a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#3dc010efe03b0f45" class="i property">SelectedDateTime</a>.<a href="@0@mscorlib/A.html#7bbe60e33e857298" class="i property">HasValue</a>)
                {
                    <b>if</b> (<span class="r22 r">e</span>.<a href="@0@PresentationFramework/A.html#c18179aafc009668" class="i property">AddedItems</a>.<a href="@0@mscorlib/A.html#e961aba0053db107" class="i property">Count</a> &gt; 0)
                    {
                        <a href="#366231d70f1b6284" class="k">this</a>.<a href="@0@WindowsBase/A.html#abf250e9e5452be5" class="i method">SetCurrentValue</a>(<a href="TimePickerBase.cs.html#a067806ca275c70a" class="i field">SelectedDateTimeProperty</a>, (<a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>?)<span class="r22 r">e</span>.<a href="@0@PresentationFramework/A.html#c18179aafc009668" class="i property">AddedItems</a>[0] + <a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#21173595590b55c6" class="i method">GetSelectedTimeFromGUI</a>());
                    }
                }
            }
        }

        <span class="c">///</span><span class="c"> </span><span class="c">&lt;</span><span class="c">inheritdoc</span> <span class="c">/&gt;</span>
        <b>protected override void</b> <a id="550f2864b7ae8071" href="../../R/550f2864b7ae8071.html" target="n" data-glyph="75,1" class="i method">OnSelectedDateTimeChanged</a>(<a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>? <span id="r23 rd" class="r23 r">oldValue</span>, <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>? <span id="r24 rd" class="r24 r">newValue</span>)
        {
            <a href="#366231d70f1b6284" class="k">this</a>.<a href="#32594bb7fadfd232" class="i field">calendar</a>?.<a href="@0@WindowsBase/A.html#abf250e9e5452be5" class="i method">SetCurrentValue</a>(<a href="@0@PresentationFramework/A.html#1ab6ece416ca0244" class="t t">Calendar</a>.<a href="@0@PresentationFramework/A.html#c5253adaf576d823" class="i field">SelectedDateProperty</a>, <span class="r24 r">newValue</span>);

            <a href="TimePickerBase.cs.html#f962ac5c0ca562af" class="k">base</a>.<a href="TimePickerBase.cs.html#62def1e544aad159" class="i method">OnSelectedDateTimeChanged</a>(<span class="r23 r">oldValue</span>, <span class="r24 r">newValue</span>);
        }

        <b>private</b> <a href="@0@mscorlib/A.html#df6b1eba7461813b" class="t t">DateTime</a>? <a id="0add4c55bb6c317e" href="../../R/0add4c55bb6c317e.html" target="n" data-glyph="76,1" class="i method">GetSelectedDateTimeFromGUI</a>()
        {
            <span class="c">// Because Calendar.SelectedDate is bound to this.SelectedDate return this.SelectedDate</span>
            <a href="@0@mscorlib/A.html#ffebe438fd9cbf0e" class="k">var</a> <span id="r25 rd" class="r25 r">selectedDate</span> = <a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#3dc010efe03b0f45" class="i property">SelectedDateTime</a>;
            <b>if</b> (<span class="r25 r">selectedDate</span> != <b>null</b>)
            {
                <b>return</b> <span class="r25 r">selectedDate</span>.<a href="@0@mscorlib/A.html#7b38d1fa76071c95" class="i property">Value</a>.<a href="@0@mscorlib/A.html#92aa9b2917a74e91" class="i property">Date</a> + <a href="#366231d70f1b6284" class="k">this</a>.<a href="TimePickerBase.cs.html#21173595590b55c6" class="i method">GetSelectedTimeFromGUI</a>().<a href="@0@mscorlib/A.html#8b928034cfee7d43" class="i method">GetValueOrDefault</a>();
            }

            <b>return</b> <b>null</b>;
        }
    }
}</pre></td></tr></table></div></body></html>
