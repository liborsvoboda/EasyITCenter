@using ServerCorePages
@using System.Security.Claims

@{

    ServerModuleAndServiceList? serverModule = null; ServerWebPagesToken? webpagestoken = null; string? portalRedirect = null;
    try { serverModule = ((ServerModuleAndServiceList?)Context.Items.FirstOrDefault(a => a.Key.ToString() == "ServerModule").Value); } catch { }
    try { webpagestoken = ((ServerWebPagesToken?)Context.Items.FirstOrDefault(a => a.Key.ToString() == "ServerWebPagesToken").Value); } catch { }
    try { portalRedirect = Context.Items.FirstOrDefault(a => a.Key.ToString() == "PortalRedirect").Value?.ToString(); } catch { }



    if (Context.Request.Path.StartsWithSegments("/easydata", StringComparison.OrdinalIgnoreCase)) {
        Layout = "_CleanLayout.cshtml";
    }
    // else if (serverModule != null && serverModule.InheritedLayoutType.ToLower() == "globalLayout") {
    //     Layout = "_CentralLayout.cshtml";
    // }
    // else if (serverModule != null && serverModule.InheritedLayoutType.ToLower() == "centrallayout") {
    //     Layout = "_CentralLayout.cshtml";
    // }
    // else if (serverModule != null && serverModule.InheritedLayoutType.ToLower() == "multilanglayout") {
    //     Layout = "_CentralLayout.cshtml";
    // }
    // else if (serverModule != null && serverModule.InheritedLayoutType.ToLower() == "modulelayout") {
    //     Layout = "_CentralLayout.cshtml";
    // }
    // else if (serverModule != null && serverModule.InheritedLayoutType.ToLower() == "cleanpagelayout") {
    //     Layout = "_CentralLayout.cshtml";
    // }
    else {
        Layout = "_CentralLayout.cshtml";
    }
}
