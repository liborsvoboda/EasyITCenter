@page "/ServerCoreTools/HtmlEditor"
@{ Layout = "/ServerCorePages/Shared/HtmlFileEditorLayout.cshtml"; }

@addTagHelper *, WebOptimizer.Core
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@addTagHelper *, Westwind.AspNetCore.Markdown

@using ServerCorePages;
@using Microsoft.AspNetCore.Html;
@using EasyITCenter.DBModel;
@using EasyITCenter.ServerCoreWebPages;
@using EasyITCenter.ServerCoreStructure;
@using System.Security.Claims;
@using Westwind.AspNetCore.Markdown
@model ServerCorePages.HtmlFileEditorModel
@{

    // @Html.AntiForgeryToken()

    // var request = HttpContext.Request;
    // var _baseURL = $"{request.Scheme}://{request.Host}";
    // var fullUrl = _baseURL + HttpContext.Request.Path + HttpContext.Request.QueryString;

    string? sourcePath = HttpContext.Items.FirstOrDefault(a => a.Key.ToString() == "RequestedModulePath").Value?.ToString();
    ServerModuleAndServiceList? serverModule = ((ServerModuleAndServiceList?)HttpContext.Items.FirstOrDefault(a => a.Key.ToString() == "ServerModule").Value);
    ServerWebPagesToken? webpagestoken = ((ServerWebPagesToken?)HttpContext.Items.FirstOrDefault(a => a.Key.ToString() == "ServerWebPagesToken").Value);
}



@* @(Html.Raw(this.Model.GetManagedJsScriptsForLayout().ViewName)) *@

@if (this.BodyContent != null) {
    Html.Raw(this.BodyContent);
}
