<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>FIY Reporting</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="SolutionsVisions&Ideas.html">Solutions Visions & Ideas</a></li><li class="chapter-item expanded affix "><a href="AUTO_STEPS_Look_First.html">Automatic Steps</a></li><li class="chapter-item expanded affix "><a href="3rdPartyVisionsTips.html">3rd Party Visions & Tips</a></li><li class="chapter-item expanded affix "><a href="OS_System_Git_Gcloud_Help.html">OS_Systems Git Gcloud Docker Help</a></li><li class="chapter-item expanded affix "><a href="General_Problems_Help.html">General Problems Help</a></li><li class="chapter-item expanded affix "><a href="SolutionsChangeLog.html">Solutions Change Log</a></li><li class="chapter-item expanded affix "><a href="PriceList.html">Price List</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="EASYDATACENTER_Code_Help.html">EASYDATACenter Developer Help</a></li><li class="chapter-item expanded affix "><a href="DATABASES.html">Databases</a></li><li class="chapter-item expanded affix "><a href="SolutionsVisions&Ideas.html">Solutions Visions & Ideas</a></li><li class="chapter-item expanded affix "><a href="FullCodeInfo/EASYDATACenterFullCodeDocs.html">EASYDATACenter Full Code Help</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="EASYSYSTEMBuilder_Code_Help.html">EASYSYSTEMBuilder Developer Help</a></li><li class="chapter-item expanded affix "><a href="CoreStructureDefinition.html">Core Structure Definition</a></li><li class="chapter-item expanded affix "><a href="EASYTools_3rdFreeAddons.html">EASYTools 3rdFree Addons</a></li><li class="chapter-item expanded affix "><a href="FIYReporting.html" class="active">FIY Reporting</a></li><li class="chapter-item expanded affix "><a href="FullCodeInfo/EASYSYSTEMBuilderFullCodeDocs.html">EASYSYSTEMBuilder Full Code Help</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="index.html">Signpost - README</a></li><li class="spacer"></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h3 id="fyi-reporting----freeware-full-report-designer-and-viewer"><a class="header" href="#fyi-reporting----freeware-full-report-designer-and-viewer">FYI Reporting  - FreeWare Full Report Designer and Viewer</a></h3>
<p>for Printing All document Types with Images, Barcodes, EAN, QR, Graphs, SubReport, etc.</p>
<h2 id="important-info-for-report-develop"><a class="header" href="#important-info-for-report-develop">IMPORTANT INFO FOR REPORT DEVELOP</a></h2>
<ul>
<li>Reports are for developping setted Default Parameters.</li>
<li>If the report is called from the system - All parameters are replaced by system sended params</li>
<li>Each Report can has more Datasets  (subreports not need for Header/Items Views)</li>
<li>More Examples are Defined</li>
<li>Full Developing of new reports are supported</li>
<li>Included commandline Tool, Report Viewer, Report Designer</li>
</ul>
<h3 id="joining-with-easysystembuilder---calling-reports"><a class="header" href="#joining-with-easysystembuilder---calling-reports">JOINING WITH EASYSYSTEMBuilder - Calling Reports</a></h3>
<pre><code>Directly - System sending these parameters directly to opening Report
    connectionString [Connect] - For Report connection to Database
    table name [TableName] - primary tablename from datalist
    record ID [Id] - Selected record Id
    Simple Search Parameter [Search] - For simple search in Datalist Fields
    
Over DB  - System save all filter informations to table 'ReportQueueList' and 
           to all record with has selected Datalist Table. 
           After Saving to DB is Called open Report. Its for Reports with using DB  
           procedure 'ReportDataset' for Full DB defined Data Selections
           Direct parameters not need for this using
</code></pre>
<h3 id="easysystembuilder-system-conditions-for-reports"><a class="header" href="#easysystembuilder-system-conditions-for-reports">EASYSYSTEMBuilder SYSTEM Conditions for Reports</a></h3>
<ul>
<li>
<p>Connection String is Defined in setting for All reports in Application (Client) </p>
</li>
<li>
<p>All APIUrls with 'List' word on end are automaticaly added for insert Report for this Table</p>
</li>
<li>
<p>All System reports are Saved in Database - table 'ReportList'</p>
</li>
<li>
<p>For Print is downloaded and open with direct params everyTime</p>
</li>
<li>
<p>'ReportQueueList' Definitions is second method for Print report,<br />
which the definition is full in DB (can be defined multi Datasets)</p>
</li>
<li>
<p>Report can combine both method for Load Datasets (Over stored procedure or direct selection with params)</p>
</li>
<li>
<p>Print Report Action you can set for Record Selection Only</p>
</li>
<li>
<p>Unlimited Print Reports you Define for Primary Table - DataList</p>
</li>
<li>
<p>System has these joins: Datalist, Rec ID, simple Search, Advanced Search</p>
</li>
<li>
<p>Each join [param] can be separated for run alone or combined with others</p>
</li>
<li>
<p>Full SQL and SQLexec are supported</p>
</li>
</ul>
<h3 id="print-example-from-cmd-with-parameters"><a class="header" href="#print-example-from-cmd-with-parameters">Print example from CMD with parameters</a></h3>
<p>&quot;RdlReader.exe&quot; &quot;C:\WorkListPrint.rdl&quot; -p &quot;&amp;Search=%%&amp;Id=0&quot;</p>
<p>Report has dataset and you can insert field over right mouse/ insert / object /</p>
<p>Expressions
PageBreak ={PersonalNumber} - new page by  each personalNumber</p>
<p>functions in C# not MSSQL</p>
<p>using =&quot;Filter:&quot; + Replace({?Search}, &quot;%&quot;, &quot;&quot;)  - Search is param, replace %%</p>
<h2>for run report mut be set Default values for parameters
=Fields!OperationNumber.Value + &quot; &quot; + {Note}
=Sum({Amount})</h2>
<h3 id="print-sql-examples"><a class="header" href="#print-sql-examples">Print SQL Examples</a></h3>
<pre><code class="language-sql">SET FMTONLY OFF;

SELECT
w.[Id],FORMAT([Date],'MM.yyyy') as Month,
FORMAT([Date],'dd.MM.yyyy') as Date,
CONCAT(FORMAT([Date],'MMyy'),w.[PersonalNumber]) as ListBreak,
w.[PersonalNumber],o.[PartNumber],w.[WorkPlace],w.[OperationNumber],
[WorkTime],[Pcs],[Amount],[WorkPower] ,[Name],[SurName],o.[Note]
FROM [WorkList] w,[PersonList] p,[OperationList] o 
WHERE w.PersonalNumber = p.PersonalNumber AND w.WorkPlace = o.WorkPlace 

AND o.OperationNumber = w.OperationNumber AND
(@Id = 0 AND ((LEN(@Search) &gt; 2 AND w.Id LIKE @Search) OR LEN(@Search) = 2))
OR w.Id = @Id 

ORDER BY w.[Date] ASC, w.PersonalNumber, w.[OperationNumber]
</code></pre>
<pre><code class="language-sql">--Select with simple search and Id selection
SELECT Id, UserName, TerminalName, Description, Timestamp 
FROM LoginHistoryList 
WHERE 1=1 AND (
( @Search &lt;&gt; '%%' AND id LIKE @Search )
OR ( @Search = '%%' AND @Id = 0  )
OR ( @Search = '%%' AND @Id &lt;&gt; 0 AND Id = @Id )
)
</code></pre>
<pre><code class="language-sql">--Selection with direct params
SELECT Id, UserName, TerminalName, Description, Timestamp 
FROM LoginHistoryList 
WHERE 1=1 AND (
( @Search &lt;&gt; '%%' AND id LIKE @Search )
OR ( @Search = '%%' AND @Id = 0  )
OR ( @Search = '%%' AND @Id &lt;&gt; 0 AND Id = @Id )
)
</code></pre>
<pre><code class="language-sql">--Select with advanced Filter

SET FMTONLY OFF;
DECLARE @whereClause NVARCHAR(MAX) = @Filter ;
DECLARE @sql NVARCHAR(MAX) = 'SELECT Id, UserName, TerminalName, Description, Timestamp FROM LoginHistoryList  WHERE @whereClause';

SELECT @sql = REPLACE(@sql, '@whereClause', @whereClause);

EXEC sp_executesql @sql;
</code></pre>
<pre><code class="language-sql">--Selection with ReportQueueList definitions
SET FMTONLY OFF;
EXEC ReportDataset @TableName='tableName', @Sequence='SeqNr' 
</code></pre>
<pre><code class="language-sql">--Selection with Formating and Dials Fields
SET FMTONLY OFF;

SELECT
w.[Id],FORMAT([Date],'MM.yyyy') as Month,
FORMAT([Date],'dd.MM.yyyy') as Date,
CONCAT(FORMAT([Date],'MMyy'),w.[PersonalNumber]) as ListBreak,
w.[PersonalNumber],o.[PartNumber],w.[WorkPlace],w.[OperationNumber],
[WorkTime],[Pcs],[Amount],[WorkPower] ,[Name],[SurName],o.[Note]
FROM [WorkList] w,[PersonList] p,[OperationList] o 
WHERE w.PersonalNumber = p.PersonalNumber AND w.WorkPlace = o.WorkPlace 

AND o.OperationNumber = w.OperationNumber AND
(@Id = 0 AND ((LEN(@Search) &gt; 2 AND w.Id LIKE @Search) OR LEN(@Search) = 2))
OR w.Id = @Id 

ORDER BY w.[Date] ASC, w.PersonalNumber, w.[OperationNumber]
</code></pre>
<hr />
<h2 id="system-printing"><a class="header" href="#system-printing">SYSTEM PRINTING</a></h2>
<ul>
<li>
<p>On Print Request </p>
<ol>
<li>Updated all filters in table 'ReportQueueList' on records for selected table</li>
<li>download from DB and open report with sended these params for Direct SQL support
Params</li>
</ol>
<ul>
<li>Search = Searched Value</li>
<li>Id = Record Id from table</li>
<li>Filter= Setted Filter command in sql syntax after WHERE clause</li>
<li>TableName - selected table Name</li>
<li>Connect - connection string from client settings</li>
</ul>
<ol start="3">
<li>Run report. Done</li>
</ol>
</li>
<li>
<p>Report Types:</p>
<ul>
<li>Alone Report file with ful own SQL command and use params for selection. Examples You can see in edited reports, Instalation folder and Help</li>
<li>Sql defined in ReportQueueList Table, in report is only command: SET FMTONLY OFF;EXEC ReportDataset @TableName='tablename', @Sequence='10'</li>
</ul>
</li>
<li>
<p>Parameters are sending Every Time, For Debuging you can use MSSQL SQL Profiller</p>
</li>
<li>
<p>In database is Saved Stored Procedure: ReportDataset for folded filter, ReportQueueList table is managing</p>
</li>
<li>
<p>All report are shared for selected database</p>
</li>
<li>
<p>Each print is report again downloaded from database for new run</p>
</li>
<li>
<p>Each report can be exported in Reports menu</p>
</li>
<li>
<p>All reports are saved in instalation folder as Examples</p>
</li>
<li>
<p>All reports has same parameters</p>
<p>Dynamic Filtering:</p>
</li>
<li>
<p>For managed SQL command can be 'Search' and 'Id' params ignored = Each Filter working independently
Setted Priority:
1] Combined Filter
2] Id
3] Searched Value (searched columns are rardcoded in 'Filter' method on each Datalist) in Report must be hardcoded again</p>
</li>
<li>
<p>in stored Procedure: 'ReportDataset'
if Both Searfh and Id Ignored - Filter is aply alone
else all cobndition are joined with 'OR' clause for Each Filter setting: 'Id' and 'Search'</p>
<p>Its Prepared for future MultiRows Selection</p>
</li>
<li>
<p>More Info Via Help File FYI Reporting Documentations on Github</p>
</li>
<li>
<p>In one Report you can setted more DATALists = DB SELECTS (Invoice Example - Header/Item)
and you can set any field over Report Parameter for using in all Report Positions</p>
</li>
</ul>
<hr />
<h3 id="markdown-item-template"><a class="header" href="#markdown-item-template">MarkDown Item Template</a></h3>
<pre><code class="language-cs">
</code></pre>
<hr />

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="EASYTools_3rdFreeAddons.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="FullCodeInfo/EASYSYSTEMBuilderFullCodeDocs.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="EASYTools_3rdFreeAddons.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="FullCodeInfo/EASYSYSTEMBuilderFullCodeDocs.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
